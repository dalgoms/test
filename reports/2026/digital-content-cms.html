<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Content CMS | 콘텐츠 제작·관리 시스템</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'Pretendard';
            src: url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        }

        :root {
            --bg-primary: #f4f5f7;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f9fafb;
            --bg-card: #ffffff;
            --border-color: #e5e8eb;
            --border-light: #f2f4f6;
            --text-primary: #191f28;
            --text-secondary: #4e5968;
            --text-muted: #8b95a1;
            --text-disabled: #b0b8c1;
            --toss-blue: #3182f6;
            --toss-blue-light: #e8f3ff;
            --toss-blue-dark: #1b64da;
            --accent-green: #00c73c;
            --accent-green-light: #e8fff0;
            --accent-orange: #f59e0b;
            --accent-orange-light: #fff8e8;
            --accent-red: #f04452;
            --accent-red-light: #ffebee;
            --accent-purple: #6366f1;
            --accent-purple-light: #f0f0ff;
            --accent-cyan: #06b6d4;
            --accent-cyan-light: #e8fafb;
            --accent-pink: #ec4899;
            --accent-pink-light: #ffeef6;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-xl: 0 8px 30px rgba(0, 0, 0, 0.12);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            zoom: 1.5;
        }

        /* App Layout */
        .app-container {
            display: flex;
            min-height: 100vh;
            width: 100%;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 180px;
            min-width: 180px;
            max-width: 180px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 200;
        }

        .sidebar-header {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-logo-icon {
            width: 28px;
            height: 28px;
            background: var(--toss-blue);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            color: white;
        }

        .sidebar-logo-text {
            font-size: 13px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .sidebar-nav {
            flex: 1;
            padding: 10px 8px;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: 16px;
        }

        .nav-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 12px;
            margin-bottom: 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s;
            text-decoration: none;
        }

        .nav-item:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .nav-item-badge {
            margin-left: auto;
            background: var(--accent-red);
            color: white;
            font-size: 11px;
            font-weight: 600;
            padding: 2px 7px;
            border-radius: 10px;
        }

        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid var(--border-color);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.15s;
        }

        .user-profile:hover {
            background: var(--bg-tertiary);
        }

        .user-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--toss-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            color: white;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .user-role {
            font-size: 10px;
            color: var(--text-muted);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 180px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            max-width: calc(100vw - 180px);
            overflow-x: hidden;
        }

        .main-content.panel-open {
            max-width: calc(100vw - 260px - 320px);
        }

        /* Right Panel */
        .right-panel {
            width: 320px;
            min-width: 320px;
            max-width: 320px;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            padding: 20px;
            overflow-y: auto;
            position: fixed;
            right: 0;
            top: 0;
            bottom: 0;
            z-index: 150;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .right-panel.active {
            transform: translateX(0);
        }

        .panel-section {
            margin-bottom: 28px;
        }

        .panel-section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .panel-section-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .panel-section-action {
            font-size: 13px;
            color: var(--toss-blue);
            font-weight: 500;
            cursor: pointer;
        }

        /* Deadline Items */
        .deadline-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .deadline-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.15s;
        }

        .deadline-item:hover {
            background: var(--border-color);
        }

        .deadline-item.urgent {
            background: var(--accent-red-light);
        }

        .deadline-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        .deadline-badge.d-day {
            background: var(--accent-red);
            color: white;
        }

        .deadline-badge.d-1 {
            background: var(--accent-orange);
            color: white;
        }

        .deadline-badge.d-2 {
            background: var(--accent-orange-light);
            color: var(--accent-orange);
        }

        .deadline-badge.d-3 {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .deadline-info {
            flex: 1;
            min-width: 0;
        }

        .deadline-title {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .deadline-meta {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        /* Activity Feed */
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .activity-item {
            display: flex;
            gap: 12px;
            padding: 12px;
            border-radius: var(--radius-md);
            transition: all 0.15s;
        }

        .activity-item:hover {
            background: var(--bg-tertiary);
        }

        .activity-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--toss-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }

        .activity-content {
            flex: 1;
            min-width: 0;
        }

        .activity-text {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .activity-text strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        .activity-time {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .quick-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 16px 12px;
            background: var(--bg-tertiary);
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.15s;
        }

        .quick-action-btn:hover {
            background: var(--toss-blue-light);
        }

        .quick-action-btn svg {
            width: 24px;
            height: 24px;
            color: var(--toss-blue);
        }

        .quick-action-btn span {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Progress Bar on Cards */
        .card-progress {
            margin-top: 12px;
            margin-bottom: 4px;
        }

        .progress-bar {
            height: 4px;
            background: var(--border-color);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--toss-blue);
            border-radius: 2px;
            transition: width 0.3s;
        }

        .progress-fill.complete {
            background: var(--accent-green);
        }

        .progress-text {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Favorite Star */
        .card-favorite {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-disabled);
            transition: all 0.15s;
        }

        .card-favorite:hover {
            color: var(--accent-orange);
        }

        .card-favorite.active {
            color: var(--accent-orange);
        }

        .card-favorite svg {
            width: 16px;
            height: 16px;
        }

        /* Notification Dropdown */
        .notification-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 360px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-8px);
            transition: all 0.2s;
            z-index: 1000;
        }

        .notification-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .notification-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .notification-title {
            font-size: 15px;
            font-weight: 600;
        }

        .notification-mark-read {
            font-size: 13px;
            color: var(--toss-blue);
            cursor: pointer;
        }

        .notification-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-item {
            display: flex;
            gap: 12px;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-light);
            cursor: pointer;
            transition: all 0.15s;
        }

        .notification-item:hover {
            background: var(--bg-tertiary);
        }

        .notification-item.unread {
            background: var(--toss-blue-light);
        }

        .notification-icon {
            width: 36px;
            height: 36px;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .notification-icon.approval {
            background: var(--accent-purple-light);
            color: var(--accent-purple);
        }

        .notification-icon.deadline {
            background: var(--accent-red-light);
            color: var(--accent-red);
        }

        .notification-icon.comment {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .notification-icon.complete {
            background: var(--accent-green-light);
            color: var(--accent-green);
        }

        .notification-content {
            flex: 1;
        }

        .notification-text {
            font-size: 13px;
            color: var(--text-primary);
            line-height: 1.5;
        }

        .notification-time {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .notification-footer {
            padding: 12px 20px;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }

        .notification-footer a {
            font-size: 13px;
            color: var(--toss-blue);
            text-decoration: none;
            font-weight: 500;
        }

        /* Header Badge */
        .icon-btn-wrapper {
            position: relative;
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 18px;
            height: 18px;
            background: var(--accent-red);
            color: white;
            font-size: 10px;
            font-weight: 600;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--bg-secondary);
        }

        /* Toggle Panel Button */
        .toggle-panel-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            background: var(--bg-tertiary);
            border: none;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s;
        }

        .toggle-panel-btn:hover {
            background: var(--border-color);
        }

        .toggle-panel-btn.active {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        /* Dashboard View - CMS Style Integrated Layout */
        .dashboard-view {
            display: none;
            height: 100%;
            overflow: hidden;
        }

        .dashboard-view.active {
            display: flex;
            flex-direction: column;
            padding: 10px;
        }

        /* Dashboard Top Bar - Stats */
        .dashboard-stats-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            flex-shrink: 0;
            margin-bottom: 16px;
        }

        .dashboard-stat-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            min-width: 140px;
        }

        .dashboard-stat-card .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dashboard-stat-card .stat-icon svg {
            width: 20px;
            height: 20px;
        }

        .dashboard-stat-card .stat-info {
            display: flex;
            flex-direction: column;
        }

        .dashboard-stat-card .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1;
        }

        .dashboard-stat-card .stat-label {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .dashboard-stat-divider {
            width: 1px;
            height: 40px;
            background: var(--border-color);
        }

        .dashboard-filters {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: auto;
        }

        /* Dashboard Main Content */
        .dashboard-main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Kanban Section */
        .dashboard-kanban {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
        }

        .kanban-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-light);
        }

        .kanban-header-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .kanban-header-title svg {
            width: 18px;
            height: 18px;
            color: var(--text-muted);
        }

        .kanban-view-toggle {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-sm);
            padding: 3px;
            border: 1px solid var(--border-color);
        }

        .kanban-view-btn {
            padding: 4px 10px;
            border: none;
            background: transparent;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.15s;
        }

        .kanban-view-btn:hover {
            color: var(--text-secondary);
        }

        .kanban-view-btn.active {
            background: var(--bg-secondary);
            color: var(--toss-blue);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .kanban-scroll-area {
            flex: 1;
            overflow-x: auto;
            overflow-y: auto;
            padding: 10px;
            background: var(--bg-primary);
            min-height: 280px;
        }

        .kanban-board-integrated {
            display: flex;
            gap: 8px;
            min-height: 100%;
            min-width: max-content;
            align-items: flex-start;
        }

        .kanban-column-integrated {
            width: 200px;
            min-width: 200px;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            max-height: calc(100vh - 250px);
            min-height: 150px;
        }

        .column-header-integrated {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .column-title-integrated {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .column-dot-integrated {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .column-name-integrated {
            font-size: 10px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .column-count-integrated {
            font-size: 9px;
            font-weight: 600;
            color: var(--text-muted);
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 8px;
        }

        .column-cards-integrated {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .card-integrated {
            background: var(--bg-primary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            padding: 10px;
            cursor: pointer;
            transition: all 0.15s;
            flex-shrink: 0;
        }

        .card-integrated:hover {
            border-color: var(--toss-blue);
            box-shadow: 0 2px 8px rgba(49, 130, 246, 0.1);
        }

        .card-integrated-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .card-integrated-type {
            font-size: 8px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 3px;
        }

        .card-integrated-priority {
            width: 5px;
            height: 6px;
            border-radius: 50%;
        }

        .card-integrated-title {
            font-size: 10px;
            font-weight: 500;
            color: var(--text-primary);
            line-height: 1.4;
            margin-bottom: 6px;
            word-break: keep-all;
        }

        .card-integrated-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-integrated-owner {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .card-integrated-avatar {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 7px;
            font-weight: 600;
            color: white;
        }

        .card-integrated-owner-name {
            font-size: 9px;
            color: var(--text-muted);
        }

        .card-integrated-due {
            font-size: 9px;
            color: var(--text-muted);
        }

        .card-integrated-due.overdue {
            color: var(--accent-red);
            font-weight: 500;
        }

        .card-integrated-due.soon {
            color: var(--accent-orange);
            font-weight: 500;
        }

        /* List View Mode */
        .list-view-container {
            display: none;
            flex-direction: column;
            gap: 6px;
            padding: 10px 16px;
            overflow-y: auto;
            flex: 1;
        }

        .list-view-container.active {
            display: flex;
        }

        .kanban-scroll-area.hidden {
            display: none !important;
        }

        #listViewItems {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .list-view-header {
            display: grid;
            grid-template-columns: 3fr 80px 100px 80px 80px 60px;
            gap: 12px;
            padding: 10px 12px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            font-size: 10px;
            font-weight: 600;
            color: var(--text-muted);
            letter-spacing: 0.5px;
        }

        .list-view-item {
            display: grid;
            grid-template-columns: 3fr 80px 100px 80px 80px 60px;
            gap: 12px;
            padding: 10px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            align-items: center;
            cursor: pointer;
            transition: all 0.15s;
        }

        .list-view-item:hover {
            border-color: var(--toss-blue);
            box-shadow: 0 2px 8px rgba(49, 130, 246, 0.1);
        }

        .list-item-title-area {
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 0;
        }

        .list-item-type {
            font-size: 10px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            white-space: nowrap;
        }

        .list-item-title {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .list-item-status {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 10px;
            color: var(--text-secondary);
        }

        .list-item-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .list-item-owner {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 10px;
            color: var(--text-secondary);
        }

        .list-item-avatar {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: 600;
            color: white;
        }

        .list-item-due {
            font-size: 10px;
            color: var(--text-muted);
        }

        .list-item-due.overdue {
            color: var(--accent-red);
            font-weight: 500;
        }

        .list-item-due.soon {
            color: var(--accent-orange);
            font-weight: 500;
        }

        .list-item-priority {
            display: flex;
            justify-content: center;
        }

        .list-item-priority-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .list-item-priority-dot.high {
            background: var(--accent-red);
        }

        .list-item-priority-dot.medium {
            background: var(--accent-orange);
        }

        .list-item-priority-dot.low {
            background: var(--accent-green);
        }

        .list-item-department {
            font-size: 12px;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Department Overview View */
        .department-overview-container {
            display: flex;
            flex-direction: column;
            padding: 8px;
            overflow-y: auto;
            flex: 1;
        }

        .department-overview-container.hidden {
            display: none;
        }

        .department-overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 8px;
            align-content: start;
        }

        @media (min-width: 1200px) {
            .department-overview-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1600px) {
            .department-overview-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        @media (min-width: 1900px) {
            .department-overview-grid {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        .dept-status-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            padding: 12px;
            transition: all 0.2s;
        }

        .dept-status-card:hover {
            border-color: var(--toss-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 246, 0.08);
        }

        .dept-status-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .dept-status-title {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .dept-status-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        .dept-status-name {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .dept-status-total {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .dept-status-total span {
            font-size: 10px;
            font-weight: 400;
            color: var(--text-muted);
            margin-left: 4px;
        }

        .dept-progress-bar {
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .dept-progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .dept-status-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        }

        .dept-stat-item {
            text-align: center;
            padding: 6px 2px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-sm);
        }

        .dept-stat-value {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .dept-stat-label {
            font-size: 8px;
            color: var(--text-muted);
            margin-top: 1px;
        }

        .dept-members-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 14px;
            padding-top: 14px;
            border-top: 1px solid var(--border-light);
        }

        .dept-members-avatars {
            display: flex;
            margin-left: auto;
        }

        .dept-member-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            color: white;
            border: 2px solid var(--bg-secondary);
            margin-left: -8px;
        }

        .dept-member-avatar:first-child {
            margin-left: 0;
        }

        .dept-members-label {
            font-size: 12px;
            color: var(--text-muted);
        }

        .dept-members-count {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Dashboard Side Panel */
        .dashboard-side-panel {
            display: none;
            width: 320px;
            background: var(--bg-secondary);
            overflow-y: auto;
            flex-shrink: 0;
        }

        .side-panel-section {
            padding: 20px;
            border-bottom: 1px solid var(--border-light);
        }

        .side-panel-section:last-child {
            border-bottom: none;
        }

        .side-panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .side-panel-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .side-panel-action {
            font-size: 12px;
            color: var(--toss-blue);
            cursor: pointer;
        }

        .side-panel-action:hover {
            text-decoration: underline;
        }

        /* Quick Stats Mini */
        .quick-stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .quick-stat-item {
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            padding: 14px;
            text-align: center;
        }

        .quick-stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .quick-stat-label {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Due Soon List */
        .due-soon-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .due-soon-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.15s;
        }

        .due-soon-item:hover {
            background: var(--border-color);
        }

        .due-soon-icon {
            width: 36px;
            height: 36px;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .due-soon-icon svg {
            width: 16px;
            height: 16px;
        }

        .due-soon-info {
            flex: 1;
            min-width: 0;
        }

        .due-soon-title {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .due-soon-meta {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .due-soon-date {
            font-size: 11px;
            font-weight: 600;
            color: var(--accent-orange);
            white-space: nowrap;
        }

        /* Activity Feed */
        .activity-feed {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .activity-feed-item {
            display: flex;
            gap: 10px;
        }

        .activity-feed-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }

        .activity-feed-content {
            flex: 1;
        }

        .activity-feed-text {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .activity-feed-text strong {
            color: var(--text-primary);
            font-weight: 500;
        }

        .activity-feed-time {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        @media (max-width: 1200px) {
            .dashboard-side-panel {
                display: none;
            }
        }

        /* Dashboard Cards */
        .dash-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .dash-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .dash-card-title-area {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dash-card-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dash-card-icon svg {
            width: 20px;
            height: 20px;
        }

        .dash-card-icon.yellow {
            background: #fef9c3;
            color: #ca8a04;
        }

        .dash-card-icon.blue {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .dash-card-icon.green {
            background: var(--accent-green-light);
            color: var(--accent-green);
        }

        .dash-card-icon.purple {
            background: var(--accent-purple-light);
            color: var(--accent-purple);
        }

        .dash-card-icon.orange {
            background: var(--accent-orange-light);
            color: var(--accent-orange);
        }

        .dash-card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .dash-card-actions {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dash-card-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.15s;
        }

        .dash-card-btn:hover {
            border-color: var(--toss-blue);
            color: var(--toss-blue);
        }

        .dash-card-btn svg {
            width: 14px;
            height: 14px;
        }

        /* Overview Card */
        .overview-card {
            grid-row: span 2;
        }

        .overview-profile {
            display: flex;
            align-items: center;
            gap: 16px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-light);
            margin-bottom: 20px;
        }

        .overview-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--toss-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: white;
        }

        .overview-name {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .overview-role {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .overview-section {
            margin-bottom: 24px;
        }

        .overview-section:last-child {
            margin-bottom: 0;
        }

        .overview-section-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .overview-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .overview-label {
            font-size: 12px;
            color: var(--text-muted);
        }

        .overview-value {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        /* Stat Cards */
        .stat-cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .stat-card-item {
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
            padding: 20px;
            position: relative;
        }

        .stat-card-item .stat-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .stat-card-item .stat-icon svg {
            width: 22px;
            height: 22px;
        }

        .stat-card-item .stat-number {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1;
        }

        .stat-card-item .stat-unit {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-muted);
            margin-left: 4px;
        }

        .stat-card-item .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .stat-card-item .stat-more {
            position: absolute;
            top: 16px;
            right: 16px;
            color: var(--text-disabled);
            cursor: pointer;
        }

        /* Content List Card */
        .content-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .content-list-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.15s;
        }

        .content-list-item:hover {
            background: var(--border-color);
        }

        .content-list-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .content-list-icon svg {
            width: 18px;
            height: 18px;
        }

        .content-list-info {
            flex: 1;
            min-width: 0;
        }

        .content-list-title {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .content-list-meta {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .content-list-action {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.15s;
            flex-shrink: 0;
        }

        .content-list-action:hover {
            border-color: var(--toss-blue);
            color: var(--toss-blue);
        }

        .content-list-action svg {
            width: 14px;
            height: 14px;
        }

        /* Status History */
        .history-card {
            grid-column: span 1;
        }

        .history-item {
            padding: 16px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .history-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .history-item:first-child {
            padding-top: 0;
        }

        .history-top {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .history-date-label {
            font-size: 11px;
            color: var(--text-muted);
        }

        .history-date {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .history-status {
            display: inline-flex;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .history-label {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .history-text {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Schedule Table */
        .schedule-table {
            width: 100%;
            border-collapse: collapse;
        }

        .schedule-table th {
            text-align: left;
            font-size: 12px;
            font-weight: 500;
            color: var(--text-muted);
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .schedule-table td {
            padding: 14px 16px;
            font-size: 13px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-light);
        }

        .schedule-table tr:last-child td {
            border-bottom: none;
        }

        .schedule-table .date-cell {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .schedule-table .date-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--toss-blue);
        }

        .schedule-table .type-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
        }

        .schedule-table .type-badge.blog {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .schedule-table .type-badge.video {
            background: var(--accent-red-light);
            color: var(--accent-red);
        }

        .schedule-table .type-badge.social {
            background: var(--accent-pink-light);
            color: var(--accent-pink);
        }

        .schedule-table .type-badge.press {
            background: var(--accent-purple-light);
            color: var(--accent-purple);
        }

        .schedule-table .type-badge.landing {
            background: var(--accent-green-light);
            color: var(--accent-green);
        }

        .schedule-table .type-badge.whitepaper {
            background: var(--accent-orange-light);
            color: var(--accent-orange);
        }

        .schedule-table .type-badge svg {
            width: 12px;
            height: 12px;
        }

        /* Performance Card */
        .perf-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .perf-metric {
            text-align: center;
            padding: 16px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
        }

        .perf-metric-value {
            font-size: 24px;
            font-weight: 700;
        }

        .perf-metric-label {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .perf-chart {
            height: 120px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            padding: 16px;
        }

        .perf-bar {
            width: 24px;
            background: var(--toss-blue);
            border-radius: 4px 4px 0 0;
            transition: height 0.3s;
        }

        /* Team Members Card */
        .team-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .team-member {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
        }

        .team-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            color: white;
        }

        .team-info {
            flex: 1;
        }

        .team-name {
            font-size: 10px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .team-tasks {
            font-size: 9px;
            color: var(--text-muted);
        }

        .team-status {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 9px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .team-status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .team-status-dot.online {
            background: var(--accent-green);
        }

        .team-status-dot.busy {
            background: var(--accent-orange);
        }

        .team-status-dot.offline {
            background: var(--text-disabled);
        }

        /* View toggle */
        .kanban-view, .calendar-view, .favorites-view, .archive-view, .tools-view, .team-view, .settings-view {
            display: none;
        }

        .kanban-view.active, .calendar-view.active, .favorites-view.active, .archive-view.active, .tools-view.active, .team-view.active, .settings-view.active {
            display: block;
        }

        /* Calendar View */
        .calendar-view.active {
            display: flex !important;
            flex-direction: column;
            padding: 8px;
            height: calc(100vh - 60px);
            max-height: calc(100vh - 60px);
            overflow: hidden;
            zoom: 0.8;
        }

        .calendar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 6px;
            padding: 0;
            flex-shrink: 0;
        }

        .calendar-nav {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .calendar-nav-btn {
            width: 36px;
            height: 36px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.15s;
        }

        .calendar-nav-btn:hover {
            border-color: var(--toss-blue);
            color: var(--toss-blue);
        }

        .calendar-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-template-rows: auto repeat(6, 1fr);
            gap: 1px;
            background: var(--border-color);
            border-radius: var(--radius-lg);
            overflow: hidden;
            flex: 1;
            min-height: 0;
        }

        .calendar-day-header {
            background: var(--bg-tertiary);
            padding: 8px;
            text-align: center;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
        }

        .calendar-day {
            background: var(--bg-secondary);
            min-height: 0;
            padding: 4px;
            cursor: pointer;
            transition: all 0.15s;
            overflow: hidden;
        }

        .calendar-day:hover {
            background: var(--bg-tertiary);
        }

        .calendar-day.other-month {
            background: var(--bg-primary);
        }

        .calendar-day.other-month .day-number {
            color: var(--text-disabled);
        }

        .calendar-day.today {
            background: var(--toss-blue-light);
        }

        .calendar-day.today .day-number {
            background: var(--toss-blue);
            color: white;
        }

        .day-number {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        @media (min-height: 800px) {
            .calendar-day {
                min-height: 0;
            }
        }

        @media (min-height: 900px) {
            .calendar-day {
                min-height: 0;
            }
        }

        .calendar-event {
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: 500;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
        }

        .calendar-event.blog { background: var(--toss-blue-light); color: var(--toss-blue); }
        .calendar-event.video { background: var(--accent-red-light); color: var(--accent-red); }
        .calendar-event.social { background: var(--accent-pink-light); color: var(--accent-pink); }
        .calendar-event.press { background: var(--accent-purple-light); color: var(--accent-purple); }

        /* Favorites View */
        .view-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            border-bottom: 1px solid var(--border-light);
        }

        .view-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .view-subtitle {
            font-size: 10px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 10px;
            padding: 12px;
        }

        .content-grid-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 12px;
            border: 1px solid var(--border-light);
            cursor: pointer;
            transition: all 0.2s;
        }

        .content-grid-card:hover {
            border-color: var(--toss-blue);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .content-grid-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .content-grid-type {
            display: inline-flex;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .content-grid-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .content-grid-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .content-grid-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            background: var(--bg-tertiary);
        }

        .status-dot-sm {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        /* Archive View */
        .archive-filters {
            display: flex;
            gap: 8px;
            padding: 0;
            margin-bottom: 12px;
        }

        .archive-filter-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            font-size: 10px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.15s;
        }

        .archive-filter-btn:hover {
            border-color: var(--toss-blue);
        }

        .archive-filter-btn.active {
            background: var(--toss-blue);
            border-color: var(--toss-blue);
            color: white;
        }

        .archive-view.active {
            display: block;
            padding: 12px;
        }

        .archive-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--border-light);
        }

        .archive-table th {
            text-align: left;
            padding: 12px 14px;
            font-size: 10px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-tertiary);
        }

        .archive-table td {
            padding: 14px;
            font-size: 11px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-light);
            background: var(--bg-secondary);
        }

        .archive-table tr:hover td {
            background: var(--bg-tertiary);
        }

        .archive-table .title-cell {
            font-weight: 500;
            color: var(--text-primary);
        }

        /* Tools View - 뤼튼 스타일 */
        .tools-view {
            padding: 0;
        }

        .tools-header {
            padding: 16px 16px 0;
        }

        .tools-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .tools-subtitle {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .tools-category-tabs {
            display: flex;
            gap: 6px;
            padding: 0 16px;
            margin-bottom: 12px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 10px;
            overflow-x: auto;
        }

        .tools-category-tab {
            padding: 6px 12px;
            border-radius: 100px;
            font-size: 10px;
            font-weight: 500;
            color: var(--text-secondary);
            background: var(--bg-tertiary);
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .tools-category-tab:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .tools-category-tab.active {
            background: var(--text-primary);
            color: white;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            padding: 0 16px 16px;
        }

        .tool-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .tool-card:hover {
            border-color: var(--toss-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 246, 0.1);
            transform: translateY(-2px);
        }

        .tool-icon {
            width: 36px;
            height: 36px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .tool-icon svg {
            width: 24px;
            height: 24px;
        }

        .tool-info {
            flex: 1;
            min-width: 0;
        }

        .tool-name {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .tool-desc {
            font-size: 9px;
            color: var(--text-muted);
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .tool-badge {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 8px;
            font-weight: 600;
            margin-top: 5px;
        }

        .tool-badge.new {
            background: var(--accent-blue-light);
            color: var(--toss-blue);
        }

        .tool-badge.popular {
            background: var(--accent-red-light);
            color: var(--accent-red);
        }

        .tool-badge.ai {
            background: var(--accent-purple-light);
            color: var(--accent-purple);
        }

        .tools-section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            padding: 0 32px;
            margin-bottom: 16px;
            margin-top: 8px;
        }

        .tool-favorite-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            transition: all 0.2s;
        }

        .tool-favorite-btn:hover {
            background: var(--bg-tertiary);
            color: var(--accent-orange);
        }

        .tool-favorite-btn.active {
            color: var(--accent-orange);
        }

        .tool-favorite-btn svg {
            width: 18px;
            height: 18px;
        }

        /* Team View */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
            padding: 12px;
        }

        .team-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 12px;
            border: 1px solid var(--border-light);
        }

        .team-card-header {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 12px;
        }

        .team-card-avatar {
            width: 36px;
            height: 36px;
            min-width: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            color: white;
        }

        .team-card-info {
            flex: 1;
            min-width: 0;
        }

        .team-card-info h3 {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .team-card-info p {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .team-card-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding-top: 10px;
            border-top: 1px solid var(--border-light);
        }

        .team-stat {
            text-align: center;
        }

        .team-stat-value {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .team-stat-label {
            font-size: 9px;
            color: var(--text-muted);
            margin-top: 1px;
        }

        /* Settings View */
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
        }

        .settings-section {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid var(--border-light);
        }

        .settings-section-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-light);
        }

        .settings-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .settings-row:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .settings-row:first-of-type {
            padding-top: 0;
        }

        .settings-label {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .settings-desc {
            font-size: 10px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .settings-toggle {
            position: relative;
            width: 36px;
            height: 20px;
            background: var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .settings-toggle.active {
            background: var(--toss-blue);
        }

        .settings-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .settings-toggle.active::after {
            left: 22px;
        }

        .settings-input {
            width: 140px;
            padding: 6px 10px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 11px;
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .settings-input:focus {
            outline: none;
            border-color: var(--toss-blue);
        }

        .settings-custom-select {
            width: 200px;
        }

        .settings-custom-select .custom-select-trigger {
            padding: 6px 10px;
            font-size: 11px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
        }

        .settings-custom-select .custom-select-trigger:hover {
            border-color: var(--toss-blue);
        }

        .settings-custom-select.open .custom-select-trigger {
            border-color: var(--toss-blue);
        }

        .settings-custom-select .custom-select-options {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .settings-custom-select .custom-select-option {
            padding: 6px 10px;
            font-size: 11px;
        }

        .settings-role-select {
            width: 120px;
        }

        /* Role Management */
        .role-tabs {
            display: flex;
            gap: 6px;
            margin-bottom: 12px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 8px;
        }

        .role-tab {
            padding: 5px 10px;
            border: none;
            background: transparent;
            font-size: 10px;
            font-weight: 500;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: var(--radius-md);
            transition: all 0.15s;
        }

        .role-tab:hover {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .role-tab.active {
            background: var(--toss-blue);
            color: white;
        }

        .role-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 9px;
            font-weight: 600;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .role-badge.admin {
            background: var(--accent-red-light);
            color: var(--accent-red);
        }

        .role-badge.manager {
            background: var(--accent-purple-light);
            color: var(--accent-purple);
        }

        .role-badge.editor {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .role-badge.viewer {
            background: var(--bg-tertiary);
            color: var(--text-muted);
        }

        .permission-grid {
            display: grid;
            grid-template-columns: 1fr repeat(4, 60px);
            gap: 8px;
            align-items: center;
        }

        .permission-header {
            font-size: 9px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            text-align: center;
        }

        .permission-header:first-child {
            text-align: left;
        }

        .permission-row {
            display: contents;
        }

        .permission-page {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 10px;
            font-weight: 500;
            color: var(--text-primary);
            padding: 8px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .permission-page svg {
            width: 14px;
            height: 18px;
            color: var(--text-muted);
        }

        .permission-check {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .permission-checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid var(--border-color);
            border-radius: 3px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s;
            background: var(--bg-secondary);
        }

        .permission-checkbox:hover {
            border-color: var(--toss-blue);
        }

        .permission-checkbox.checked {
            background: var(--toss-blue);
            border-color: var(--toss-blue);
        }

        .permission-checkbox.checked::after {
            content: '';
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
            margin-bottom: 2px;
        }

        .permission-checkbox.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .current-user-role {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            margin-bottom: 12px;
        }

        .current-user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--toss-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .current-user-info {
            flex: 1;
        }

        .current-user-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .current-user-email {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Hidden by permission */
        .nav-item.hidden-by-permission {
            display: none !important;
        }

        /* Department Management */
        .dept-tabs {
            display: flex;
            gap: 8px;
            padding: 0 24px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .dept-tab {
            padding: 10px 20px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.15s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dept-tab:hover {
            border-color: var(--toss-blue);
            color: var(--toss-blue);
        }

        .dept-tab.active {
            background: var(--toss-blue);
            border-color: var(--toss-blue);
            color: white;
        }

        .dept-tab .dept-count {
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }

        .dept-tab.active .dept-count {
            background: rgba(255,255,255,0.3);
        }

        .dept-tab:not(.active) .dept-count {
            background: var(--bg-tertiary);
            color: var(--text-muted);
        }

        .dept-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            padding: 0 24px;
            margin-bottom: 24px;
        }

        .dept-summary-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 20px;
            border: 1px solid var(--border-light);
        }

        .dept-summary-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .dept-summary-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dept-summary-icon svg {
            width: 22px;
            height: 22px;
        }

        .dept-summary-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .dept-summary-count {
            font-size: 12px;
            color: var(--text-muted);
        }

        .dept-member-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .dept-member-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: white;
            border: 2px solid var(--bg-secondary);
            cursor: pointer;
            transition: transform 0.15s;
        }

        .dept-member-avatar:hover {
            transform: scale(1.1);
            z-index: 1;
        }

        .dept-detail-header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 0 24px;
            margin-bottom: 20px;
        }

        .dept-detail-icon {
            width: 56px;
            height: 56px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dept-detail-icon svg {
            width: 28px;
            height: 28px;
        }

        .dept-detail-info h3 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .dept-detail-info p {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .dept-stats {
            display: flex;
            gap: 24px;
            padding: 16px 24px;
            background: var(--bg-tertiary);
            margin: 0 24px 24px;
            border-radius: var(--radius-lg);
        }

        .dept-stat-item {
            text-align: center;
        }

        .dept-stat-value {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .dept-stat-label {
            font-size: 10px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        /* Header */
        .cms-header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: var(--toss-blue);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            color: white;
        }

        .logo-text {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .logo-sub {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 6px 10px;
            gap: 6px;
            transition: all 0.2s;
        }

        .search-box:focus-within {
            border-color: var(--toss-blue);
            background: var(--bg-secondary);
            box-shadow: 0 0 0 3px var(--toss-blue-light);
        }

        .search-box input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 14px;
            width: 220px;
            outline: none;
            font-weight: 500;
        }

        .search-box input::placeholder {
            color: var(--text-muted);
            font-weight: 400;
        }

        .search-box svg {
            color: var(--text-muted);
        }

        .icon-btn {
            width: 42px;
            height: 42px;
            border-radius: var(--radius-md);
            border: none;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            background: var(--border-color);
            color: var(--text-primary);
        }

        .btn-primary {
            background: var(--toss-blue);
            border: none;
            color: white;
            padding: 8px 14px;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .btn-primary:hover {
            background: var(--toss-blue-dark);
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        /* Toolbar */
        .toolbar {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 14px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
            flex: 1;
            min-width: 0;
        }

        .filter-label {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Custom Select Dropdown */
        .custom-select {
            position: relative;
            display: inline-block;
        }

        .custom-select-trigger {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 6px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 6px 10px;
            min-width: 100px;
            color: var(--text-primary);
            font-size: 11px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .custom-select-trigger:hover {
            border-color: var(--text-disabled);
        }

        .custom-select.active .custom-select-trigger {
            border-color: var(--toss-blue);
            box-shadow: 0 0 0 3px var(--toss-blue-light);
        }

        .custom-select-trigger svg {
            width: 12px;
            height: 12px;
            color: var(--text-muted);
            transition: transform 0.2s;
        }

        .custom-select.active .custom-select-trigger svg {
            transform: rotate(180deg);
        }

        .custom-select-options {
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            padding: 4px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-8px);
            transition: all 0.2s;
            max-height: 200px;
            overflow-y: auto;
        }

        .custom-select.active .custom-select-options {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .custom-select-option {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 10px;
            border-radius: var(--radius-sm);
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.15s;
        }

        .custom-select-option:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .custom-select-option.selected {
            background: var(--toss-blue-light);
            color: var(--toss-blue);
        }

        .custom-select-option.selected::after {
            content: '';
            margin-left: auto;
            width: 16px;
            height: 16px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%233182f6' stroke-width='3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M5 13l4 4L19 7'/%3E%3C/svg%3E");
            background-size: contain;
        }

        .custom-select-divider {
            height: 1px;
            background: var(--border-light);
            margin: 6px 0;
        }

        .custom-select-options::-webkit-scrollbar {
            width: 6px;
        }

        .custom-select-options::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-select-options::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        .custom-select-options::-webkit-scrollbar-thumb:hover {
            background: var(--text-disabled);
        }

        /* Hide original select */
        .filter-select {
            display: none;
        }

        /* Form Custom Select (in modals) */
        .form-custom-select {
            position: relative;
            width: 100%;
        }

        .form-custom-select .custom-select-trigger {
            width: 100%;
            padding: 8px 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        .form-custom-select .custom-select-options {
            min-width: 100%;
        }

        .view-toggle {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: var(--radius-sm);
            padding: 4px;
            flex-shrink: 0;
        }

        .view-btn {
            padding: 10px 18px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .view-btn:hover {
            color: var(--text-primary);
        }

        .view-btn.active {
            background: var(--bg-secondary);
            color: var(--toss-blue);
            box-shadow: var(--shadow-sm);
        }

        /* Stats Bar */
        .stats-bar {
            background: var(--bg-secondary);
            padding: 20px 32px;
            display: flex;
            gap: 16px;
            border-bottom: 1px solid var(--border-color);
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            overflow-x: auto;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px 20px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
            flex: 1;
            max-width: 200px;
        }

        .stat-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stat-icon svg {
            width: 22px;
            height: 22px;
        }

        .stat-icon.blue { background: var(--toss-blue-light); color: var(--toss-blue); }
        .stat-icon.green { background: var(--accent-green-light); color: var(--accent-green); }
        .stat-icon.orange { background: var(--accent-orange-light); color: var(--accent-orange); }
        .stat-icon.purple { background: var(--accent-purple-light); color: var(--accent-purple); }

        .stat-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .stat-value {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Kanban Board */
        .kanban-container {
            padding: 24px;
            overflow-x: auto;
            overflow-y: hidden;
            width: 100%;
            max-width: 100%;
        }

        .kanban-board {
            display: inline-flex;
            gap: 16px;
            min-width: min-content;
        }

        .kanban-column {
            width: 300px;
            min-width: 300px;
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-direction: column;
            max-height: calc(100vh - 300px);
        }

        .column-header {
            padding: 18px 18px 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .column-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .column-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .column-name {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }

        .column-count {
            background: var(--bg-tertiary);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-muted);
        }

        .column-cards {
            flex: 1;
            overflow-y: auto;
            padding: 0 12px 12px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .column-cards::-webkit-scrollbar {
            width: 4px;
        }

        .column-cards::-webkit-scrollbar-track {
            background: transparent;
        }

        .column-cards::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 2px;
        }

        /* Content Card */
        .content-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .content-card:hover {
            border-color: var(--toss-blue);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .content-card.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .card-type {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 6px;
        }

        .card-type.blog { background: var(--toss-blue-light); color: var(--toss-blue); }
        .card-type.video { background: var(--accent-red-light); color: var(--accent-red); }
        .card-type.social { background: var(--accent-pink-light); color: var(--accent-pink); }
        .card-type.press { background: var(--accent-orange-light); color: var(--accent-orange); }
        .card-type.landing { background: var(--accent-green-light); color: var(--accent-green); }
        .card-type.whitepaper { background: var(--accent-purple-light); color: var(--accent-purple); }

        .card-priority {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .card-priority.high { background: var(--accent-red); }
        .card-priority.medium { background: var(--accent-orange); }
        .card-priority.low { background: var(--accent-green); }

        .card-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .card-channel {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 500;
            margin-bottom: 14px;
        }

        .card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
        }

        .card-owner {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .owner-avatar {
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: var(--toss-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            color: white;
        }

        .owner-name {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .card-due {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .card-due.overdue {
            color: var(--accent-red);
            font-weight: 600;
        }

        .card-due.soon {
            color: var(--accent-orange);
            font-weight: 600;
        }

        /* Add Card Button */
        .add-card-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px;
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-md);
            background: transparent;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .add-card-btn:hover {
            border-color: var(--toss-blue);
            color: var(--toss-blue);
            background: var(--toss-blue-light);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            width: 90%;
            max-width: 700px;
            max-height: 75vh;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            transform: translateY(20px) scale(0.98);
            transition: all 0.3s;
            zoom: 0.8;
            margin: 40px 0;
        }

        .modal .modal-title {
            font-size: 18px;
        }

        .modal .modal-tab {
            font-size: 13px;
            padding: 10px 14px;
        }

        .modal .form-label {
            font-size: 13px;
        }

        .modal .form-input {
            font-size: 14px;
            padding: 10px 12px;
        }

        .modal .section-title {
            font-size: 14px;
        }

        .modal .info-label {
            font-size: 12px;
        }

        .modal .info-value {
            font-size: 14px;
        }

        .modal .rules-alert h4 {
            font-size: 13px;
        }

        .modal .rules-alert ul {
            font-size: 12px;
        }

        .modal .qa-text {
            font-size: 13px;
        }

        .modal .metric-value {
            font-size: 24px;
        }

        .modal .metric-label {
            font-size: 12px;
        }

        .modal .timeline-date {
            font-size: 11px;
        }

        .modal .timeline-text {
            font-size: 13px;
        }

        .modal .approver-chip {
            font-size: 12px;
        }

        .modal-overlay.active .modal {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            padding: 14px 18px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-status {
            padding: 4px 10px;
            border-radius: 16px;
            font-size: 9px;
            font-weight: 600;
        }

        .modal-title {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .modal-close {
            width: 28px;
            height: 28px;
            border-radius: var(--radius-sm);
            border: none;
            background: var(--bg-tertiary);
            color: var(--text-muted);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-size: 18px;
        }

        .modal-close:hover {
            background: var(--accent-red-light);
            color: var(--accent-red);
        }

        .modal-body {
            display: flex;
            max-height: calc(90vh - 100px);
        }

        .modal-body-single {
            display: block;
            padding: 16px;
            overflow-y: auto;
            max-height: calc(75vh - 60px);
        }

        /* Info Tab Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .info-item {
            background: var(--bg-tertiary);
            padding: 10px;
            border-radius: var(--radius-md);
        }

        .info-label {
            font-size: 9px;
            color: var(--text-muted);
            font-weight: 600;
            margin-bottom: 4px;
        }

        .info-value {
            font-size: 11px;
            color: var(--text-primary);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .info-avatar {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--toss-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: 600;
            color: white;
        }

        .approvers-row {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .approver-chip {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            font-size: 10px;
            color: var(--text-secondary);
        }

        .approver-avatar-sm {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--toss-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: 600;
            color: white;
        }

        .approver-status {
            font-size: 8px;
            padding: 2px 6px;
            border-radius: 10px;
            background: var(--bg-secondary);
            color: var(--text-muted);
        }

        .approver-status.approved {
            background: var(--accent-green-light);
            color: var(--accent-green);
        }

        .approver-status.pending {
            background: var(--accent-orange-light);
            color: var(--accent-orange);
        }

        .modal-main {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
        }

        .modal-sidebar {
            width: 200px;
            background: var(--bg-tertiary);
            padding: 14px;
            border-left: 1px solid var(--border-color);
            overflow-y: auto;
        }

        /* Modal Tabs */
        .modal-tabs {
            display: flex;
            gap: 3px;
            margin-bottom: 16px;
            background: var(--bg-tertiary);
            padding: 3px;
            border-radius: var(--radius-md);
        }

        .modal-tab {
            padding: 8px 12px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            font-size: 10px;
            font-weight: 500;
            cursor: pointer;
            border-radius: var(--radius-sm);
            transition: all 0.2s;
        }

        .modal-tab:hover {
            color: var(--text-primary);
        }

        .modal-tab.active {
            background: var(--bg-secondary);
            color: var(--toss-blue);
            box-shadow: var(--shadow-sm);
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Section Styles */
        .section {
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .section-content {
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
            padding: 20px;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 12px;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-label {
            display: block;
            font-size: 10px;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 5px;
        }

        .form-input {
            width: 100%;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 8px 10px;
            color: var(--text-primary);
            font-size: 11px;
            font-weight: 500;
            outline: none;
            transition: all 0.2s;
        }

        .form-input:focus {
            border-color: var(--toss-blue);
            box-shadow: 0 0 0 3px var(--toss-blue-light);
        }

        .form-textarea {
            resize: vertical;
            min-height: 60px;
            font-family: inherit;
            line-height: 1.5;
        }

        /* QA Checklist */
        .qa-checklist {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .qa-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            transition: all 0.2s;
        }

        .qa-item:hover {
            border-color: var(--toss-blue);
        }

        .qa-checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: white;
            font-size: 12px;
            font-weight: 700;
        }

        .qa-checkbox.checked {
            background: var(--toss-blue);
            border-color: var(--toss-blue);
        }

        .qa-text {
            font-size: 10px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Performance Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .metric-card {
            background: var(--bg-secondary);
            padding: 12px;
            border-radius: var(--radius-lg);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .metric-value {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .metric-label {
            font-size: 9px;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 20px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 6px;
            top: 4px;
            bottom: 4px;
            width: 2px;
            background: var(--border-color);
            border-radius: 1px;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 14px;
        }

        .timeline-item:last-child {
            padding-bottom: 0;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -16px;
            top: 6px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--toss-blue);
            border: 2px solid var(--bg-secondary);
        }

        .timeline-date {
            font-size: 9px;
            color: var(--text-muted);
            font-weight: 500;
            margin-bottom: 2px;
        }

        .timeline-text {
            font-size: 10px;
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Sidebar Info */
        .sidebar-section {
            margin-bottom: 14px;
        }

        .sidebar-label {
            font-size: 9px;
            color: var(--text-muted);
            font-weight: 600;
            margin-bottom: 6px;
        }

        .sidebar-value {
            font-size: 10px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .sidebar-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .sidebar-tag {
            padding: 6px 12px;
            background: var(--bg-secondary);
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Approvers */
        .approvers-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .approver-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
        }

        .approver-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--accent-purple);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .approver-info {
            flex: 1;
        }

        .approver-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .approver-status {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .approver-status.approved {
            color: var(--accent-green);
        }

        /* Rules Alert */
        .rules-alert {
            background: var(--toss-blue-light);
            border-radius: var(--radius-lg);
            padding: 12px;
            margin-bottom: 16px;
        }

        .rules-alert h4 {
            font-size: 10px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--toss-blue);
        }

        .rules-alert ul {
            font-size: 9px;
            color: var(--text-secondary);
            padding-left: 18px;
            line-height: 1.8;
        }

        .rules-alert li {
            margin-bottom: 2px;
        }

        /* New Content Modal */
        .new-content-form .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 18px 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-xl);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 2000;
            font-weight: 500;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success { border-left: 4px solid var(--accent-green); }
        .toast.error { border-left: 4px solid var(--accent-red); }
        .toast.warning { border-left: 4px solid var(--accent-orange); }

        /* Responsive */
        @media (max-width: 1280px) {
            .right-panel {
                display: none !important;
            }
        }

        @media (max-width: 1024px) {
            .sidebar {
                width: 50px;
                min-width: 50px;
            }
            
            .sidebar-logo-text,
            .nav-section-title,
            .nav-item span:not(.nav-item-badge),
            .user-info,
            .user-profile > svg {
                display: none;
            }
            
            .sidebar-header {
                padding: 10px;
                display: flex;
                justify-content: center;
            }
            
            .nav-item {
                justify-content: center;
                padding: 10px;
            }
            
            .nav-item-badge {
                position: absolute;
                top: 4px;
                right: 4px;
                margin: 0;
            }
            
            .nav-item {
                position: relative;
            }
            
            .user-profile {
                justify-content: center;
            }
            
            .main-content {
                margin-left: 50px;
            }
            
            .kanban-column {
                width: 280px;
                min-width: 280px;
            }
            
            .stats-bar {
                flex-wrap: wrap;
            }
            
            .stat-item {
                max-width: none;
            }
            
            .modal-body {
                flex-direction: column;
            }
            
            .modal-sidebar {
                width: 100%;
                border-left: none;
                border-top: 1px solid var(--border-color);
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .cms-header {
                padding: 12px 16px;
            }
            
            .search-box {
                display: none;
            }
            
            .toggle-panel-btn {
                display: none;
            }
            
            .toolbar {
                flex-wrap: wrap;
                padding: 12px 16px;
            }
            
            .kanban-container {
                padding: 16px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-disabled);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="sidebar-logo-icon">DC</div>
                    <span class="sidebar-logo-text">Content CMS</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">메인</div>
                    <a class="nav-item active" href="#" onclick="switchView('dashboard')" data-view="dashboard">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
                        </svg>
                        대시보드
                    </a>
                    <a class="nav-item" href="#" onclick="switchView('calendar')" data-view="calendar">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        캘린더
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">콘텐츠</div>
                    <a class="nav-item" href="#" onclick="switchView('favorites')" data-view="favorites">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                        </svg>
                        즐겨찾기
                        <span class="nav-item-badge" id="favoriteBadge">3</span>
                    </a>
                    <a class="nav-item" href="#" onclick="switchView('archive')" data-view="archive">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
                        </svg>
                        아카이브
                    </a>
                    <a class="nav-item" href="#" onclick="switchView('tools')" data-view="tools">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                        </svg>
                        도구
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">팀</div>
                    <a class="nav-item" href="#" onclick="switchView('team')" data-view="team">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                        부서 관리
                    </a>
                    <a class="nav-item" href="#" onclick="switchView('settings')" data-view="settings">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        설정
                    </a>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="user-profile" onclick="toggleUserMenu()">
                    <div class="user-avatar">이</div>
                    <div class="user-info">
                        <div class="user-name">이세영</div>
                        <div class="user-role">콘텐츠마케팅 총괄</div>
                    </div>
                    <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="cms-header">
                <div class="logo-area" style="visibility: hidden; width: 0;">
                    <!-- Placeholder for alignment -->
                </div>
                <div class="header-actions">
                    <div class="search-box">
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                            <circle cx="8" cy="8" r="6"></circle>
                            <path d="M14 14l4 4"></path>
                        </svg>
                        <input type="text" placeholder="콘텐츠 검색..." id="searchInput">
                    </div>
                    <button class="toggle-panel-btn" onclick="toggleRightPanel()">
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 6h16M4 12h16M4 18h7"></path>
                        </svg>
                        패널
                    </button>
                    <div class="icon-btn-wrapper">
                        <button class="icon-btn" title="알림" onclick="toggleNotifications()">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                                <path d="M13.73 21a2 2 0 0 1-3.46 0M18 8A6 6 0 1 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            </svg>
                        </button>
                        <span class="notification-badge">4</span>
                        <!-- Notification Dropdown -->
                        <div class="notification-dropdown" id="notificationDropdown">
                            <div class="notification-header">
                                <span class="notification-title">알림</span>
                                <span class="notification-mark-read">모두 읽음</span>
                            </div>
                            <div class="notification-list">
                                <div class="notification-item unread">
                                    <div class="notification-icon approval">
                                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <div class="notification-content">
                                        <div class="notification-text"><strong>박팀장</strong>님이 "AI 마케팅 가이드" 승인을 완료했습니다.</div>
                                        <div class="notification-time">10분 전</div>
                                    </div>
                                </div>
                                <div class="notification-item unread">
                                    <div class="notification-icon deadline">
                                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                            <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <div class="notification-content">
                                        <div class="notification-text">"제품 데모 영상" 마감이 <strong>1일</strong> 남았습니다.</div>
                                        <div class="notification-time">30분 전</div>
                                    </div>
                                </div>
                                <div class="notification-item unread">
                                    <div class="notification-icon comment">
                                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                            <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                        </svg>
                                    </div>
                                    <div class="notification-content">
                                        <div class="notification-text"><strong>이콘텐츠</strong>님이 댓글을 남겼습니다.</div>
                                        <div class="notification-time">1시간 전</div>
                                    </div>
                                </div>
                                <div class="notification-item">
                                    <div class="notification-icon complete">
                                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                            <path d="M5 13l4 4L19 7"></path>
                                        </svg>
                                    </div>
                                    <div class="notification-content">
                                        <div class="notification-text">"연말 성과 보고" 콘텐츠가 배포되었습니다.</div>
                                        <div class="notification-time">어제</div>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-footer">
                                <a href="#">모든 알림 보기</a>
                            </div>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="openNewContentModal()">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                            <path d="M8 2v12M2 8h12"></path>
                        </svg>
                        새 콘텐츠
                    </button>
                </div>
            </header>

            <!-- Kanban View -->
            <div class="kanban-view" id="kanbanView">
                <!-- Toolbar -->
                <div class="toolbar">
                    <div class="filter-group">
                        <span class="filter-label">필터</span>
                        
                        <!-- Department Filter -->
                        <div class="custom-select" data-target="filterDepartment">
                            <div class="custom-select-trigger">
                                <span>전체 부서</span>
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-select-option selected" data-value="">전체 부서</div>
                                <div class="custom-select-divider"></div>
                                <div class="custom-select-option" data-value="marketing">홍보마케팅팀</div>
                                <div class="custom-select-option" data-value="sorijava">소리자바사업부</div>
                                <div class="custom-select-option" data-value="solution">솔루션사업부</div>
                                <div class="custom-select-option" data-value="subtitle">미디어자막사업부</div>
                                <div class="custom-select-option" data-value="global">글로벌사업부</div>
                                <div class="custom-select-option" data-value="media">미디어사업부</div>
                                <div class="custom-select-option" data-value="etc">기타</div>
                            </div>
                        </div>
                        <input type="hidden" id="filterDepartment" value="">
                        
                        <!-- Type Filter -->
                        <div class="custom-select" data-target="filterType">
                            <div class="custom-select-trigger">
                                <span>전체 유형</span>
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-select-option selected" data-value="">전체 유형</div>
                                <div class="custom-select-divider"></div>
                                <div class="custom-select-option" data-value="blog">블로그</div>
                                <div class="custom-select-option" data-value="video">영상</div>
                                <div class="custom-select-option" data-value="social">소셜미디어</div>
                                <div class="custom-select-option" data-value="press">언론보도</div>
                                <div class="custom-select-option" data-value="landing">랜딩페이지</div>
                                <div class="custom-select-option" data-value="whitepaper">백서</div>
                                <div class="custom-select-option" data-value="homepage">홈페이지</div>
                                <div class="custom-select-option" data-value="etc">기타</div>
                            </div>
                        </div>
                        <input type="hidden" id="filterType" value="">
                        
                        <!-- Owner Filter -->
                        <div class="custom-select" data-target="filterOwner">
                            <div class="custom-select-trigger">
                                <span>전체 담당자</span>
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-select-option selected" data-value="">전체 담당자</div>
                                <div class="custom-select-divider"></div>
                                <div class="custom-select-option" data-value="이세영">이세영</div>
                                <div class="custom-select-option" data-value="이콘텐츠">이콘텐츠</div>
                                <div class="custom-select-option" data-value="박디자인">박디자인</div>
                                <div class="custom-select-option" data-value="최영상">최영상</div>
                            </div>
                        </div>
                        <input type="hidden" id="filterOwner" value="">
                    </div>
                    <div class="view-toggle">
                        <button class="view-btn active">칸반</button>
                        <button class="view-btn">리스트</button>
                        <button class="view-btn">캘린더</button>
                    </div>
                </div>

                <!-- Stats Bar -->
                <div class="stats-bar">
                    <div class="stat-item">
                        <div class="stat-icon blue">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="statTotal">24</div>
                            <div class="stat-label">전체 콘텐츠</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon orange">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="statProgress">8</div>
                            <div class="stat-label">진행 중</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon green">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="statPublished">12</div>
                            <div class="stat-label">배포 완료</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon purple">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="statRepurposed">4</div>
                            <div class="stat-label">재활용</div>
                        </div>
                    </div>
                </div>

                <!-- Kanban Board -->
                <div class="kanban-container">
                    <div class="kanban-board" id="kanbanBoard">
                        <!-- Columns will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Dashboard View - CMS Integrated Layout -->
            <div class="dashboard-view active" id="dashboardView">
                <!-- Stats Bar -->
                <div class="dashboard-stats-bar">
                    <div class="dashboard-stat-card">
                        <div class="stat-icon" style="background: var(--toss-blue-light); color: var(--toss-blue);">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="dashStatTotal">10</div>
                            <div class="stat-label">전체</div>
                        </div>
                    </div>
                    <div class="dashboard-stat-card">
                        <div class="stat-icon" style="background: var(--accent-orange-light); color: var(--accent-orange);">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="dashStatProgress">5</div>
                            <div class="stat-label">진행 중</div>
                        </div>
                    </div>
                    <div class="dashboard-stat-card">
                        <div class="stat-icon" style="background: var(--accent-green-light); color: var(--accent-green);">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="dashStatPublished">3</div>
                            <div class="stat-label">배포 완료</div>
                        </div>
                    </div>
                    <div class="dashboard-stat-card">
                        <div class="stat-icon" style="background: var(--accent-purple-light); color: var(--accent-purple);">
                            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="dashStatRepurposed">1</div>
                            <div class="stat-label">재활용</div>
                        </div>
                    </div>

                    <div class="dashboard-stat-divider"></div>

                    <div class="dashboard-filters">
                        <div class="custom-select" data-target="dashFilterDept" style="min-width: 140px;">
                            <div class="custom-select-trigger">
                                <span>전체 부서</span>
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-select-option selected" data-value="">전체 부서</div>
                                <div class="custom-select-option" data-value="marketing">홍보마케팅팀</div>
                                <div class="custom-select-option" data-value="sorijava">소리자바사업부</div>
                                <div class="custom-select-option" data-value="solution">솔루션사업부</div>
                                <div class="custom-select-option" data-value="subtitle">미디어자막사업부</div>
                                <div class="custom-select-option" data-value="global">글로벌사업부</div>
                                <div class="custom-select-option" data-value="media">미디어사업부</div>
                                <div class="custom-select-option" data-value="etc">기타</div>
                            </div>
                        </div>
                        <input type="hidden" id="dashFilterDept" value="">
                        
                        <div class="custom-select" data-target="dashFilterType" style="min-width: 100px;">
                            <div class="custom-select-trigger">
                                <span>전체 유형</span>
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-select-option selected" data-value="">전체 유형</div>
                                <div class="custom-select-option" data-value="blog">블로그</div>
                                <div class="custom-select-option" data-value="video">영상</div>
                                <div class="custom-select-option" data-value="social">소셜미디어</div>
                                <div class="custom-select-option" data-value="press">언론보도</div>
                                <div class="custom-select-option" data-value="landing">랜딩페이지</div>
                                <div class="custom-select-option" data-value="whitepaper">백서</div>
                                <div class="custom-select-option" data-value="homepage">홈페이지</div>
                                <div class="custom-select-option" data-value="etc">기타</div>
                            </div>
                        </div>
                        <input type="hidden" id="dashFilterType" value="">
                    </div>
                </div>

                <!-- Main Content Area -->
                <div class="dashboard-main">
                    <!-- Kanban Section -->
                    <div class="dashboard-kanban">
                        <div class="kanban-header">
                            <div class="kanban-header-title">
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7"></path>
                                </svg>
                                콘텐츠 워크플로우
                            </div>
                            <div class="kanban-view-toggle">
                                <button class="kanban-view-btn active" onclick="toggleKanbanListView('department')">부서별</button>
                                <button class="kanban-view-btn" onclick="toggleKanbanListView('kanban')">칸반</button>
                                <button class="kanban-view-btn" onclick="toggleKanbanListView('list')">리스트</button>
                            </div>
                        </div>
                        
                        <!-- Department Overview (Default View) -->
                        <div class="department-overview-container" id="departmentOverviewContainer" style="display: flex;">
                            <div id="departmentOverviewGrid" class="department-overview-grid">
                                <!-- Initial content rendered by inline script below -->
                            </div>
                        </div>
                        <script>
                            // Immediately render department overview on parse
                            (function() {
                                const grid = document.getElementById('departmentOverviewGrid');
                                if (!grid) return;
                                
                                const deptList = [
                                    { id: 'marketing', name: '홍보마케팅팀' },
                                    { id: 'sorijava', name: '소리자바사업부' },
                                    { id: 'solution', name: '솔루션사업부' },
                                    { id: 'subtitle', name: '미디어자막사업부' },
                                    { id: 'global', name: '글로벌사업부' },
                                    { id: 'media', name: '미디어사업부' },
                                    { id: 'etc', name: '기타' }
                                ];
                                
                                grid.innerHTML = deptList.map(dept => `
                                    <div class="dept-status-card">
                                        <div class="dept-status-header">
                                            <div class="dept-status-title">
                                                <div class="dept-status-icon" style="background: #EFF6FF; color: #3182F6;">${dept.name.charAt(0)}</div>
                                                <div class="dept-status-name">${dept.name}</div>
                                            </div>
                                            <div class="dept-status-total">0<span>건</span></div>
                                        </div>
                                        <div class="dept-progress-bar">
                                            <div class="dept-progress-fill" style="width: 0%; background: #3182F6;"></div>
                                        </div>
                                        <div class="dept-status-stats">
                                            <div class="dept-stat-item"><div class="dept-stat-value">0</div><div class="dept-stat-label">대기</div></div>
                                            <div class="dept-stat-item"><div class="dept-stat-value">0</div><div class="dept-stat-label">진행중</div></div>
                                            <div class="dept-stat-item"><div class="dept-stat-value">0</div><div class="dept-stat-label">완료</div></div>
                                            <div class="dept-stat-item"><div class="dept-stat-value">0%</div><div class="dept-stat-label">완료율</div></div>
                                        </div>
                                        <div class="dept-members-row">
                                            <span class="dept-members-label">담당자</span>
                                            <span class="dept-members-count">0명</span>
                                            <div class="dept-members-avatars"></div>
                                        </div>
                                    </div>
                                `).join('');
                            })();
                        </script>
                        
                        <div class="kanban-scroll-area hidden" id="kanbanScrollArea">
                            <div class="kanban-board-integrated" id="kanbanBoardIntegrated">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>
                        <div class="list-view-container" id="listViewContainer">
                            <div class="list-view-header">
                                <span>콘텐츠</span>
                                <span>상태</span>
                                <span>부서</span>
                                <span>담당자</span>
                                <span>마감일</span>
                                <span>우선순위</span>
                            </div>
                            <div id="listViewItems">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Side Panel -->
                    <div class="dashboard-side-panel">
                        <!-- Quick Stats -->
                        <div class="side-panel-section">
                            <div class="side-panel-header">
                                <span class="side-panel-title">이번 주 현황</span>
                            </div>
                            <div class="quick-stats-grid">
                                <div class="quick-stat-item">
                                    <div class="quick-stat-value" id="weekCreated">3</div>
                                    <div class="quick-stat-label">신규 등록</div>
                                </div>
                                <div class="quick-stat-item">
                                    <div class="quick-stat-value" id="weekCompleted">5</div>
                                    <div class="quick-stat-label">완료</div>
                                </div>
                                <div class="quick-stat-item">
                                    <div class="quick-stat-value" id="weekReview">2</div>
                                    <div class="quick-stat-label">리뷰 대기</div>
                                </div>
                                <div class="quick-stat-item">
                                    <div class="quick-stat-value" id="weekOverdue">1</div>
                                    <div class="quick-stat-label">지연</div>
                                </div>
                            </div>
                        </div>

                        <!-- Due Soon -->
                        <div class="side-panel-section">
                            <div class="side-panel-header">
                                <span class="side-panel-title">마감 임박</span>
                                <span class="side-panel-action">전체 보기</span>
                            </div>
                            <div class="due-soon-list" id="dueSoonList">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Activity Feed -->
                        <div class="side-panel-section">
                            <div class="side-panel-header">
                                <span class="side-panel-title">최근 활동</span>
                                <span class="side-panel-action">전체 보기</span>
                            </div>
                            <div class="activity-feed" id="activityFeed">
                                <div class="activity-feed-item">
                                    <div class="activity-feed-avatar" style="background: var(--accent-purple);">박</div>
                                    <div class="activity-feed-content">
                                        <div class="activity-feed-text"><strong>박지현</strong>이 "AI 마케팅 가이드"를 <strong>승인</strong>했습니다.</div>
                                        <div class="activity-feed-time">10분 전</div>
                                    </div>
                                </div>
                                <div class="activity-feed-item">
                                    <div class="activity-feed-avatar" style="background: var(--toss-blue);">이</div>
                                    <div class="activity-feed-content">
                                        <div class="activity-feed-text"><strong>이세영</strong>이 "1월 뉴스레터"를 <strong>QA 완료</strong>했습니다.</div>
                                        <div class="activity-feed-time">30분 전</div>
                                    </div>
                                </div>
                                <div class="activity-feed-item">
                                    <div class="activity-feed-avatar" style="background: var(--accent-green);">정</div>
                                    <div class="activity-feed-content">
                                        <div class="activity-feed-text"><strong>정수민</strong>이 "제품 데모 영상"에 <strong>댓글</strong>을 남겼습니다.</div>
                                        <div class="activity-feed-time">1시간 전</div>
                                    </div>
                                </div>
                                <div class="activity-feed-item">
                                    <div class="activity-feed-avatar" style="background: var(--accent-orange);">임</div>
                                    <div class="activity-feed-content">
                                        <div class="activity-feed-text"><strong>임채원</strong>이 새 콘텐츠 "자막 가이드"를 <strong>등록</strong>했습니다.</div>
                                        <div class="activity-feed-time">2시간 전</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar View -->
            <div class="calendar-view" id="calendarView">
                <div class="calendar-header">
                    <div class="calendar-nav">
                        <button class="calendar-nav-btn" onclick="changeMonth(-1)">
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <h2 class="calendar-title" id="calendarTitle">2026년 1월</h2>
                        <button class="calendar-nav-btn" onclick="changeMonth(1)">
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Generated by JavaScript -->
                </div>
            </div>

            <!-- Favorites View -->
            <div class="favorites-view" id="favoritesView">
                <div class="view-header">
                    <div>
                        <h2 class="view-title">즐겨찾기</h2>
                        <p class="view-subtitle">자주 사용하는 콘텐츠를 모아보세요</p>
                    </div>
                </div>
                <div class="content-grid" id="favoritesGrid">
                    <!-- Generated by JavaScript -->
                </div>
            </div>

            <!-- Archive View -->
            <div class="archive-view" id="archiveView">
                <div class="view-header">
                    <div>
                        <h2 class="view-title">아카이브</h2>
                        <p class="view-subtitle">배포 완료된 콘텐츠 기록</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <div class="search-box">
                            <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                                <circle cx="8" cy="8" r="6"></circle>
                                <path d="M14 14l4 4"></path>
                            </svg>
                            <input type="text" placeholder="아카이브 검색...">
                        </div>
                    </div>
                </div>
                <div class="archive-filters">
                    <button class="archive-filter-btn active" onclick="filterArchive('all')">전체</button>
                    <button class="archive-filter-btn" onclick="filterArchive('published')">배포 완료</button>
                    <button class="archive-filter-btn" onclick="filterArchive('measured')">성과 측정</button>
                    <button class="archive-filter-btn" onclick="filterArchive('repurposed')">재활용</button>
                </div>
                <table class="archive-table">
                    <thead>
                        <tr>
                            <th>제목</th>
                            <th>유형</th>
                            <th>담당자</th>
                            <th>배포일</th>
                            <th>상태</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="archiveTableBody">
                        <!-- Generated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Tools View - 뤼튼 스타일 -->
            <div class="tools-view" id="toolsView">
                <div class="tools-header">
                    <h1 class="tools-title">도구</h1>
                    <p class="tools-subtitle">콘텐츠 제작에 필요한 다양한 AI 도구를 활용하세요</p>
                </div>
                
                <!-- Category Tabs -->
                <div class="tools-category-tabs" id="toolsCategoryTabs">
                    <button class="tools-category-tab active" onclick="filterTools('all')">전체</button>
                    <button class="tools-category-tab" onclick="filterTools('favorite')">즐겨찾기</button>
                    <button class="tools-category-tab" onclick="filterTools('content')">콘텐츠</button>
                    <button class="tools-category-tab" onclick="filterTools('marketing')">마케팅</button>
                    <button class="tools-category-tab" onclick="filterTools('design')">디자인</button>
                    <button class="tools-category-tab" onclick="filterTools('productivity')">업무</button>
                </div>

                <!-- Tools Grid -->
                <div class="tools-grid" id="toolsGrid">
                    <!-- Generated by JavaScript -->
                </div>
            </div>

            <!-- Team/Department View -->
            <div class="team-view" id="teamView">
                <div class="view-header">
                    <div>
                        <h2 class="view-title">부서 관리</h2>
                        <p class="view-subtitle">부서별 팀원 현황</p>
                    </div>
                </div>
                
                <!-- Department Tabs -->
                <div class="dept-tabs" id="deptTabs">
                    <!-- Generated by JavaScript -->
                </div>

                <!-- Department Summary (shown when "전체" is selected) -->
                <div class="dept-summary" id="deptSummary">
                    <!-- Generated by JavaScript -->
                </div>

                <!-- Department Detail (shown when specific dept is selected) -->
                <div id="deptDetail" style="display: none;">
                    <div class="dept-detail-header" id="deptDetailHeader">
                        <!-- Generated by JavaScript -->
                    </div>
                    <div class="dept-stats" id="deptStats">
                        <!-- Generated by JavaScript -->
                    </div>
                    <div class="team-grid" id="teamGrid">
                        <!-- Generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div class="settings-view" id="settingsView">
                <div class="view-header">
                    <div>
                        <h2 class="view-title">설정</h2>
                        <p class="view-subtitle">CMS 환경 설정</p>
                    </div>
                </div>
                <div class="settings-container">
                    <div class="settings-section">
                        <h3 class="settings-section-title">알림 설정</h3>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">이메일 알림</div>
                                <div class="settings-desc">콘텐츠 상태 변경 시 이메일 알림 받기</div>
                            </div>
                            <div class="settings-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">마감일 알림</div>
                                <div class="settings-desc">마감일 3일 전 알림 받기</div>
                            </div>
                            <div class="settings-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">댓글 알림</div>
                                <div class="settings-desc">새 댓글 작성 시 알림 받기</div>
                            </div>
                            <div class="settings-toggle" onclick="this.classList.toggle('active')"></div>
                        </div>
                    </div>
                    <div class="settings-section">
                        <h3 class="settings-section-title">기본 설정</h3>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">기본 부서</div>
                                <div class="settings-desc">새 콘텐츠 생성 시 기본 부서</div>
                            </div>
                            <div class="custom-select settings-custom-select" data-target="settingsDepartment">
                                <input type="hidden" id="settingsDepartment" value="marketing">
                                <div class="custom-select-trigger">홍보마케팅팀</div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option selected" data-value="marketing">홍보마케팅팀</div>
                                    <div class="custom-select-option" data-value="sorijava">소리자바사업부</div>
                                    <div class="custom-select-option" data-value="solution">솔루션사업부</div>
                                    <div class="custom-select-option" data-value="subtitle">미디어자막사업부</div>
                                    <div class="custom-select-option" data-value="global">글로벌사업부</div>
                                    <div class="custom-select-option" data-value="media">미디어사업부</div>
                                    <div class="custom-select-option" data-value="etc">기타</div>
                                </div>
                            </div>
                        </div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">기본 콘텐츠 유형</div>
                                <div class="settings-desc">새 콘텐츠 생성 시 기본 유형</div>
                            </div>
                            <div class="custom-select settings-custom-select" data-target="settingsContentType">
                                <input type="hidden" id="settingsContentType" value="blog">
                                <div class="custom-select-trigger">블로그</div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option selected" data-value="blog">블로그</div>
                                    <div class="custom-select-option" data-value="video">영상</div>
                                    <div class="custom-select-option" data-value="social">소셜미디어</div>
                                    <div class="custom-select-option" data-value="press">언론보도</div>
                                    <div class="custom-select-option" data-value="landing">랜딩페이지</div>
                                    <div class="custom-select-option" data-value="whitepaper">백서</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section">
                        <h3 class="settings-section-title">워크플로우 설정</h3>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">자동 QA 체크리스트</div>
                                <div class="settings-desc">콘텐츠 제작 완료 시 QA 체크리스트 자동 생성</div>
                            </div>
                            <div class="settings-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">승인 필수</div>
                                <div class="settings-desc">모든 콘텐츠 배포 전 승인 단계 필수</div>
                            </div>
                            <div class="settings-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">성과 측정 기간</div>
                                <div class="settings-desc">배포 후 성과 측정 기간 설정</div>
                            </div>
                            <div class="custom-select settings-custom-select" data-target="settingsMeasurePeriod">
                                <input type="hidden" id="settingsMeasurePeriod" value="30">
                                <div class="custom-select-trigger">30일</div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option" data-value="7">7일</div>
                                    <div class="custom-select-option" data-value="14">14일</div>
                                    <div class="custom-select-option selected" data-value="30">30일</div>
                                    <div class="custom-select-option" data-value="60">60일</div>
                                    <div class="custom-select-option" data-value="90">90일</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Permission Management Section -->
                    <div class="settings-section">
                        <h3 class="settings-section-title">권한 관리</h3>
                        
                        <div class="current-user-role">
                            <div class="current-user-avatar">이</div>
                            <div class="current-user-info">
                                <div class="current-user-name">이세영</div>
                                <div class="current-user-email">seyoung.lee@company.com</div>
                            </div>
                            <div class="custom-select settings-custom-select settings-role-select" data-target="currentUserRole">
                                <input type="hidden" id="currentUserRole" value="admin">
                                <div class="custom-select-trigger">관리자</div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option selected" data-value="admin">관리자</div>
                                    <div class="custom-select-option" data-value="manager">매니저</div>
                                    <div class="custom-select-option" data-value="editor">에디터</div>
                                    <div class="custom-select-option" data-value="viewer">뷰어</div>
                                </div>
                            </div>
                        </div>

                        <div class="role-tabs">
                            <button class="role-tab active" onclick="selectRoleTab('admin')">
                                관리자
                            </button>
                            <button class="role-tab" onclick="selectRoleTab('manager')">
                                매니저
                            </button>
                            <button class="role-tab" onclick="selectRoleTab('editor')">
                                에디터
                            </button>
                            <button class="role-tab" onclick="selectRoleTab('viewer')">
                                뷰어
                            </button>
                        </div>

                        <div class="permission-grid" id="permissionGrid">
                            <div class="permission-header">페이지</div>
                            <div class="permission-header">보기</div>
                            <div class="permission-header">생성</div>
                            <div class="permission-header">수정</div>
                            <div class="permission-header">삭제</div>
                            <!-- Generated by JavaScript -->
                        </div>

                        <div style="margin-top: 20px; padding: 16px; background: var(--toss-blue-light); border-radius: var(--radius-md);">
                            <div style="font-size: 13px; color: var(--toss-blue); font-weight: 500; margin-bottom: 8px;">
                                <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="vertical-align: -3px; margin-right: 6px;">
                                    <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                역할별 권한 안내
                            </div>
                            <ul style="font-size: 12px; color: var(--text-secondary); margin: 0; padding-left: 20px; line-height: 1.8;">
                                <li><strong>관리자</strong>: 모든 기능 접근 및 권한 설정 가능</li>
                                <li><strong>매니저</strong>: 콘텐츠 관리, 팀원 조회 가능 (설정 제한)</li>
                                <li><strong>에디터</strong>: 콘텐츠 생성/수정 가능 (삭제, 설정 제한)</li>
                                <li><strong>뷰어</strong>: 읽기 전용 (생성/수정/삭제 불가)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Panel -->
        <aside class="right-panel" id="rightPanel">
            <!-- Quick Actions -->
            <div class="panel-section">
                <div class="panel-section-header">
                    <span class="panel-section-title">빠른 생성</span>
                </div>
                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="openNewContentModal()">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                        <span>블로그</span>
                    </button>
                    <button class="quick-action-btn" onclick="openNewContentModal()">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                        <span>영상</span>
                    </button>
                    <button class="quick-action-btn" onclick="openNewContentModal()">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path>
                        </svg>
                        <span>소셜</span>
                    </button>
                    <button class="quick-action-btn" onclick="openNewContentModal()">
                        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <span>이메일</span>
                    </button>
                </div>
            </div>

            <!-- Deadline Soon -->
            <div class="panel-section">
                <div class="panel-section-header">
                    <span class="panel-section-title">마감 임박</span>
                    <span class="panel-section-action">전체 보기</span>
                </div>
                <div class="deadline-list" id="deadlineList">
                    <!-- Generated by JavaScript -->
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="panel-section">
                <div class="panel-section-header">
                    <span class="panel-section-title">최근 활동</span>
                    <span class="panel-section-action">전체 보기</span>
                </div>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-avatar" style="background: var(--accent-purple);">박</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>박팀장</strong>이 "AI 마케팅 가이드"를 <strong>승인</strong>했습니다.</div>
                            <div class="activity-time">10분 전</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-avatar" style="background: var(--toss-blue);">김</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>이세영</strong>이 "1월 뉴스레터"를 <strong>QA 완료</strong>했습니다.</div>
                            <div class="activity-time">30분 전</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-avatar" style="background: var(--accent-green);">최</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>최영상</strong>이 "제품 데모 영상"에 <strong>댓글</strong>을 남겼습니다.</div>
                            <div class="activity-time">1시간 전</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-avatar" style="background: var(--accent-orange);">이</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>이콘텐츠</strong>가 "트렌드 인포그래픽"을 <strong>등록</strong>했습니다.</div>
                            <div class="activity-time">2시간 전</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Content Detail Modal -->
    <div class="modal-overlay" id="detailModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-header-left">
                    <span class="modal-status" id="modalStatus" style="background: var(--accent-orange-light); color: var(--accent-orange);">In Production</span>
                    <h2 class="modal-title" id="modalTitle">콘텐츠 제목</h2>
                </div>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body modal-body-single">
                    <div class="modal-tabs">
                        <button class="modal-tab active" data-tab="info">정보</button>
                        <button class="modal-tab" data-tab="brief">브리프</button>
                        <button class="modal-tab" data-tab="production">제작물</button>
                        <button class="modal-tab" data-tab="qa">QA</button>
                        <button class="modal-tab" data-tab="deploy">배포</button>
                        <button class="modal-tab" data-tab="performance">성과</button>
                    </div>
                    
                    <!-- Info Tab (기존 사이드바 정보) -->
                    <div class="tab-content active" id="tab-info">
                        <div class="info-grid">
                            <div class="info-item">
                                <div class="info-label">담당자</div>
                                <div class="info-value">
                                    <div class="info-avatar">이</div>
                                    <span>이세영</span>
                                </div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">마감일</div>
                                <div class="info-value" id="modalDueDate">2026-01-25</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">콘텐츠 유형</div>
                                <div class="info-value" id="modalType">블로그</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">채널</div>
                                <div class="info-value" id="modalChannel">웹사이트</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">부서</div>
                                <div class="info-value" id="modalDept">마케팅팀</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">수정 횟수</div>
                                <div class="info-value">0/1 회</div>
                            </div>
                        </div>
                        <div class="section" style="margin-top: 16px;">
                            <h3 class="section-title">승인자 (최대 2명)</h3>
                            <div class="approvers-row">
                                <div class="approver-chip">
                                    <div class="approver-avatar-sm">박</div>
                                    <span>박팀장</span>
                                    <span class="approver-status approved">승인 완료</span>
                                </div>
                                <div class="approver-chip">
                                    <div class="approver-avatar-sm">이</div>
                                    <span>이본부장</span>
                                    <span class="approver-status pending">대기 중</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Brief Tab -->
                    <div class="tab-content" id="tab-brief">
                        <div class="rules-alert">
                            <h4>운영 규칙</h4>
                            <ul>
                                <li>CMS에 등록되지 않은 콘텐츠는 작업 불가</li>
                                <li>승인자는 최대 2명까지 지정</li>
                                <li>수정은 기본 1회만 허용</li>
                                <li>모든 콘텐츠는 배포 후 성과 기록 필수</li>
                            </ul>
                        </div>
                        <div class="section">
                            <h3 class="section-title">기본 정보</h3>
                            <div class="section-content">
                                <div class="form-group">
                                    <label class="form-label">콘텐츠 목적</label>
                                    <input type="text" class="form-input" id="briefPurpose" value="리드 생성 및 브랜드 인지도 향상">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">타겟 오디언스</label>
                                    <input type="text" class="form-input" id="briefTarget" value="B2B 마케팅 담당자, 30-45세">
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">메시지</h3>
                            <div class="section-content">
                                <div class="form-group">
                                    <label class="form-label">핵심 메시지</label>
                                    <textarea class="form-input form-textarea" id="briefMessage">AI 기반 콘텐츠 관리로 마케팅 효율 3배 향상</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">CTA (행동 유도)</label>
                                    <input type="text" class="form-input" id="briefCta" value="무료 체험 시작하기">
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">구조 및 톤앤매너</h3>
                            <div class="section-content">
                                <div class="form-group">
                                    <label class="form-label">콘텐츠 구조</label>
                                    <textarea class="form-input form-textarea" id="briefStructure">1. 문제 제기 (현재 마케팅 비효율)
2. 솔루션 소개 (AI CMS 기능)
3. 성과 사례 (고객 후기)
4. CTA (무료 체험)</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">톤앤매너</label>
                                    <input type="text" class="form-input" id="briefTone" value="전문적이면서 친근한, 데이터 기반">
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">추가 참고사항</h3>
                            <div class="section-content">
                                <textarea class="form-input form-textarea" id="briefNotes">- 경쟁사 비교 자료 첨부
- 기존 콘텐츠 A/B 테스트 결과 반영
- 모바일 최적화 필수</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Production Tab -->
                    <div class="tab-content" id="tab-production">
                        <div class="section">
                            <h3 class="section-title">제작물 링크</h3>
                            <div class="section-content">
                                <div class="form-group">
                                    <label class="form-label">Figma 디자인</label>
                                    <input type="text" class="form-input" value="https://figma.com/file/xxx">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Google Docs (원고)</label>
                                    <input type="text" class="form-input" value="https://docs.google.com/xxx">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Notion (협업)</label>
                                    <input type="text" class="form-input" value="https://notion.so/xxx">
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">첨부 파일</h3>
                            <div class="section-content">
                                <div style="padding: 32px; text-align: center; border: 2px dashed var(--border-color); border-radius: var(--radius-md); cursor: pointer;">
                                    <p style="color: var(--text-muted); font-size: 14px; font-weight: 500;">파일을 드래그하거나 클릭하여 업로드</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- QA Tab -->
                    <div class="tab-content" id="tab-qa">
                        <div class="section">
                            <h3 class="section-title">QA 체크리스트</h3>
                            <div class="section-content">
                                <div class="qa-checklist">
                                    <div class="qa-item">
                                        <div class="qa-checkbox checked" onclick="toggleCheck(this)">✓</div>
                                        <span class="qa-text">브리프 내용과 일치하는가?</span>
                                    </div>
                                    <div class="qa-item">
                                        <div class="qa-checkbox checked" onclick="toggleCheck(this)">✓</div>
                                        <span class="qa-text">맞춤법/오탈자 검수 완료</span>
                                    </div>
                                    <div class="qa-item">
                                        <div class="qa-checkbox" onclick="toggleCheck(this)"></div>
                                        <span class="qa-text">CTA가 명확하게 노출되는가?</span>
                                    </div>
                                    <div class="qa-item">
                                        <div class="qa-checkbox" onclick="toggleCheck(this)"></div>
                                        <span class="qa-text">브랜드 가이드라인 준수</span>
                                    </div>
                                    <div class="qa-item">
                                        <div class="qa-checkbox" onclick="toggleCheck(this)"></div>
                                        <span class="qa-text">모바일 반응형 확인</span>
                                    </div>
                                    <div class="qa-item">
                                        <div class="qa-checkbox" onclick="toggleCheck(this)"></div>
                                        <span class="qa-text">링크/버튼 동작 테스트</span>
                                    </div>
                                    <div class="qa-item">
                                        <div class="qa-checkbox" onclick="toggleCheck(this)"></div>
                                        <span class="qa-text">이미지 최적화 완료</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">QA 피드백</h3>
                            <div class="section-content">
                                <textarea class="form-input form-textarea" placeholder="QA 검수 의견을 입력하세요..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Deploy Tab -->
                    <div class="tab-content" id="tab-deploy">
                        <div class="section">
                            <h3 class="section-title">배포 정보</h3>
                            <div class="section-content">
                                <div class="form-group">
                                    <label class="form-label">배포 채널</label>
                                    <input type="text" class="form-input" value="회사 블로그, LinkedIn, 뉴스레터">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">배포 예정일</label>
                                    <input type="date" class="form-input" value="2026-01-25">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">배포 URL</label>
                                    <input type="text" class="form-input" placeholder="배포 후 URL 입력">
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">배포 이력</h3>
                            <div class="section-content">
                                <div class="timeline">
                                    <div class="timeline-item">
                                        <div class="timeline-date">2026-01-20 14:30</div>
                                        <div class="timeline-text">콘텐츠 등록 완료</div>
                                    </div>
                                    <div class="timeline-item">
                                        <div class="timeline-date">2026-01-21 10:00</div>
                                        <div class="timeline-text">브리프 작성 완료</div>
                                    </div>
                                    <div class="timeline-item">
                                        <div class="timeline-date">2026-01-22 15:45</div>
                                        <div class="timeline-text">제작 시작</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Tab -->
                    <div class="tab-content" id="tab-performance">
                        <div class="section">
                            <h3 class="section-title">성과 지표</h3>
                            <div class="section-content">
                                <div class="metrics-grid">
                                    <div class="metric-card">
                                        <div class="metric-value" style="color: var(--toss-blue);">12,450</div>
                                        <div class="metric-label">노출 수</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value" style="color: var(--accent-green);">847</div>
                                        <div class="metric-label">클릭 수</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value" style="color: var(--accent-purple);">6.8%</div>
                                        <div class="metric-label">CTR</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value" style="color: var(--accent-orange);">52</div>
                                        <div class="metric-label">전환 수</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="section">
                            <h3 class="section-title">인사이트</h3>
                            <div class="section-content">
                                <textarea class="form-input form-textarea" placeholder="성과 분석 및 인사이트를 기록하세요...">- 예상보다 높은 CTR 기록
- 모바일 유입이 65%로 높음
- CTA 버튼 색상 변경 후 전환율 20% 상승
- 재활용 시 영상 콘텐츠로 변환 권장</textarea>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>

    <!-- New Content Modal -->
    <div class="modal-overlay" id="newContentModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-header-left">
                    <h2 class="modal-title">새 콘텐츠 등록</h2>
                </div>
                <button class="modal-close" onclick="closeNewContentModal()">×</button>
            </div>
            <div class="modal-body modal-body-single">
                <div class="rules-alert">
                    <h4>등록 전 확인사항</h4>
                    <ul>
                        <li>CMS에 등록되지 않은 콘텐츠는 작업이 불가합니다.</li>
                        <li>등록 후 담당자와 승인자를 반드시 지정해주세요.</li>
                    </ul>
                </div>
                <form class="new-content-form" onsubmit="createContent(event)">
                    <div class="form-group">
                        <label class="form-label">콘텐츠 제목 *</label>
                        <input type="text" class="form-input" id="newTitle" required placeholder="콘텐츠 제목을 입력하세요">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">콘텐츠 유형 *</label>
                            <div class="custom-select form-custom-select" data-target="newType">
                                <div class="custom-select-trigger">
                                    <span>선택하세요</span>
                                    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                        <path d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option" data-value="blog">블로그</div>
                                    <div class="custom-select-option" data-value="video">영상</div>
                                    <div class="custom-select-option" data-value="social">소셜미디어</div>
                                    <div class="custom-select-option" data-value="email">이메일</div>
                                    <div class="custom-select-option" data-value="landing">랜딩페이지</div>
                                    <div class="custom-select-option" data-value="whitepaper">백서</div>
                                </div>
                            </div>
                            <input type="hidden" id="newType" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">채널 *</label>
                            <div class="custom-select form-custom-select" data-target="newChannel">
                                <div class="custom-select-trigger">
                                    <span>선택하세요</span>
                                    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                        <path d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option" data-value="website">웹사이트</div>
                                    <div class="custom-select-option" data-value="linkedin">LinkedIn</div>
                                    <div class="custom-select-option" data-value="youtube">YouTube</div>
                                    <div class="custom-select-option" data-value="instagram">Instagram</div>
                                    <div class="custom-select-option" data-value="newsletter">뉴스레터</div>
                                    <div class="custom-select-option" data-value="press">보도자료</div>
                                </div>
                            </div>
                            <input type="hidden" id="newChannel" value="">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">담당자 *</label>
                            <div class="custom-select form-custom-select" data-target="newOwner">
                                <div class="custom-select-trigger">
                                    <span>선택하세요</span>
                                    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                        <path d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                                <div class="custom-select-options">
                                    <div class="custom-select-option" data-value="이세영">이세영</div>
                                    <div class="custom-select-option" data-value="이콘텐츠">이콘텐츠</div>
                                    <div class="custom-select-option" data-value="박디자인">박디자인</div>
                                    <div class="custom-select-option" data-value="최영상">최영상</div>
                                </div>
                            </div>
                            <input type="hidden" id="newOwner" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">마감일 *</label>
                            <input type="date" class="form-input" id="newDueDate" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">부서 *</label>
                        <div class="custom-select form-custom-select" data-target="newDepartment">
                            <div class="custom-select-trigger">
                                <span>선택하세요</span>
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-select-option" data-value="marketing">마케팅팀</div>
                                <div class="custom-select-option" data-value="sales">영업팀</div>
                                <div class="custom-select-option" data-value="product">제품팀</div>
                                <div class="custom-select-option" data-value="hr">인사팀</div>
                            </div>
                        </div>
                        <input type="hidden" id="newDepartment" value="">
                    </div>
                    <div class="form-group">
                        <label class="form-label">콘텐츠 목적</label>
                        <textarea class="form-input form-textarea" id="newPurpose" placeholder="이 콘텐츠의 목적을 설명해주세요"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">타겟 오디언스</label>
                        <input type="text" class="form-input" id="newTarget" placeholder="예: B2B 마케터, 30-45세">
                    </div>
                    <div style="display: flex; gap: 12px; margin-top: 28px;">
                        <button type="button" class="btn-primary" style="background: var(--bg-tertiary); color: var(--text-secondary); flex: 1;" onclick="closeNewContentModal()">취소</button>
                        <button type="submit" class="btn-primary" style="flex: 2;">콘텐츠 등록</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span id="toastMessage">메시지</span>
    </div>

    <script>
        // ========================================
        // DATA MODEL
        // ========================================

        // Content Status Workflow
        const STATUS_FLOW = [
            { id: 'backlog', name: '대기', color: '#8b95a1' },
            { id: 'briefing', name: '브리핑', color: '#3182f6' },
            { id: 'production', name: '제작중', color: '#f59e0b' },
            { id: 'qa', name: '검수', color: '#06b6d4' },
            { id: 'approval', name: '승인', color: '#6366f1' },
            { id: 'scheduled', name: '예약됨', color: '#8b5cf6' },
            { id: 'published', name: '게시됨', color: '#00c73c' },
            { id: 'measured', name: '성과측정', color: '#10b981' },
            { id: 'repurposed', name: '재활용', color: '#ec4899' }
        ];

        // Content Types
        const CONTENT_TYPES = {
            blog: { name: '블로그', color: '#10B981', bg: '#ECFDF5' },
            video: { name: '영상', color: '#4C6EF5', bg: '#EEF2FF' },
            social: { name: '소셜', color: '#EC4899', bg: '#FCE7F3' },
            press: { name: '언론보도', color: '#F59E0B', bg: '#FEF3C7' },
            landing: { name: '랜딩', color: '#8B5CF6', bg: '#F3E8FF' },
            whitepaper: { name: '백서', color: '#6366F1', bg: '#EEF2FF' },
            homepage: { name: '홈페이지', color: '#0EA5E9', bg: '#E0F2FE' },
            etc: { name: '기타', color: '#94A3B8', bg: '#F1F5F9' }
        };

        // Department mapping
        const DEPARTMENTS = {
            marketing: '홍보마케팅팀',
            sorijava: '소리자바사업부',
            solution: '솔루션사업부',
            subtitle: '미디어자막사업부',
            global: '글로벌사업부',
            media: '미디어사업부',
            product: '솔루션사업부',
            other: '기타'
        };

        function getContentTypeColor(type) {
            return CONTENT_TYPES[type]?.color || '#6B7280';
        }

        function getContentTypeBackground(type) {
            return CONTENT_TYPES[type]?.bg || '#F3F4F6';
        }

        function getDepartmentName(departmentId) {
            return DEPARTMENTS[departmentId] || '기타';
        }

        // Sample Data - Content Table
        let contents = [
            {
                id: 1,
                title: 'AI 마케팅 자동화 완벽 가이드',
                purpose: '리드 생성 및 브랜드 인지도 향상',
                target: 'B2B 마케팅 담당자, 30-45세',
                content_type: 'blog',
                channel: '웹사이트',
                status: 'production',
                due_date: '2026-01-25',
                owner: '이세영',
                department: 'marketing',
                priority: 'high',
                created_at: '2026-01-20'
            },
            {
                id: 2,
                title: '2026 마케팅 트렌드 인포그래픽',
                purpose: '소셜 바이럴 및 브랜드 노출',
                target: '마케팅 실무자 전체',
                content_type: 'social',
                channel: 'LinkedIn',
                status: 'briefing',
                due_date: '2026-01-28',
                owner: '이콘텐츠',
                department: 'marketing',
                priority: 'medium',
                created_at: '2026-01-19'
            },
            {
                id: 3,
                title: '제품 데모 영상 v2.0',
                purpose: '제품 기능 소개 및 전환율 향상',
                target: '잠재 고객, IT 의사결정자',
                content_type: 'video',
                channel: 'YouTube',
                status: 'qa',
                due_date: '2026-01-22',
                owner: '최영상',
                department: 'product',
                priority: 'high',
                created_at: '2026-01-15'
            },
            {
                id: 4,
                title: '1월 뉴스레터 - AI 특집',
                purpose: '고객 인게이지먼트 유지',
                target: '기존 고객 및 리드',
                content_type: 'press',
                channel: '언론보도',
                status: 'approval',
                due_date: '2026-01-23',
                owner: '이세영',
                department: 'marketing',
                priority: 'medium',
                created_at: '2026-01-18'
            },
            {
                id: 5,
                title: '신제품 런칭 랜딩페이지',
                purpose: '신제품 출시 프로모션',
                target: '신규 고객',
                content_type: 'landing',
                channel: '웹사이트',
                status: 'backlog',
                due_date: '2026-02-01',
                owner: '박디자인',
                department: 'product',
                priority: 'high',
                created_at: '2026-01-20'
            },
            {
                id: 6,
                title: 'AI 도입 사례 백서',
                purpose: 'B2B 리드 생성',
                target: 'C레벨 의사결정자',
                content_type: 'whitepaper',
                channel: '웹사이트',
                status: 'scheduled',
                due_date: '2026-01-30',
                owner: '이콘텐츠',
                department: 'sales',
                priority: 'low',
                created_at: '2026-01-10'
            },
            {
                id: 7,
                title: '연말 성과 보고 블로그',
                purpose: '브랜드 신뢰도 향상',
                target: '기존 고객 및 파트너사',
                content_type: 'blog',
                channel: '웹사이트',
                status: 'published',
                due_date: '2026-01-15',
                owner: '이세영',
                department: 'marketing',
                priority: 'low',
                created_at: '2026-01-05'
            },
            {
                id: 8,
                title: '고객 인터뷰 영상 시리즈',
                purpose: '사회적 증거 및 신뢰 구축',
                target: '잠재 고객',
                content_type: 'video',
                channel: 'YouTube',
                status: 'measured',
                due_date: '2026-01-10',
                owner: '최영상',
                department: 'marketing',
                priority: 'medium',
                created_at: '2025-12-20'
            },
            {
                id: 9,
                title: '블로그→숏폼 콘텐츠 변환',
                purpose: '콘텐츠 재활용으로 효율 극대화',
                target: '소셜미디어 사용자',
                content_type: 'social',
                channel: 'Instagram',
                status: 'repurposed',
                due_date: '2026-01-18',
                owner: '박디자인',
                department: 'marketing',
                priority: 'low',
                created_at: '2026-01-12'
            },
            {
                id: 10,
                title: '영업팀 제안서 템플릿',
                purpose: '영업 효율화',
                target: '영업팀 내부',
                content_type: 'whitepaper',
                channel: '내부 공유',
                status: 'backlog',
                due_date: '2026-02-05',
                owner: '이콘텐츠',
                department: 'sales',
                priority: 'medium',
                created_at: '2026-01-19'
            }
        ];

        // Brief Table (linked to content_id)
        const briefs = {
            1: {
                content_id: 1,
                key_message: 'AI 기반 콘텐츠 관리로 마케팅 효율 3배 향상',
                cta: '무료 체험 시작하기',
                structure: '1. 문제 제기\n2. 솔루션 소개\n3. 성과 사례\n4. CTA',
                tone: '전문적이면서 친근한',
                notes: '경쟁사 비교 자료 첨부'
            }
        };

        // Performance Table (linked to content_id)
        const performances = {
            7: {
                content_id: 7,
                impressions: 15420,
                clicks: 1023,
                conversions: 78,
                insight: '예상보다 높은 CTR, 모바일 유입 65%'
            },
            8: {
                content_id: 8,
                impressions: 8650,
                clicks: 542,
                conversions: 35,
                insight: '영상 완주율 72%, 구독 전환 양호'
            }
        };

        // ========================================
        // KANBAN BOARD
        // ========================================

        // Current View
        let currentView = 'dashboard';
        let currentMonth = new Date(2026, 0, 1); // January 2026

        function switchView(view) {
            currentView = view;
            
            // Update navigation
            document.querySelectorAll('.nav-item[data-view]').forEach(item => {
                item.classList.toggle('active', item.dataset.view === view);
            });

            // Hide all views
            const views = ['dashboardView', 'calendarView', 'favoritesView', 'archiveView', 'toolsView', 'teamView', 'settingsView'];
            views.forEach(v => {
                const el = document.getElementById(v);
                if (el) el.classList.remove('active');
            });

            // Control right panel visibility - only show on tools page
            const rightPanel = document.getElementById('rightPanel');
            const mainContent = document.querySelector('.main-content');
            if (view === 'tools') {
                rightPanel.classList.add('active');
                mainContent.classList.add('panel-open');
            } else {
                rightPanel.classList.remove('active');
                mainContent.classList.remove('panel-open');
            }

            // Show selected view
            switch(view) {
                case 'dashboard':
                case 'kanban': // Kanban is now part of dashboard
                    document.getElementById('dashboardView').classList.add('active');
                    renderIntegratedDashboard();
                    break;
                case 'calendar':
                    document.getElementById('calendarView').classList.add('active');
                    renderCalendar();
                    break;
                case 'favorites':
                    document.getElementById('favoritesView').classList.add('active');
                    renderFavorites();
                    break;
                case 'archive':
                    document.getElementById('archiveView').classList.add('active');
                    renderArchive();
                    break;
                case 'tools':
                    document.getElementById('toolsView').classList.add('active');
                    renderTools();
                    break;
                case 'team':
                    document.getElementById('teamView').classList.add('active');
                    renderTeam();
                    break;
                case 'settings':
                    document.getElementById('settingsView').classList.add('active');
                    break;
            }
        }

        // ========================================
        // 데이터 연동: 모든 뷰 동시 업데이트
        // ========================================
        function refreshAllViews() {
            // 대시보드 통계 업데이트
            renderDashboardStats();
            
            // 현재 대시보드 뷰에 따라 해당 뷰 업데이트
            if (currentView === 'dashboard') {
                if (currentBoardView === 'department') {
                    renderDepartmentOverview();
                } else if (currentBoardView === 'kanban') {
                    renderKanbanBoard();
                } else {
                    renderListView();
                }
            }
            
            // 캘린더 뷰인 경우 캘린더 업데이트
            if (currentView === 'calendar') {
                renderCalendar();
            }
            
            // 즐겨찾기 뷰인 경우 즐겨찾기 업데이트
            if (currentView === 'favorites') {
                renderFavorites();
            }
            
            // 아카이브 뷰인 경우 아카이브 업데이트
            if (currentView === 'archive') {
                renderArchive();
            }
            
            // 즐겨찾기 배지 업데이트
            updateFavoriteBadge();
        }

        function renderKanbanBoard() {
            const board = document.getElementById('kanbanBoard');
            board.innerHTML = '';

            STATUS_FLOW.forEach(status => {
                const column = createColumn(status);
                board.appendChild(column);
            });

            updateStats();
        }

        // ========================================
        // INTEGRATED DASHBOARD (with Kanban)
        // ========================================

        let currentBoardView = 'department'; // 'department', 'kanban' or 'list'

        function renderIntegratedDashboard() {
            renderDashboardStats();
            
            // Get view areas
            const deptArea = document.getElementById('departmentOverviewContainer');
            const kanbanArea = document.getElementById('kanbanScrollArea');
            const listArea = document.getElementById('listViewContainer');
            
            // Hide kanban and list first
            if (kanbanArea) {
                kanbanArea.classList.add('hidden');
                kanbanArea.style.display = 'none';
            }
            if (listArea) {
                listArea.classList.remove('active');
                listArea.style.display = 'none';
            }
            
            // Always show department view as default on dashboard load
            if (deptArea) {
                deptArea.classList.remove('hidden');
                deptArea.style.display = 'flex';
            }
            
            // Always render department overview first
            renderDepartmentOverview();
            
            // Then handle specific view if different
            if (currentBoardView === 'kanban') {
                if (deptArea) {
                    deptArea.classList.add('hidden');
                    deptArea.style.display = 'none';
                }
                if (kanbanArea) {
                    kanbanArea.classList.remove('hidden');
                    kanbanArea.style.display = 'block';
                }
                renderIntegratedKanban();
            } else if (currentBoardView === 'list') {
                if (deptArea) {
                    deptArea.classList.add('hidden');
                    deptArea.style.display = 'none';
                }
                if (listArea) {
                    listArea.classList.add('active');
                    listArea.style.display = 'flex';
                }
                renderListView();
            }
            
            // Update toggle button states
            document.querySelectorAll('.kanban-view-btn').forEach(btn => {
                const btnText = btn.textContent.trim();
                const isActive = (currentBoardView === 'department' && btnText === '부서별') ||
                                 (currentBoardView === 'kanban' && btnText === '칸반') ||
                                 (currentBoardView === 'list' && btnText === '리스트');
                btn.classList.toggle('active', isActive);
            });
            
            renderDueSoonList();
        }

        function toggleKanbanListView(view) {
            currentBoardView = view;
            
            // Update toggle buttons
            document.querySelectorAll('.kanban-view-btn').forEach(btn => {
                const btnText = btn.textContent.trim();
                const isActive = (view === 'department' && btnText === '부서별') ||
                                 (view === 'kanban' && btnText === '칸반') ||
                                 (view === 'list' && btnText === '리스트');
                btn.classList.toggle('active', isActive);
            });
            
            // Get view areas
            const deptArea = document.getElementById('departmentOverviewContainer');
            const kanbanArea = document.getElementById('kanbanScrollArea');
            const listArea = document.getElementById('listViewContainer');
            
            // Show selected view
            if (view === 'department') {
                if (kanbanArea) { kanbanArea.classList.add('hidden'); kanbanArea.style.display = 'none'; }
                if (listArea) { listArea.classList.remove('active'); listArea.style.display = 'none'; }
                if (deptArea) { deptArea.classList.remove('hidden'); deptArea.style.display = 'flex'; }
                renderDepartmentOverview();
            } else if (view === 'kanban') {
                if (deptArea) { deptArea.classList.add('hidden'); deptArea.style.display = 'none'; }
                if (listArea) { listArea.classList.remove('active'); listArea.style.display = 'none'; }
                if (kanbanArea) { kanbanArea.classList.remove('hidden'); kanbanArea.style.display = 'block'; }
                renderIntegratedKanban();
            } else {
                if (deptArea) { deptArea.classList.add('hidden'); deptArea.style.display = 'none'; }
                if (kanbanArea) { kanbanArea.classList.add('hidden'); kanbanArea.style.display = 'none'; }
                if (listArea) { listArea.classList.add('active'); listArea.style.display = 'flex'; }
                renderListView();
            }
        }

        function renderDepartmentOverview() {
            const grid = document.getElementById('departmentOverviewGrid');
            if (!grid) return;

            const deptList = [
                { id: 'marketing', name: '홍보마케팅팀', color: '#3182F6', bgColor: '#EFF6FF' },
                { id: 'sorijava', name: '소리자바사업부', color: '#3182F6', bgColor: '#EFF6FF' },
                { id: 'solution', name: '솔루션사업부', color: '#3182F6', bgColor: '#EFF6FF' },
                { id: 'subtitle', name: '미디어자막사업부', color: '#3182F6', bgColor: '#EFF6FF' },
                { id: 'global', name: '글로벌사업부', color: '#3182F6', bgColor: '#EFF6FF' },
                { id: 'media', name: '미디어사업부', color: '#3182F6', bgColor: '#EFF6FF' },
                { id: 'etc', name: '기타', color: '#3182F6', bgColor: '#EFF6FF' }
            ];

            grid.innerHTML = deptList.map(dept => {
                const deptContents = contents.filter(c => c.department === dept.id);
                const total = deptContents.length;
                const inProgress = deptContents.filter(c => ['briefing', 'production', 'qa', 'approval'].includes(c.status)).length;
                const completed = deptContents.filter(c => ['published', 'measured', 'repurposed'].includes(c.status)).length;
                const waiting = deptContents.filter(c => ['backlog', 'scheduled'].includes(c.status)).length;
                const progressPercent = total > 0 ? Math.round((completed / total) * 100) : 0;
                
                // Get members for this department
                const deptMembers = teamMembers.filter(m => m.department === dept.id).slice(0, 4);
                const memberColors = ['#3182F6', '#10B981', '#F59E0B', '#EC4899', '#8B5CF6'];

                return `
                    <div class="dept-status-card">
                        <div class="dept-status-header">
                            <div class="dept-status-title">
                                <div class="dept-status-icon" style="background: ${dept.bgColor}; color: ${dept.color};">${dept.name.charAt(0)}</div>
                                <div class="dept-status-name">${dept.name}</div>
                            </div>
                            <div class="dept-status-total">${total}<span>건</span></div>
                        </div>
                        
                        <div class="dept-progress-bar">
                            <div class="dept-progress-fill" style="width: ${progressPercent}%; background: ${dept.color};"></div>
                        </div>
                        
                        <div class="dept-status-stats">
                            <div class="dept-stat-item">
                                <div class="dept-stat-value">${waiting}</div>
                                <div class="dept-stat-label">대기</div>
                            </div>
                            <div class="dept-stat-item">
                                <div class="dept-stat-value">${inProgress}</div>
                                <div class="dept-stat-label">진행중</div>
                            </div>
                            <div class="dept-stat-item">
                                <div class="dept-stat-value">${completed}</div>
                                <div class="dept-stat-label">완료</div>
                            </div>
                            <div class="dept-stat-item">
                                <div class="dept-stat-value">${progressPercent}%</div>
                                <div class="dept-stat-label">완료율</div>
                            </div>
                        </div>
                        
                        <div class="dept-members-row">
                            <span class="dept-members-label">담당자</span>
                            <span class="dept-members-count">${deptMembers.length}명</span>
                            <div class="dept-members-avatars">
                                ${deptMembers.map((m, i) => `
                                    <div class="dept-member-avatar" style="background: ${memberColors[i % memberColors.length]};">${m.name.charAt(0)}</div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderListView() {
            const container = document.getElementById('listViewItems');
            if (!container) return;
            
            const filteredContents = filterContents();
            
            container.innerHTML = filteredContents.map(content => {
                const type = CONTENT_TYPES[content.content_type];
                const status = STATUS_FLOW.find(s => s.id === content.status);
                const isOverdue = new Date(content.due_date) < new Date();
                const isSoon = !isOverdue && (new Date(content.due_date) - new Date()) < 3 * 24 * 60 * 60 * 1000;
                const departmentName = getDepartmentName(content.department);
                
                return `
                    <div class="list-view-item" onclick="openDetailModal(${content.id})">
                        <div class="list-item-title-area">
                            <span class="list-item-type" style="background: ${getContentTypeBackground(content.content_type)}; color: ${getContentTypeColor(content.content_type)}">${type.name}</span>
                            <span class="list-item-title">${content.title}</span>
                        </div>
                        <div class="list-item-status">
                            <span class="list-item-status-dot" style="background: ${status.color}"></span>
                            ${status.name}
                        </div>
                        <div class="list-item-department">${departmentName}</div>
                        <div class="list-item-owner">
                            <div class="list-item-avatar" style="background: var(--toss-blue);">${content.owner.charAt(0)}</div>
                            ${content.owner}
                        </div>
                        <div class="list-item-due ${isOverdue ? 'overdue' : ''} ${isSoon ? 'soon' : ''}">${content.due_date}</div>
                        <div class="list-item-priority">
                            <div class="list-item-priority-dot ${content.priority}"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderDashboardStats() {
            const total = contents.length;
            const inProgress = contents.filter(c => ['briefing', 'production', 'qa', 'approval'].includes(c.status)).length;
            const published = contents.filter(c => ['published', 'measured'].includes(c.status)).length;
            const repurposed = contents.filter(c => c.status === 'repurposed').length;

            document.getElementById('dashStatTotal').textContent = total;
            document.getElementById('dashStatProgress').textContent = inProgress;
            document.getElementById('dashStatPublished').textContent = published;
            document.getElementById('dashStatRepurposed').textContent = repurposed;
        }

        function renderIntegratedKanban() {
            const board = document.getElementById('kanbanBoardIntegrated');
            if (!board) return;
            
            board.innerHTML = '';

            STATUS_FLOW.forEach(status => {
                const column = createIntegratedColumn(status);
                board.appendChild(column);
            });
        }

        function createIntegratedColumn(status) {
            const column = document.createElement('div');
            column.className = 'kanban-column-integrated';
            column.dataset.status = status.id;

            const filteredContents = filterContents().filter(c => c.status === status.id);

            column.innerHTML = `
                <div class="column-header-integrated">
                    <div class="column-title-integrated">
                        <div class="column-dot-integrated" style="background: ${status.color}"></div>
                        <span class="column-name-integrated">${status.name}</span>
                    </div>
                    <span class="column-count-integrated">${filteredContents.length}</span>
                </div>
                <div class="column-cards-integrated" ondrop="handleDrop(event, '${status.id}')" ondragover="handleDragOver(event)">
                    ${filteredContents.map(content => createIntegratedCard(content)).join('')}
                </div>
            `;

            return column;
        }

        function createIntegratedCard(content) {
            const type = CONTENT_TYPES[content.content_type];
            const isOverdue = new Date(content.due_date) < new Date();
            const isSoon = !isOverdue && (new Date(content.due_date) - new Date()) < 3 * 24 * 60 * 60 * 1000;

            return `
                <div class="card-integrated" 
                     draggable="true"
                     ondragstart="handleDragStart(event, ${content.id})"
                     ondragend="handleDragEnd(event)"
                     onclick="openDetailModal(${content.id})">
                    <div class="card-integrated-header">
                        <span class="card-integrated-type" style="background: ${getContentTypeBackground(content.content_type)}; color: ${getContentTypeColor(content.content_type)}">${type.name}</span>
                        <div class="card-integrated-priority ${content.priority}"></div>
                    </div>
                    <div class="card-integrated-title">${content.title}</div>
                    <div class="card-integrated-footer">
                        <div class="card-integrated-owner">
                            <div class="card-integrated-avatar" style="background: var(--toss-blue);">${content.owner.charAt(0)}</div>
                            <span class="card-integrated-owner-name">${content.owner}</span>
                        </div>
                        <span class="card-integrated-due ${isOverdue ? 'overdue' : ''} ${isSoon ? 'soon' : ''}">${content.due_date.slice(5)}</span>
                    </div>
                </div>
            `;
        }

        function renderDueSoonList() {
            const listEl = document.getElementById('dueSoonList');
            if (!listEl) return;
            
            const today = new Date();
            const threeDaysLater = new Date(today.getTime() + 3 * 24 * 60 * 60 * 1000);
            
            const dueSoonContents = contents
                .filter(c => {
                    const dueDate = new Date(c.due_date);
                    return dueDate >= today && dueDate <= threeDaysLater && !['published', 'measured', 'repurposed'].includes(c.status);
                })
                .sort((a, b) => new Date(a.due_date) - new Date(b.due_date))
                .slice(0, 4);

            if (dueSoonContents.length === 0) {
                listEl.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-muted); font-size: 13px;">마감 임박 콘텐츠가 없습니다</div>';
                return;
            }

            listEl.innerHTML = dueSoonContents.map(content => {
                const type = CONTENT_TYPES[content.content_type];
                const daysLeft = Math.ceil((new Date(content.due_date) - today) / (24 * 60 * 60 * 1000));
                return `
                    <div class="due-soon-item" onclick="openDetailModal(${content.id})">
                        <div class="due-soon-icon" style="background: ${getContentTypeBackground(content.content_type)}; color: ${getContentTypeColor(content.content_type)}">
                            ${getContentTypeIcon(content.content_type)}
                        </div>
                        <div class="due-soon-info">
                            <div class="due-soon-title">${content.title}</div>
                            <div class="due-soon-meta">${content.owner} · ${type.name}</div>
                        </div>
                        <div class="due-soon-date">${daysLeft === 0 ? '오늘' : daysLeft === 1 ? '내일' : `${daysLeft}일 후`}</div>
                    </div>
                `;
            }).join('');
        }

        function getContentTypeIcon(type) {
            const icons = {
                blog: '<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',
                video: '<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>',
                social: '<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>',
                press: '<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg>',
                landing: '<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>',
                whitepaper: '<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>'
            };
            return icons[type] || icons.blog;
        }

        function getContentTypeColor(type) {
            const colors = {
                blog: 'var(--toss-blue)',
                video: 'var(--accent-red)',
                social: 'var(--accent-pink)',
                press: 'var(--accent-purple)',
                landing: 'var(--accent-green)',
                whitepaper: 'var(--accent-orange)'
            };
            return colors[type] || colors.blog;
        }

        function getContentTypeBackground(type) {
            const colors = {
                blog: 'var(--toss-blue-light)',
                video: 'var(--accent-red-light)',
                social: 'var(--accent-pink-light)',
                press: 'var(--accent-purple-light)',
                landing: 'var(--accent-green-light)',
                whitepaper: 'var(--accent-orange-light)'
            };
            return colors[type] || colors.blog;
        }

        // ========================================
        // CALENDAR VIEW
        // ========================================

        function renderCalendar() {
            const grid = document.getElementById('calendarGrid');
            const title = document.getElementById('calendarTitle');
            
            const year = currentMonth.getFullYear();
            const month = currentMonth.getMonth();
            
            title.textContent = `${year}년 ${month + 1}월`;
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDay = firstDay.getDay();
            const daysInMonth = lastDay.getDate();
            
            const today = new Date();
            const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
            
            // Get events for this month
            const monthEvents = contents.filter(c => {
                const dueDate = new Date(c.due_date);
                return dueDate.getFullYear() === year && dueDate.getMonth() === month;
            });
            
            let html = `
                <div class="calendar-day-header">일</div>
                <div class="calendar-day-header">월</div>
                <div class="calendar-day-header">화</div>
                <div class="calendar-day-header">수</div>
                <div class="calendar-day-header">목</div>
                <div class="calendar-day-header">금</div>
                <div class="calendar-day-header">토</div>
            `;
            
            // Previous month days
            const prevMonth = new Date(year, month, 0);
            const prevDays = prevMonth.getDate();
            for (let i = startDay - 1; i >= 0; i--) {
                html += `<div class="calendar-day other-month"><span class="day-number">${prevDays - i}</span></div>`;
            }
            
            // Current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = isCurrentMonth && today.getDate() === day;
                const dayEvents = monthEvents.filter(c => new Date(c.due_date).getDate() === day);
                
                html += `<div class="calendar-day ${isToday ? 'today' : ''}">
                    <span class="day-number">${day}</span>
                    ${dayEvents.slice(0, 3).map(e => `
                        <div class="calendar-event ${e.content_type}" onclick="openDetailModal(${e.id})">${e.title}</div>
                    `).join('')}
                    ${dayEvents.length > 3 ? `<div style="font-size: 11px; color: var(--text-muted); padding: 2px 8px;">+${dayEvents.length - 3}개 더</div>` : ''}
                </div>`;
            }
            
            // Next month days
            const remainingDays = 42 - (startDay + daysInMonth);
            for (let i = 1; i <= remainingDays; i++) {
                html += `<div class="calendar-day other-month"><span class="day-number">${i}</span></div>`;
            }
            
            grid.innerHTML = html;
        }

        function changeMonth(delta) {
            currentMonth.setMonth(currentMonth.getMonth() + delta);
            renderCalendar();
        }

        // ========================================
        // FAVORITES VIEW
        // ========================================

        function renderFavorites() {
            const grid = document.getElementById('favoritesGrid');
            const favoriteContents = contents.filter(c => favorites.has(c.id));
            
            if (favoriteContents.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 60px 20px;">
                        <svg width="64" height="64" fill="none" stroke="var(--text-disabled)" stroke-width="1.5" viewBox="0 0 24 24" style="margin: 0 auto 16px;">
                            <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                        </svg>
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">즐겨찾기가 비어있습니다</h3>
                        <p style="font-size: 14px; color: var(--text-muted);">콘텐츠 카드의 별 아이콘을 클릭하여 즐겨찾기에 추가하세요</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = favoriteContents.map(content => {
                const type = CONTENT_TYPES[content.content_type];
                const status = STATUS_FLOW.find(s => s.id === content.status);
                return `
                    <div class="content-grid-card" onclick="openDetailModal(${content.id})">
                        <div class="content-grid-header">
                            <span class="content-grid-type" style="background: ${getContentTypeBackground(content.content_type)}; color: ${getContentTypeColor(content.content_type)}">
                                ${type.name}
                            </span>
                            <div class="card-favorite active" onclick="event.stopPropagation(); toggleFavorite(${content.id}); renderFavorites();">
                                <svg fill="currentColor" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="16" height="16">
                                    <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                                </svg>
                            </div>
                        </div>
                        <h3 class="content-grid-title">${content.title}</h3>
                        <div class="content-grid-meta">
                            <span>${content.owner}</span>
                            <span>·</span>
                            <span>${content.due_date}</span>
                        </div>
                        <div style="margin-top: 12px;">
                            <span class="content-grid-status">
                                <span class="status-dot-sm" style="background: ${status.color}"></span>
                                ${status.name}
                            </span>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ========================================
        // ARCHIVE VIEW
        // ========================================

        let archiveFilter = 'all';

        function filterArchive(filter) {
            archiveFilter = filter;
            document.querySelectorAll('.archive-filter-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.includes(
                    filter === 'all' ? '전체' : 
                    filter === 'published' ? '배포 완료' : 
                    filter === 'measured' ? '성과 측정' : '재활용'
                ));
            });
            renderArchive();
        }

        function renderArchive() {
            const tbody = document.getElementById('archiveTableBody');
            let archivedContents = contents.filter(c => 
                ['published', 'measured', 'repurposed'].includes(c.status)
            );
            
            if (archiveFilter !== 'all') {
                archivedContents = archivedContents.filter(c => c.status === archiveFilter);
            }
            
            if (archivedContents.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 40px; color: var(--text-muted);">
                            아카이브된 콘텐츠가 없습니다
                        </td>
                    </tr>
                `;
                return;
            }
            
            tbody.innerHTML = archivedContents.map(content => {
                const type = CONTENT_TYPES[content.content_type];
                const status = STATUS_FLOW.find(s => s.id === content.status);
                return `
                    <tr onclick="openDetailModal(${content.id})" style="cursor: pointer;">
                        <td class="title-cell">${content.title}</td>
                        <td>
                            <span class="type-badge ${content.content_type}" style="background: ${getContentTypeBackground(content.content_type)}; color: ${getContentTypeColor(content.content_type)}">
                                ${type.name}
                            </span>
                        </td>
                        <td>${content.owner}</td>
                        <td>${content.due_date}</td>
                        <td>
                            <span class="content-grid-status">
                                <span class="status-dot-sm" style="background: ${status.color}"></span>
                                ${status.name}
                            </span>
                        </td>
                        <td>
                            <button class="content-list-action" onclick="event.stopPropagation(); openDetailModal(${content.id})">
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ========================================
        // TOOLS VIEW - 뤼튼 스타일
        // ========================================

        const tools = [
            { id: 1, name: '블로그 글쓰기', desc: 'SEO 최적화된 블로그 포스트를 AI가 작성해드립니다', category: 'content', icon: 'edit', color: 'var(--toss-blue)', bgColor: 'var(--toss-blue-light)', badge: 'popular', favorite: true },
            { id: 2, name: '카피라이팅', desc: '매력적인 광고 문구와 슬로건을 생성합니다', category: 'marketing', icon: 'sparkle', color: 'var(--accent-purple)', bgColor: 'var(--accent-purple-light)', badge: 'ai', favorite: false },
            { id: 3, name: '이미지 생성', desc: 'AI로 고품질 이미지를 즉시 생성합니다', category: 'design', icon: 'image', color: 'var(--accent-pink)', bgColor: 'var(--accent-pink-light)', badge: 'new', favorite: true },
            { id: 4, name: 'SNS 콘텐츠', desc: '인스타그램, 페이스북용 콘텐츠를 생성합니다', category: 'content', icon: 'share', color: 'var(--accent-green)', bgColor: 'var(--accent-green-light)', badge: null, favorite: false },
            { id: 5, name: '이메일 작성', desc: '비즈니스 이메일을 전문적으로 작성합니다', category: 'productivity', icon: 'mail', color: 'var(--accent-orange)', bgColor: 'var(--accent-orange-light)', badge: 'popular', favorite: true },
            { id: 6, name: '보도자료 작성', desc: '언론 배포용 보도자료를 작성합니다', category: 'content', icon: 'newspaper', color: 'var(--accent-red)', bgColor: 'var(--accent-red-light)', badge: null, favorite: false },
            { id: 7, name: '번역', desc: '다국어 번역을 정확하게 수행합니다', category: 'productivity', icon: 'translate', color: 'var(--toss-blue)', bgColor: 'var(--toss-blue-light)', badge: 'ai', favorite: false },
            { id: 8, name: '요약', desc: '긴 문서를 핵심만 추려 요약합니다', category: 'productivity', icon: 'summary', color: 'var(--accent-purple)', bgColor: 'var(--accent-purple-light)', badge: null, favorite: true },
            { id: 9, name: 'SEO 분석', desc: '콘텐츠의 SEO 점수를 분석하고 개선점을 제안합니다', category: 'marketing', icon: 'search', color: 'var(--accent-green)', bgColor: 'var(--accent-green-light)', badge: 'new', favorite: false },
            { id: 10, name: '키워드 추출', desc: '콘텐츠에서 핵심 키워드를 자동 추출합니다', category: 'marketing', icon: 'tag', color: 'var(--accent-orange)', bgColor: 'var(--accent-orange-light)', badge: null, favorite: false },
            { id: 11, name: '썸네일 생성', desc: '유튜브/블로그용 썸네일 이미지를 생성합니다', category: 'design', icon: 'thumbnail', color: 'var(--accent-pink)', bgColor: 'var(--accent-pink-light)', badge: 'popular', favorite: true },
            { id: 12, name: '문법 검사', desc: '맞춤법과 문법 오류를 자동으로 수정합니다', category: 'productivity', icon: 'check', color: 'var(--accent-red)', bgColor: 'var(--accent-red-light)', badge: null, favorite: false }
        ];

        let currentToolCategory = 'all';

        const TOOL_ICONS = {
            edit: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',
            sparkle: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>',
            image: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>',
            share: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>',
            mail: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>',
            newspaper: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg>',
            translate: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path></svg>',
            summary: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',
            search: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',
            tag: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg>',
            thumbnail: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>',
            check: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'
        };

        function renderTools() {
            const grid = document.getElementById('toolsGrid');
            if (!grid) return;

            let filteredTools = tools;
            if (currentToolCategory === 'favorite') {
                filteredTools = tools.filter(t => t.favorite);
            } else if (currentToolCategory !== 'all') {
                filteredTools = tools.filter(t => t.category === currentToolCategory);
            }

            grid.innerHTML = filteredTools.map(tool => `
                <div class="tool-card" onclick="useTool(${tool.id})">
                    <div class="tool-icon" style="background: ${tool.bgColor}; color: ${tool.color};">
                        ${TOOL_ICONS[tool.icon]}
                    </div>
                    <div class="tool-info">
                        <div class="tool-name">${tool.name}</div>
                        <div class="tool-desc">${tool.desc}</div>
                        ${tool.badge ? `<span class="tool-badge ${tool.badge}">${tool.badge === 'new' ? 'NEW' : tool.badge === 'popular' ? '인기' : 'AI'}</span>` : ''}
                    </div>
                    <button class="tool-favorite-btn ${tool.favorite ? 'active' : ''}" onclick="event.stopPropagation(); toggleToolFavorite(${tool.id})">
                        <svg fill="${tool.favorite ? 'currentColor' : 'none'}" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        function filterTools(category) {
            currentToolCategory = category;
            
            // Update tab active state
            document.querySelectorAll('.tools-category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderTools();
        }

        function toggleToolFavorite(toolId) {
            const tool = tools.find(t => t.id === toolId);
            if (tool) {
                tool.favorite = !tool.favorite;
                renderTools();
                showToast(tool.favorite ? `${tool.name}을(를) 즐겨찾기에 추가했습니다` : `${tool.name}을(를) 즐겨찾기에서 제거했습니다`);
            }
        }

        function useTool(toolId) {
            const tool = tools.find(t => t.id === toolId);
            if (tool) {
                showToast(`${tool.name} 도구를 실행합니다`);
                // Here you would open the actual tool interface
            }
        }

        // ========================================
        // DEPARTMENT & TEAM VIEW
        // ========================================

        // Department configuration
        const departments = [
            { id: 'all', name: '전체', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'marketing', name: '홍보마케팅팀', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'sorijava', name: '소리자바사업부', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'solution', name: '솔루션사업부', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'subtitle', name: '미디어자막사업부', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'global', name: '글로벌사업부', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'media', name: '미디어사업부', color: '#3182F6', bgColor: '#EFF6FF' },
            { id: 'etc', name: '기타', color: '#3182F6', bgColor: '#EFF6FF' }
        ];

        const teamMembers = [
            // 홍보마케팅팀
            { name: '이세영', role: '콘텐츠마케팅 총괄', department: 'marketing', color: 'linear-gradient(135deg, var(--toss-blue), var(--accent-purple))', status: 'online', inProgress: 3, completed: 12, reviews: 5, userRole: 'admin' },
            { name: '김민지', role: '마케팅 매니저', department: 'marketing', color: 'var(--toss-blue)', status: 'online', inProgress: 2, completed: 8, reviews: 3, userRole: 'manager' },
            { name: '박지현', role: '콘텐츠 기획자', department: 'marketing', color: 'var(--accent-purple)', status: 'busy', inProgress: 4, completed: 15, reviews: 6, userRole: 'editor' },
            
            // 소리자바사업부
            { name: '이콘텐츠', role: '사업부장', department: 'sorijava', color: 'var(--accent-green)', status: 'online', inProgress: 2, completed: 8, reviews: 3, userRole: 'manager' },
            { name: '정수민', role: '개발자', department: 'sorijava', color: '#22c55e', status: 'online', inProgress: 5, completed: 20, reviews: 8, userRole: 'editor' },
            { name: '한서준', role: '개발자', department: 'sorijava', color: '#16a34a', status: 'offline', inProgress: 1, completed: 12, reviews: 4, userRole: 'editor' },
            
            // 솔루션사업부
            { name: '박디자인', role: '솔루션 아키텍트', department: 'solution', color: 'var(--accent-purple)', status: 'busy', inProgress: 2, completed: 15, reviews: 7, userRole: 'manager' },
            { name: '송유진', role: '솔루션 엔지니어', department: 'solution', color: '#8b5cf6', status: 'online', inProgress: 3, completed: 10, reviews: 5, userRole: 'editor' },
            
            // 미디어자막사업부
            { name: '최영상', role: '자막 팀장', department: 'subtitle', color: 'var(--accent-orange)', status: 'offline', inProgress: 1, completed: 6, reviews: 2, userRole: 'manager' },
            { name: '임채원', role: '자막 편집자', department: 'subtitle', color: '#f97316', status: 'online', inProgress: 4, completed: 25, reviews: 10, userRole: 'editor' },
            { name: '윤서아', role: '자막 편집자', department: 'subtitle', color: '#ea580c', status: 'online', inProgress: 3, completed: 18, reviews: 7, userRole: 'editor' },
            
            // 글로벌사업부
            { name: '장하늘', role: '글로벌 매니저', department: 'global', color: 'var(--accent-pink)', status: 'online', inProgress: 2, completed: 9, reviews: 4, userRole: 'manager' },
            { name: '오세진', role: '해외 마케팅', department: 'global', color: '#ec4899', status: 'busy', inProgress: 3, completed: 11, reviews: 5, userRole: 'editor' },
            
            // 미디어사업부
            { name: '신동욱', role: '미디어 팀장', department: 'media', color: 'var(--accent-red)', status: 'online', inProgress: 2, completed: 14, reviews: 6, userRole: 'manager' },
            { name: '권나연', role: '영상 프로듀서', department: 'media', color: '#dc2626', status: 'online', inProgress: 4, completed: 22, reviews: 9, userRole: 'editor' },
            { name: '조민준', role: '영상 에디터', department: 'media', color: '#b91c1c', status: 'offline', inProgress: 1, completed: 8, reviews: 3, userRole: 'viewer' },
            
            // 기타
            { name: '백승호', role: '인턴', department: 'etc', color: 'var(--text-muted)', status: 'online', inProgress: 1, completed: 3, reviews: 1, userRole: 'viewer' }
        ];

        let selectedDepartment = 'all';

        // ========================================
        // PERMISSION MANAGEMENT
        // ========================================

        // Current user role (can be changed for demo)
        let currentUserRole = 'manager';
        let selectedRoleTab = 'admin';

        // Pages configuration
        const pages = [
            { id: 'dashboard', name: '대시보드', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg>' },
            { id: 'calendar', name: '캘린더', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>' },
            { id: 'favorites', name: '즐겨찾기', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg>' },
            { id: 'archive', name: '아카이브', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg>' },
            { id: 'tools', name: '도구', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>' },
            { id: 'team', name: '부서 관리', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>' },
            { id: 'settings', name: '설정', icon: '<svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>' }
        ];

        // Role permissions: view, create, edit, delete for each page
        let rolePermissions = {
            admin: {
                dashboard: { view: true, create: true, edit: true, delete: true },
                calendar: { view: true, create: true, edit: true, delete: true },
                favorites: { view: true, create: true, edit: true, delete: true },
                archive: { view: true, create: true, edit: true, delete: true },
                template: { view: true, create: true, edit: true, delete: true },
                team: { view: true, create: true, edit: true, delete: true },
                settings: { view: true, create: true, edit: true, delete: true }
            },
            manager: {
                dashboard: { view: true, create: true, edit: true, delete: true },
                calendar: { view: true, create: true, edit: true, delete: false },
                favorites: { view: true, create: true, edit: true, delete: true },
                archive: { view: true, create: false, edit: false, delete: false },
                template: { view: true, create: true, edit: true, delete: false },
                team: { view: true, create: false, edit: false, delete: false },
                settings: { view: true, create: false, edit: false, delete: false }
            },
            editor: {
                dashboard: { view: true, create: true, edit: true, delete: false },
                calendar: { view: true, create: true, edit: true, delete: false },
                favorites: { view: true, create: true, edit: true, delete: true },
                archive: { view: true, create: false, edit: false, delete: false },
                template: { view: true, create: false, edit: false, delete: false },
                team: { view: false, create: false, edit: false, delete: false },
                settings: { view: false, create: false, edit: false, delete: false }
            },
            viewer: {
                dashboard: { view: true, create: false, edit: false, delete: false },
                calendar: { view: true, create: false, edit: false, delete: false },
                favorites: { view: true, create: false, edit: false, delete: false },
                archive: { view: true, create: false, edit: false, delete: false },
                template: { view: false, create: false, edit: false, delete: false },
                team: { view: false, create: false, edit: false, delete: false },
                settings: { view: false, create: false, edit: false, delete: false }
            }
        };

        function selectRoleTab(role) {
            selectedRoleTab = role;
            document.querySelectorAll('.role-tab').forEach(tab => {
                tab.classList.toggle('active', tab.textContent.trim().includes(
                    role === 'admin' ? '관리자' : 
                    role === 'manager' ? '매니저' : 
                    role === 'editor' ? '에디터' : '뷰어'
                ));
            });
            renderPermissionGrid();
        }

        function renderPermissionGrid() {
            const grid = document.getElementById('permissionGrid');
            const permissions = rolePermissions[selectedRoleTab];
            
            let html = `
                <div class="permission-header">페이지</div>
                <div class="permission-header">보기</div>
                <div class="permission-header">생성</div>
                <div class="permission-header">수정</div>
                <div class="permission-header">삭제</div>
            `;
            
            pages.forEach(page => {
                const perms = permissions[page.id];
                const isAdmin = selectedRoleTab === 'admin';
                
                html += `
                    <div class="permission-page">${page.icon} ${page.name}</div>
                    <div class="permission-check">
                        <div class="permission-checkbox ${perms.view ? 'checked' : ''} ${isAdmin ? 'disabled' : ''}" 
                             onclick="togglePermission('${page.id}', 'view', this)"></div>
                    </div>
                    <div class="permission-check">
                        <div class="permission-checkbox ${perms.create ? 'checked' : ''} ${isAdmin ? 'disabled' : ''}" 
                             onclick="togglePermission('${page.id}', 'create', this)"></div>
                    </div>
                    <div class="permission-check">
                        <div class="permission-checkbox ${perms.edit ? 'checked' : ''} ${isAdmin ? 'disabled' : ''}" 
                             onclick="togglePermission('${page.id}', 'edit', this)"></div>
                    </div>
                    <div class="permission-check">
                        <div class="permission-checkbox ${perms.delete ? 'checked' : ''} ${isAdmin ? 'disabled' : ''}" 
                             onclick="togglePermission('${page.id}', 'delete', this)"></div>
                    </div>
                `;
            });
            
            grid.innerHTML = html;
        }

        function togglePermission(pageId, permType, element) {
            if (selectedRoleTab === 'admin') return; // Admin permissions cannot be changed
            
            const isChecked = element.classList.contains('checked');
            element.classList.toggle('checked');
            rolePermissions[selectedRoleTab][pageId][permType] = !isChecked;
            
            // If view is unchecked, uncheck all other permissions
            if (permType === 'view' && isChecked) {
                rolePermissions[selectedRoleTab][pageId].create = false;
                rolePermissions[selectedRoleTab][pageId].edit = false;
                rolePermissions[selectedRoleTab][pageId].delete = false;
                renderPermissionGrid();
            }
            
            // Apply permissions immediately if changing current user's role
            if (selectedRoleTab === currentUserRole) {
                applyPermissions();
            }
            
            showToast('권한이 변경되었습니다.');
        }

        function changeCurrentUserRole(role) {
            currentUserRole = role;
            applyPermissions();
            showToast(`현재 역할이 "${getRoleName(role)}"(으)로 변경되었습니다.`);
        }

        function getRoleName(role) {
            const names = { admin: '관리자', manager: '매니저', editor: '에디터', viewer: '뷰어' };
            return names[role] || role;
        }

        function applyPermissions() {
            const permissions = rolePermissions[currentUserRole];
            
            // Show/hide navigation items based on view permission
            document.querySelectorAll('.nav-item[data-view]').forEach(item => {
                const view = item.dataset.view;
                if (permissions[view]) {
                    if (permissions[view].view) {
                        item.classList.remove('hidden-by-permission');
                    } else {
                        item.classList.add('hidden-by-permission');
                    }
                }
            });
            
            // Show/hide "New Content" button based on create permission
            const newContentBtn = document.querySelector('.header-actions .btn-primary');
            if (newContentBtn) {
                const canCreate = permissions.kanban?.create || permissions.dashboard?.create;
                newContentBtn.style.display = canCreate ? '' : 'none';
            }
            
            // If current view is not accessible, switch to first accessible view
            const currentViewPermission = permissions[currentView];
            if (currentViewPermission && !currentViewPermission.view) {
                const firstAccessibleView = Object.keys(permissions).find(v => permissions[v].view);
                if (firstAccessibleView) {
                    switchView(firstAccessibleView);
                }
            }
        }

        function hasPermission(pageId, permType) {
            return rolePermissions[currentUserRole]?.[pageId]?.[permType] ?? false;
        }

        function renderTeam() {
            renderDeptTabs();
            if (selectedDepartment === 'all') {
                renderDeptSummary();
            } else {
                renderDeptDetail();
            }
        }

        function renderDeptTabs() {
            const tabsEl = document.getElementById('deptTabs');
            
            tabsEl.innerHTML = departments.map(dept => {
                const count = dept.id === 'all' 
                    ? teamMembers.length 
                    : teamMembers.filter(m => m.department === dept.id).length;
                return `
                    <button class="dept-tab ${selectedDepartment === dept.id ? 'active' : ''}" 
                            onclick="selectDepartment('${dept.id}')">
                        ${dept.name}
                        <span class="dept-count">${count}</span>
                    </button>
                `;
            }).join('');
        }

        function selectDepartment(deptId) {
            selectedDepartment = deptId;
            renderTeam();
        }

        function renderDeptSummary() {
            document.getElementById('deptSummary').style.display = 'grid';
            document.getElementById('deptDetail').style.display = 'none';
            
            const summaryEl = document.getElementById('deptSummary');
            
            summaryEl.innerHTML = departments.filter(d => d.id !== 'all').map(dept => {
                const members = teamMembers.filter(m => m.department === dept.id);
                const onlineCount = members.filter(m => m.status === 'online').length;
                
                return `
                    <div class="dept-summary-card" onclick="selectDepartment('${dept.id}')" style="cursor: pointer;">
                        <div class="dept-summary-header">
                            <div class="dept-summary-icon" style="background: ${dept.bgColor}; color: ${dept.color};">
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                </svg>
                            </div>
                            <div>
                                <div class="dept-summary-title">${dept.name}</div>
                                <div class="dept-summary-count">${members.length}명 · ${onlineCount}명 온라인</div>
                            </div>
                        </div>
                        <div class="dept-member-list">
                            ${members.slice(0, 5).map(m => `
                                <div class="dept-member-avatar" style="background: ${m.color};" title="${m.name}">${m.name.charAt(0)}</div>
                            `).join('')}
                            ${members.length > 5 ? `<div class="dept-member-avatar" style="background: var(--bg-tertiary); color: var(--text-muted);">+${members.length - 5}</div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderDeptDetail() {
            document.getElementById('deptSummary').style.display = 'none';
            document.getElementById('deptDetail').style.display = 'block';
            
            const dept = departments.find(d => d.id === selectedDepartment);
            const members = teamMembers.filter(m => m.department === selectedDepartment);
            
            const totalInProgress = members.reduce((sum, m) => sum + m.inProgress, 0);
            const totalCompleted = members.reduce((sum, m) => sum + m.completed, 0);
            const totalReviews = members.reduce((sum, m) => sum + m.reviews, 0);
            const onlineCount = members.filter(m => m.status === 'online').length;
            
            // Header
            document.getElementById('deptDetailHeader').innerHTML = `
                <div class="dept-detail-icon" style="background: ${dept.bgColor}; color: ${dept.color};">
                    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                    </svg>
                </div>
                <div class="dept-detail-info">
                    <h3>${dept.name}</h3>
                    <p>${members.length}명의 팀원 · ${onlineCount}명 온라인</p>
                </div>
            `;
            
            // Stats
            document.getElementById('deptStats').innerHTML = `
                <div class="dept-stat-item">
                    <div class="dept-stat-value">${members.length}</div>
                    <div class="dept-stat-label">총 인원</div>
                </div>
                <div class="dept-stat-item">
                    <div class="dept-stat-value">${totalInProgress}</div>
                    <div class="dept-stat-label">진행 중</div>
                </div>
                <div class="dept-stat-item">
                    <div class="dept-stat-value">${totalCompleted}</div>
                    <div class="dept-stat-label">완료</div>
                </div>
                <div class="dept-stat-item">
                    <div class="dept-stat-value">${totalReviews}</div>
                    <div class="dept-stat-label">리뷰</div>
                </div>
            `;
            
            // Team Grid
            const grid = document.getElementById('teamGrid');
            grid.innerHTML = members.map(member => `
                <div class="team-card">
                    <div class="team-card-header">
                        <div class="team-card-avatar" style="background: ${member.color};">${member.name.charAt(0)}</div>
                        <div class="team-card-info">
                            <h3>${member.name}</h3>
                            <p>${member.role}</p>
                        </div>
                        <span class="role-badge ${member.userRole}">${getRoleName(member.userRole)}</span>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                        <div class="team-status">
                            <span class="team-status-dot ${member.status}"></span>
                            ${member.status === 'online' ? '온라인' : member.status === 'busy' ? '자리비움' : '오프라인'}
                        </div>
                    </div>
                    <div class="team-card-stats">
                        <div class="team-stat">
                            <div class="team-stat-value">${member.inProgress}</div>
                            <div class="team-stat-label">진행 중</div>
                        </div>
                        <div class="team-stat">
                            <div class="team-stat-value">${member.completed}</div>
                            <div class="team-stat-label">완료</div>
                        </div>
                        <div class="team-stat">
                            <div class="team-stat-value">${member.reviews}</div>
                            <div class="team-stat-label">리뷰</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function createColumn(status) {
            const column = document.createElement('div');
            column.className = 'kanban-column';
            column.dataset.status = status.id;

            const filteredContents = filterContents().filter(c => c.status === status.id);

            column.innerHTML = `
                <div class="column-header">
                    <div class="column-title">
                        <div class="column-dot" style="background: ${status.color}"></div>
                        <span class="column-name">${status.name}</span>
                    </div>
                    <span class="column-count">${filteredContents.length}</span>
                </div>
                <div class="column-cards" ondrop="handleDrop(event, '${status.id}')" ondragover="handleDragOver(event)">
                    ${filteredContents.map(content => createCard(content)).join('')}
                    <button class="add-card-btn" onclick="openNewContentModal()">
                        + 콘텐츠 추가
                    </button>
                </div>
            `;

            return column;
        }

        // Favorites
        let favorites = new Set([1, 3, 7]);

        function createCard(content) {
            const type = CONTENT_TYPES[content.content_type];
            const isOverdue = new Date(content.due_date) < new Date();
            const isSoon = !isOverdue && (new Date(content.due_date) - new Date()) < 3 * 24 * 60 * 60 * 1000;
            const progress = getStatusProgress(content.status);
            const isFavorite = favorites.has(content.id);

            return `
                <div class="content-card" 
                     draggable="true"
                     ondragstart="handleDragStart(event, ${content.id})"
                     ondragend="handleDragEnd(event)"
                     onclick="openDetailModal(${content.id})">
                    <div class="card-header">
                        <span class="card-type ${content.content_type}">${type.name}</span>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div class="card-favorite ${isFavorite ? 'active' : ''}" onclick="event.stopPropagation(); toggleFavorite(${content.id})">
                                <svg fill="${isFavorite ? 'currentColor' : 'none'}" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                                </svg>
                            </div>
                            <div class="card-priority ${content.priority}"></div>
                        </div>
                    </div>
                    <div class="card-title">${content.title}</div>
                    <div class="card-channel">
                        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                        </svg>
                        ${content.channel}
                    </div>
                    <div class="card-progress">
                        <div class="progress-bar">
                            <div class="progress-fill ${progress === 100 ? 'complete' : ''}" style="width: ${progress}%"></div>
                        </div>
                        <div class="progress-text">${progress}% 완료</div>
                    </div>
                    <div class="card-footer">
                        <div class="card-owner">
                            <div class="owner-avatar">${content.owner.charAt(0)}</div>
                            <span class="owner-name">${content.owner}</span>
                        </div>
                        <span class="card-due ${isOverdue ? 'overdue' : ''} ${isSoon ? 'soon' : ''}">
                            ${content.due_date}
                        </span>
                    </div>
                </div>
            `;
        }

        // ========================================
        // DRAG & DROP
        // ========================================

        let draggedId = null;

        function handleDragStart(event, id) {
            draggedId = id;
            event.target.classList.add('dragging');
            event.dataTransfer.effectAllowed = 'move';
        }

        function handleDragEnd(event) {
            event.target.classList.remove('dragging');
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.dataTransfer.dropEffect = 'move';
        }

        function handleDrop(event, newStatus) {
            event.preventDefault();
            if (draggedId) {
                const content = contents.find(c => c.id === draggedId);
                if (content) {
                    // Check workflow rules
                    if (canMoveToStatus(content.status, newStatus)) {
                        content.status = newStatus;
                        refreshAllViews();
                        showToast(`"${content.title}" 상태가 ${STATUS_FLOW.find(s => s.id === newStatus).name}로 변경되었습니다.`, 'success');
                    } else {
                        showToast('순서대로 상태를 변경해주세요.', 'warning');
                    }
                }
                draggedId = null;
            }
        }

        function canMoveToStatus(currentStatus, newStatus) {
            const currentIndex = STATUS_FLOW.findIndex(s => s.id === currentStatus);
            const newIndex = STATUS_FLOW.findIndex(s => s.id === newStatus);
            // Allow moving forward or one step back
            return newIndex >= currentIndex - 1;
        }

        // ========================================
        // FILTERS
        // ========================================

        function filterContents() {
            const department = document.getElementById('filterDepartment').value;
            const type = document.getElementById('filterType').value;
            const owner = document.getElementById('filterOwner').value;
            const search = document.getElementById('searchInput').value.toLowerCase();

            return contents.filter(content => {
                if (department && content.department !== department) return false;
                if (type && content.content_type !== type) return false;
                if (owner && content.owner !== owner) return false;
                if (search && !content.title.toLowerCase().includes(search)) return false;
                return true;
            });
        }

        // Event listeners for filters
        document.getElementById('searchInput').addEventListener('input', renderKanbanBoard);

        // ========================================
        // CUSTOM SELECT DROPDOWN
        // ========================================

        function initCustomSelects() {
            const selects = document.querySelectorAll('.custom-select');
            
            selects.forEach(select => {
                const trigger = select.querySelector('.custom-select-trigger');
                const options = select.querySelectorAll('.custom-select-option');
                const targetId = select.dataset.target;
                const hiddenInput = document.getElementById(targetId);
                
                // Toggle dropdown
                trigger.addEventListener('click', (e) => {
                    e.stopPropagation();
                    
                    // Close other dropdowns
                    document.querySelectorAll('.custom-select.active').forEach(s => {
                        if (s !== select) s.classList.remove('active');
                    });
                    
                    select.classList.toggle('active');
                });
                
                // Select option
                options.forEach(option => {
                    option.addEventListener('click', (e) => {
                        e.stopPropagation();
                        
                        const value = option.dataset.value;
                        const text = option.textContent.trim();
                        
                        // Update trigger text - handle both span and direct text
                        const triggerSpan = trigger.querySelector('span');
                        if (triggerSpan) {
                            triggerSpan.textContent = text;
                        } else {
                            trigger.textContent = text;
                        }
                        
                        // Update hidden input
                        if (hiddenInput) {
                            hiddenInput.value = value;
                            // Trigger change event for filters
                            hiddenInput.dispatchEvent(new Event('change'));
                        }
                        
                        // Update selected state
                        options.forEach(o => o.classList.remove('selected'));
                        option.classList.add('selected');
                        
                        // Close dropdown
                        select.classList.remove('active');
                        
                        // Re-render if it's a filter
                        if (['filterDepartment', 'filterType', 'filterOwner'].includes(targetId)) {
                            refreshAllViews();
                        }
                        
                        // Handle current user role change
                        if (targetId === 'currentUserRole') {
                            changeCurrentUserRole(value);
                        }
                    });
                });
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', () => {
                document.querySelectorAll('.custom-select.active').forEach(s => {
                    s.classList.remove('active');
                });
            });
        }

        function resetCustomSelect(targetId) {
            const select = document.querySelector(`.custom-select[data-target="${targetId}"]`);
            if (select) {
                const trigger = select.querySelector('.custom-select-trigger span');
                const options = select.querySelectorAll('.custom-select-option');
                
                // For form selects, reset to "선택하세요"
                if (select.classList.contains('form-custom-select')) {
                    trigger.textContent = '선택하세요';
                    options.forEach(o => o.classList.remove('selected'));
                } else {
                    // For filter selects, reset to first option
                    const firstOption = options[0];
                    if (firstOption) {
                        trigger.textContent = firstOption.textContent;
                        options.forEach(o => o.classList.remove('selected'));
                        firstOption.classList.add('selected');
                    }
                }
                
                const hiddenInput = document.getElementById(targetId);
                if (hiddenInput) {
                    hiddenInput.value = '';
                }
            }
        }

        // ========================================
        // PROGRESS & FAVORITES
        // ========================================

        function getStatusProgress(status) {
            const progressMap = {
                'backlog': 0,
                'briefing': 15,
                'production': 35,
                'qa': 55,
                'approval': 70,
                'scheduled': 85,
                'published': 100,
                'measured': 100,
                'repurposed': 100
            };
            return progressMap[status] || 0;
        }

        function toggleFavorite(id) {
            if (favorites.has(id)) {
                favorites.delete(id);
                showToast('즐겨찾기에서 제거되었습니다.', 'success');
            } else {
                favorites.add(id);
                showToast('즐겨찾기에 추가되었습니다.', 'success');
            }
            refreshAllViews();
        }

        function updateFavoriteBadge() {
            const badge = document.querySelector('.nav-item-badge');
            if (badge) {
                badge.textContent = favorites.size;
            }
        }

        // ========================================
        // RIGHT PANEL
        // ========================================

        function toggleRightPanel() {
            const panel = document.getElementById('rightPanel');
            const btn = document.querySelector('.toggle-panel-btn');
            const mainContent = document.querySelector('.main-content');
            
            panel.classList.toggle('active');
            btn.classList.toggle('active');
            mainContent.classList.toggle('panel-open');
            
            if (panel.classList.contains('active')) {
                renderDeadlines();
            }
        }

        function renderDeadlines() {
            const deadlineList = document.getElementById('deadlineList');
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            // Get upcoming deadlines (within 7 days)
            const upcomingDeadlines = contents
                .filter(c => {
                    const dueDate = new Date(c.due_date);
                    dueDate.setHours(0, 0, 0, 0);
                    const diffDays = Math.ceil((dueDate - today) / (1000 * 60 * 60 * 24));
                    return diffDays >= 0 && diffDays <= 7 && !['published', 'measured', 'repurposed'].includes(c.status);
                })
                .sort((a, b) => new Date(a.due_date) - new Date(b.due_date))
                .slice(0, 5);
            
            if (upcomingDeadlines.length === 0) {
                deadlineList.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-muted); font-size: 13px;">마감 임박 콘텐츠가 없습니다.</div>';
                return;
            }
            
            deadlineList.innerHTML = upcomingDeadlines.map(content => {
                const dueDate = new Date(content.due_date);
                dueDate.setHours(0, 0, 0, 0);
                const diffDays = Math.ceil((dueDate - today) / (1000 * 60 * 60 * 24));
                
                let badgeClass = 'd-3';
                let badgeText = `D-${diffDays}`;
                let isUrgent = false;
                
                if (diffDays === 0) {
                    badgeClass = 'd-day';
                    badgeText = 'D-DAY';
                    isUrgent = true;
                } else if (diffDays === 1) {
                    badgeClass = 'd-1';
                    badgeText = 'D-1';
                } else if (diffDays === 2) {
                    badgeClass = 'd-2';
                    badgeText = 'D-2';
                }
                
                return `
                    <div class="deadline-item ${isUrgent ? 'urgent' : ''}" onclick="openDetailModal(${content.id})">
                        <span class="deadline-badge ${badgeClass}">${badgeText}</span>
                        <div class="deadline-info">
                            <div class="deadline-title">${content.title}</div>
                            <div class="deadline-meta">${content.owner} · ${content.channel}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ========================================
        // NOTIFICATIONS
        // ========================================

        function toggleNotifications() {
            const dropdown = document.getElementById('notificationDropdown');
            dropdown.classList.toggle('active');
            
            // Close when clicking outside
            if (dropdown.classList.contains('active')) {
                setTimeout(() => {
                    document.addEventListener('click', closeNotificationsOnClickOutside);
                }, 0);
            }
        }

        function closeNotificationsOnClickOutside(e) {
            const dropdown = document.getElementById('notificationDropdown');
            const btn = dropdown.previousElementSibling;
            
            if (!dropdown.contains(e.target) && e.target !== btn) {
                dropdown.classList.remove('active');
                document.removeEventListener('click', closeNotificationsOnClickOutside);
            }
        }

        // ========================================
        // MODALS
        // ========================================

        let currentContentId = null;

        function openDetailModal(id) {
            currentContentId = id;
            const content = contents.find(c => c.id === id);
            if (!content) return;

            const status = STATUS_FLOW.find(s => s.id === content.status);
            document.getElementById('modalTitle').textContent = content.title;
            document.getElementById('modalStatus').textContent = status.name;
            document.getElementById('modalStatus').style.background = `${status.color}15`;
            document.getElementById('modalStatus').style.color = status.color;

            // Load brief if exists
            const brief = briefs[id] || {};
            document.getElementById('briefPurpose').value = content.purpose || '';
            document.getElementById('briefTarget').value = content.target || '';
            document.getElementById('briefMessage').value = brief.key_message || '';
            document.getElementById('briefCta').value = brief.cta || '';
            document.getElementById('briefStructure').value = brief.structure || '';
            document.getElementById('briefTone').value = brief.tone || '';
            document.getElementById('briefNotes').value = brief.notes || '';

            // Reset to first tab
            document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelector('.modal-tab').classList.add('active');
            document.getElementById('tab-brief').classList.add('active');

            document.getElementById('detailModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('detailModal').classList.remove('active');
            currentContentId = null;
        }

        function openNewContentModal() {
            // Set default due date to 7 days from now
            const defaultDate = new Date();
            defaultDate.setDate(defaultDate.getDate() + 7);
            document.getElementById('newDueDate').value = defaultDate.toISOString().split('T')[0];
            
            document.getElementById('newContentModal').classList.add('active');
        }

        function closeNewContentModal() {
            document.getElementById('newContentModal').classList.remove('active');
            // Reset form
            document.getElementById('newTitle').value = '';
            document.getElementById('newPurpose').value = '';
            document.getElementById('newTarget').value = '';
            
            // Reset custom selects
            resetCustomSelect('newType');
            resetCustomSelect('newChannel');
            resetCustomSelect('newOwner');
            resetCustomSelect('newDepartment');
        }

        // Tab switching
        document.querySelectorAll('.modal-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(`tab-${tab.dataset.tab}`).classList.add('active');
            });
        });

        // Close modal on overlay click
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                }
            });
        });

        // ========================================
        // CONTENT MANAGEMENT
        // ========================================

        function createContent(event) {
            event.preventDefault();

            const newContent = {
                id: contents.length + 1,
                title: document.getElementById('newTitle').value,
                purpose: document.getElementById('newPurpose').value,
                target: document.getElementById('newTarget').value,
                content_type: document.getElementById('newType').value,
                channel: getChannelName(document.getElementById('newChannel').value),
                status: 'backlog',
                due_date: document.getElementById('newDueDate').value,
                owner: document.getElementById('newOwner').value,
                department: document.getElementById('newDepartment').value,
                priority: 'medium',
                created_at: new Date().toISOString().split('T')[0]
            };

            contents.push(newContent);
            closeNewContentModal();
            refreshAllViews();
            showToast(`"${newContent.title}" 콘텐츠가 등록되었습니다.`, 'success');
        }

        function getChannelName(value) {
            const channels = {
                website: '웹사이트',
                linkedin: 'LinkedIn',
                youtube: 'YouTube',
                instagram: 'Instagram',
                newsletter: '뉴스레터',
                press: '보도자료'
            };
            return channels[value] || value;
        }

        // ========================================
        // QA CHECKLIST
        // ========================================

        function toggleCheck(element) {
            element.classList.toggle('checked');
            element.textContent = element.classList.contains('checked') ? '✓' : '';
        }

        // ========================================
        // STATS
        // ========================================

        function updateStats() {
            const filtered = filterContents();
            document.getElementById('statTotal').textContent = filtered.length;
            document.getElementById('statProgress').textContent = filtered.filter(c => 
                ['briefing', 'production', 'qa', 'approval', 'scheduled'].includes(c.status)
            ).length;
            document.getElementById('statPublished').textContent = filtered.filter(c => 
                ['published', 'measured'].includes(c.status)
            ).length;
            document.getElementById('statRepurposed').textContent = filtered.filter(c => 
                c.status === 'repurposed'
            ).length;
        }

        // ========================================
        // TOAST
        // ========================================

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            document.getElementById('toastMessage').textContent = message;
            toast.className = `toast ${type} show`;
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ========================================
        // INITIALIZATION
        // ========================================

        // Initialize on page load
        window.onload = function() {
            // Initialize custom selects
            initCustomSelects();
            // Initialize permission grid
            renderPermissionGrid();
            // Apply initial permissions
            applyPermissions();
            
            // Set default view to department
            currentBoardView = 'department';
            
            renderDeadlines();
            updateFavoriteBadge();
            
            // Use requestAnimationFrame for proper timing after DOM paint
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    // Ensure dashboard view is active
                    const dashboardView = document.getElementById('dashboardView');
                    if (dashboardView) {
                        dashboardView.classList.add('active');
                    }
                    
                    // Show department container
                    const deptArea = document.getElementById('departmentOverviewContainer');
                    const kanbanArea = document.getElementById('kanbanScrollArea');
                    const listArea = document.getElementById('listViewContainer');
                    
                    if (kanbanArea) { kanbanArea.classList.add('hidden'); kanbanArea.style.display = 'none'; }
                    if (listArea) { listArea.classList.remove('active'); listArea.style.display = 'none'; }
                    if (deptArea) { deptArea.classList.remove('hidden'); deptArea.style.display = 'flex'; }
                    
                    // Render department overview
                    renderDepartmentOverview();
                    renderDashboardStats();
                    renderDueSoonList();
                    
                    // Update toggle buttons
                    document.querySelectorAll('.kanban-view-btn').forEach(btn => {
                        btn.classList.toggle('active', btn.textContent.trim() === '부서별');
                    });
                    
                    // Update nav
                    document.querySelectorAll('.nav-item[data-view]').forEach(item => {
                        item.classList.toggle('active', item.dataset.view === 'dashboard');
                    });
                });
            });
        };
    </script>
</body>
</html>
