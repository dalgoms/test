<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timbel AI ‚Äî Intelligent Code Assistant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #09090b;
            --bg-secondary: #0f0f12;
            --bg-tertiary: #18181b;
            --bg-card: #1c1c20;
            --border-color: #27272a;
            --border-light: #3f3f46;
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --accent-blue: #3b82f6;
            --accent-blue-light: #60a5fa;
            --accent-blue-dark: #2563eb;
            --accent-cyan: #22d3ee;
            --accent-indigo: #818cf8;
            --accent-green: #22c55e;
            --accent-red: #ef4444;
            --accent-yellow: #eab308;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        /* Fixed Viewport Container */
        .app-container {
            width: 100%;
            height: 100vh;
            max-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Top Header Bar */
        .top-bar {
            height: 48px;
            min-height: 48px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            z-index: 100;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-indigo));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 12px;
            color: white;
        }

        .logo-text {
            font-weight: 700;
            font-size: 15px;
            letter-spacing: -0.02em;
        }

        .logo-text span {
            color: var(--accent-blue);
        }

        .logo-badge {
            padding: 2px 6px;
            background: var(--accent-blue);
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            color: white;
            margin-left: 6px;
        }

        .nav-tabs {
            display: flex;
            gap: 4px;
        }

        .nav-tab {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.15s ease;
            border: none;
            background: transparent;
        }

        .nav-tab:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-tab.active {
            background: var(--bg-tertiary);
            color: var(--accent-blue);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-btn {
            padding: 6px 12px;
            border-radius: 6px;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            font-family: inherit;
            transition: all 0.15s ease;
        }

        .header-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: var(--border-light);
        }

        .header-btn.primary {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        .header-btn.primary:hover {
            background: var(--accent-blue-dark);
        }

        /* Main Layout */
        .main-layout {
            flex: 1;
            display: flex;
            overflow: hidden;
            min-height: 0;
        }

        /* Left Sidebar */
        .sidebar-left {
            width: 240px;
            min-width: 240px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .sidebar-section {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .model-selector {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 10px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .model-selector:hover {
            background: var(--bg-card);
        }

        .model-icon {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-cyan));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 700;
        }

        .model-info {
            flex: 1;
        }

        .model-name {
            font-size: 13px;
            font-weight: 600;
        }

        .model-status {
            font-size: 11px;
            color: var(--accent-green);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .model-status::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--accent-green);
            border-radius: 50%;
        }

        .sidebar-list {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
        }

        .sidebar-list::-webkit-scrollbar {
            width: 4px;
        }

        .sidebar-list::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 2px;
        }

        .chat-item {
            padding: 10px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.15s ease;
            margin-bottom: 4px;
        }

        .chat-item:hover {
            background: var(--bg-tertiary);
        }

        .chat-item.active {
            background: var(--bg-tertiary);
            border-left: 2px solid var(--accent-blue);
        }

        .chat-item-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chat-item-preview {
            font-size: 12px;
            color: var(--text-muted);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .new-chat-btn {
            margin: 12px;
            padding: 10px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-indigo));
            border: none;
            border-radius: 8px;
            color: white;
            font-family: inherit;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.15s ease;
        }

        .new-chat-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* Main Chat Area */
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            min-width: 0;
            background: var(--bg-primary);
        }

        /* Chat Messages */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 0;
            min-height: 0;
        }

        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        .messages-inner {
            max-width: 820px;
            margin: 0 auto;
            padding: 24px;
            display: flex;
            flex-direction: column;
        }

        /* Message Styles */
        .message {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            animation: messageSlide 0.25s ease;
            max-width: 80%;
        }

        .message.ai {
            align-self: flex-start;
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
            font-weight: 600;
        }

        .message-avatar.ai {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-indigo));
            color: white;
        }

        .message-avatar.user {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .message-bubble {
            flex: 1;
            min-width: 0;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .message.user .message-header {
            flex-direction: row-reverse;
        }

        .message-sender {
            font-weight: 600;
            font-size: 13px;
        }

        .message-sender.ai {
            color: var(--accent-blue);
        }

        .message-time {
            font-size: 11px;
            color: var(--text-muted);
        }

        .message-content {
            padding: 14px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
        }

        .message.ai .message-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-top-left-radius: 4px;
        }

        .message.user .message-content {
            background: var(--accent-blue);
            color: white;
            border-top-right-radius: 4px;
        }

        .message-text {
            color: inherit;
        }

        /* Highlight colors */
        .hl-blue { color: var(--accent-blue-light); font-weight: 500; }
        .hl-cyan { color: var(--accent-cyan); font-weight: 500; }
        .hl-indigo { color: var(--accent-indigo); font-weight: 500; }
        .hl-green { color: var(--accent-green); font-weight: 500; }

        /* Code Block */
        .code-block {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 12px 0;
            overflow: hidden;
        }

        .code-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .code-lang {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: var(--text-muted);
        }

        .code-actions {
            display: flex;
            gap: 4px;
        }

        .code-btn {
            padding: 4px 8px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-muted);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: inherit;
        }

        .code-btn:hover {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .code-btn.copied {
            background: var(--accent-green);
            border-color: var(--accent-green);
            color: white;
        }

        .code-content {
            padding: 12px 14px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: auto;
            color: var(--text-secondary);
        }

        .code-content .keyword { color: var(--accent-indigo); }
        .code-content .string { color: var(--accent-green); }
        .code-content .function { color: var(--accent-blue-light); }
        .code-content .comment { color: var(--text-muted); }
        .code-content .number { color: var(--accent-cyan); }

        /* Command Chip */
        .cmd-chip {
            display: inline-flex;
            align-items: center;
            padding: 3px 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--accent-blue-light);
            margin: 0 2px;
        }

        /* Feature Cards */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 14px 0;
        }

        .feature-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 14px;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .feature-card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .card-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin-bottom: 10px;
            background: rgba(59, 130, 246, 0.15);
        }

        .card-title {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .card-desc {
            font-size: 12px;
            color: var(--text-muted);
            line-height: 1.4;
        }

        /* Stats Row */
        .stats-row {
            display: flex;
            gap: 10px;
            margin: 14px 0;
        }

        .stat-box {
            flex: 1;
            padding: 14px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-blue);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        /* Artifact/Preview Panel */
        .artifact-panel {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            margin: 14px 0;
            overflow: hidden;
        }

        .artifact-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 14px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .artifact-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 500;
        }

        .artifact-icon {
            color: var(--accent-blue);
        }

        .artifact-tag {
            font-size: 11px;
            color: var(--text-muted);
            padding: 2px 6px;
            background: var(--bg-secondary);
            border-radius: 4px;
        }

        .artifact-content {
            padding: 16px;
        }

        .artifact-preview {
            background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-tertiary) 100%);
            border-radius: 6px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 12px;
        }

        /* Action Buttons in messages */
        .action-btns {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .action-btn.primary {
            background: var(--accent-blue);
            border: none;
            color: white;
        }

        .action-btn.primary:hover {
            background: var(--accent-blue-dark);
        }

        .action-btn.secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .action-btn.secondary:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        /* Typing Indicator */
        .typing-dots {
            display: flex;
            gap: 4px;
            padding: 4px 0;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-blue);
            border-radius: 50%;
            animation: typingBounce 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Input Area */
        .input-area {
            padding: 16px 24px 20px;
            background: var(--bg-primary);
            border-top: 1px solid var(--border-color);
        }

        .input-container {
            max-width: 820px;
            margin: 0 auto;
        }

        .input-box {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 4px;
            transition: all 0.15s ease;
        }

        .input-box:focus-within {
            border-color: var(--accent-blue);
        }

        .input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 8px;
            padding: 8px 12px;
        }

        .chat-textarea {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            max-height: 200px;
            min-height: 60px;
            padding: 4px 0;
        }

        .chat-textarea:focus {
            outline: none;
        }

        .chat-textarea::placeholder {
            color: var(--text-muted);
        }

        .input-actions {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .input-btn {
            width: 34px;
            height: 34px;
            border-radius: 8px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.15s ease;
        }

        .input-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .send-btn {
            width: 34px;
            height: 34px;
            border-radius: 8px;
            background: var(--accent-blue);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.15s ease;
        }

        .send-btn:hover {
            background: var(--accent-blue-dark);
        }

        .send-btn:disabled {
            background: var(--bg-tertiary);
            color: var(--text-muted);
            cursor: not-allowed;
        }

        .input-hint {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-top: 10px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .hint-key {
            padding: 2px 5px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            font-size: 10px;
            margin-right: 4px;
        }

        /* Right Sidebar */
        .sidebar-right {
            width: 280px;
            min-width: 280px;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .sidebar-right-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .ai-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .ai-avatar-lg {
            width: 44px;
            height: 44px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-indigo));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            color: white;
            position: relative;
        }

        .ai-avatar-lg::after {
            content: '';
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background: var(--accent-green);
            border-radius: 50%;
            border: 2px solid var(--bg-secondary);
        }

        .ai-info h3 {
            font-size: 14px;
            font-weight: 600;
        }

        .ai-info p {
            font-size: 12px;
            color: var(--accent-green);
        }

        .sidebar-right-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .sidebar-right-content::-webkit-scrollbar {
            width: 4px;
        }

        .sidebar-right-content::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 2px;
        }

        .section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.03em;
            margin-bottom: 10px;
        }

        .quick-actions {
            margin-bottom: 20px;
        }

        .quick-btn {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: inherit;
            text-align: left;
        }

        .quick-btn:hover {
            border-color: var(--accent-blue);
            transform: translateX(4px);
        }

        .quick-btn-icon {
            font-size: 16px;
        }

        .quick-btn-text {
            font-size: 13px;
            color: var(--text-primary);
        }

        .capabilities-list {
            margin-bottom: 20px;
        }

        .cap-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .cap-item:last-child {
            border-bottom: none;
        }

        .cap-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent-blue);
        }

        .cap-text {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .usage-stats {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 14px;
        }

        .usage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .usage-title {
            font-size: 12px;
            font-weight: 600;
        }

        .usage-value {
            font-size: 11px;
            color: var(--accent-blue);
        }

        .usage-bar {
            height: 6px;
            background: var(--bg-card);
            border-radius: 3px;
            overflow: hidden;
        }

        .usage-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan));
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* Welcome Screen */
        .welcome-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 60px 40px;
            max-width: 600px;
            margin: 0 auto;
        }

        .welcome-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-indigo));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            margin-bottom: 24px;
        }

        .welcome-title {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .welcome-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 32px;
        }

        .welcome-prompts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            width: 100%;
        }

        .welcome-prompt {
            padding: 14px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .welcome-prompt:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .welcome-prompt-icon {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .welcome-prompt-text {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            padding: 12px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            pointer-events: auto;
        }

        .toast.success { border-color: var(--accent-green); }
        .toast.error { border-color: var(--accent-red); }

        /* Feature Modal */
        .feature-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1800;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .feature-modal-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        .feature-modal {
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
            transform: scale(0.95) translateY(20px);
            transition: transform 0.3s ease;
        }

        .feature-modal-overlay.show .feature-modal {
            transform: scale(1) translateY(0);
        }

        .feature-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .feature-modal-title {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-modal-close {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s ease;
        }

        .feature-modal-close:hover {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .feature-modal-body {
            padding: 24px;
            overflow-y: auto;
            max-height: calc(80vh - 120px);
        }

        .feature-modal-footer {
            padding: 16px 20px;
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Composer Tab Content */
        .composer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .composer-panel {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 16px;
        }

        .composer-panel-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-muted);
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        .file-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 10px;
            background: var(--bg-secondary);
            border-radius: 6px;
            margin-bottom: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .file-item:hover {
            background: var(--bg-card);
        }

        .file-item-icon {
            color: var(--accent-blue);
        }

        /* Code Editor Mock */
        .code-editor-mock {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            overflow: hidden;
        }

        .code-editor-tabs {
            display: flex;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            padding: 0 8px;
        }

        .code-editor-tab {
            padding: 10px 16px;
            font-size: 12px;
            color: var(--text-muted);
            border-bottom: 2px solid transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .code-editor-tab.active {
            color: var(--text-primary);
            border-bottom-color: var(--accent-blue);
        }

        .code-editor-content {
            padding: 16px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
            min-height: 200px;
        }

        .code-line {
            display: flex;
            gap: 16px;
        }

        .line-number {
            color: var(--text-muted);
            min-width: 30px;
            text-align: right;
            user-select: none;
        }

        /* Funny Message Overlay */
        .funny-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2500;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
        }

        .funny-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        .funny-modal {
            max-width: 450px;
            padding: 40px;
            background: var(--bg-secondary);
            border: 2px solid var(--accent-yellow);
            border-radius: 20px;
            text-align: center;
            animation: funnyBounce 0.5s ease;
        }

        @keyframes funnyBounce {
            0% { transform: scale(0.5) rotate(-5deg); }
            50% { transform: scale(1.1) rotate(3deg); }
            100% { transform: scale(1) rotate(0); }
        }

        .funny-emoji {
            font-size: 72px;
            margin-bottom: 20px;
            animation: emojiWiggle 0.5s ease infinite;
        }

        @keyframes emojiWiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .funny-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--accent-yellow);
            margin-bottom: 16px;
        }

        .funny-message {
            font-size: 15px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 24px;
        }

        .funny-btn {
            padding: 12px 28px;
            background: var(--accent-yellow);
            border: none;
            border-radius: 10px;
            color: var(--bg-primary);
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .funny-btn:hover {
            transform: scale(1.05);
        }

        /* Settings Panel */
        .settings-group {
            margin-bottom: 24px;
        }

        .settings-group-title {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-primary);
        }

        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .setting-label {
            font-size: 14px;
        }

        .setting-desc {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .toggle-switch {
            width: 44px;
            height: 24px;
            background: var(--bg-tertiary);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .toggle-switch.active {
            background: var(--accent-blue);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: all 0.2s ease;
        }

        .toggle-switch.active::after {
            left: 23px;
        }

        /* Demo Hell Modal */
        .demo-hell-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .demo-hell-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        .demo-hell-modal {
            max-width: 500px;
            padding: 40px;
            background: var(--bg-secondary);
            border: 1px solid var(--accent-red);
            border-radius: 20px;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.5s ease;
        }

        .demo-hell-overlay.show .demo-hell-modal {
            transform: scale(1);
            animation: demoHellShake 0.6s ease;
        }

        @keyframes demoHellShake {
            0%, 100% { transform: scale(1) rotate(0); }
            20% { transform: scale(1.02) rotate(-2deg); }
            40% { transform: scale(1.02) rotate(2deg); }
            60% { transform: scale(1.02) rotate(-1deg); }
            80% { transform: scale(1.02) rotate(1deg); }
        }

        .demo-hell-icon {
            font-size: 64px;
            margin-bottom: 20px;
            animation: demoHellBounce 1s infinite;
        }

        @keyframes demoHellBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .demo-hell-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-red);
            margin-bottom: 16px;
        }

        .demo-hell-message {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .demo-hell-message strong {
            color: var(--text-primary);
        }

        .demo-hell-btn {
            padding: 12px 32px;
            background: var(--accent-red);
            border: none;
            border-radius: 10px;
            color: white;
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .demo-hell-btn:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }

        /* Progress indicator */
        .progress-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1500;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .progress-modal.show {
            opacity: 1;
            pointer-events: auto;
        }

        .progress-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 32px 48px;
            text-align: center;
        }

        .progress-spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border-color);
            border-top-color: var(--accent-blue);
            border-radius: 50%;
            margin: 0 auto 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .progress-text {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .progress-steps {
            margin-top: 16px;
            text-align: left;
        }

        .progress-step {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            font-size: 13px;
            color: var(--text-muted);
        }

        .progress-step.done {
            color: var(--accent-green);
        }

        .progress-step.active {
            color: var(--accent-blue);
        }

        /* Boot Animation */
        .boot-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
        }

        .boot-overlay.hide {
            opacity: 0;
            pointer-events: none;
        }

        .boot-logo {
            width: 72px;
            height: 72px;
            border-radius: 18px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-indigo));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 22px;
            color: white;
            margin-bottom: 20px;
            animation: bootPulse 1.5s ease-in-out infinite;
        }

        @keyframes bootPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .boot-text {
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .sidebar-right { display: none; }
        }

        @media (max-width: 900px) {
            .sidebar-left { display: none; }
        }
    </style>
</head>
<body>
    <!-- Boot Overlay -->
    <div class="boot-overlay" id="bootOverlay">
        <div class="boot-logo">T</div>
        <div class="boot-text">Timbel AI Ï¥àÍ∏∞Ìôî Ï§ë...</div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Progress Modal -->
    <div class="progress-modal" id="progressModal">
        <div class="progress-content">
            <div class="progress-spinner"></div>
            <div class="progress-text" id="progressText">AI Î™®Îç∏ Ï¥àÍ∏∞Ìôî Ï§ë...</div>
            <div class="progress-steps" id="progressSteps"></div>
        </div>
    </div>

    <!-- Demo Hell Modal -->
    <div class="demo-hell-overlay" id="demoHellOverlay">
        <div class="demo-hell-modal">
            <div class="demo-hell-icon">üî•</div>
            <h2 class="demo-hell-title">Ïû†ÍπêÎßåÏöî!</h2>
            <p class="demo-hell-message">
                ÎêúÎã§Í≥† ÎØøÏúºÏãúÎÇòÏöî?<br><br>
                <strong>Í∑∏Î†áÎã§Î©¥ ÎãπÏã†ÏùÄ Îç∞Î™® ÏßÄÏò•Ïóê Îπ†Ï°åÏäµÎãàÎã§!</strong><br><br>
                Ïù¥Í≤ÉÏùÄ UI ÌîÑÎ°úÌÜ†ÌÉÄÏûÖÏûÖÎãàÎã§. Ïã§Ï†ú AI Í∏∞Îä•ÏùÄ Íµ¨ÌòÑÎêòÏñ¥ ÏûàÏßÄ ÏïäÏäµÎãàÎã§. üôÉ
            </p>
            <button class="demo-hell-btn" id="demoHellClose">ÏïåÍ≤†ÏäµÎãàÎã§ üòÖ</button>
        </div>
    </div>

    <!-- Funny Message Modal -->
    <div class="funny-overlay" id="funnyOverlay">
        <div class="funny-modal">
            <div class="funny-emoji" id="funnyEmoji">ü§°</div>
            <h2 class="funny-title" id="funnyTitle">Ïû†Íπê!</h2>
            <p class="funny-message" id="funnyMessage">Î©îÏãúÏßÄ</p>
            <button class="funny-btn" id="funnyClose">„Öã„Öã ÏïåÍ≤†Ïñ¥Ïöî</button>
        </div>
    </div>

    <!-- Feature Modal -->
    <div class="feature-modal-overlay" id="featureModalOverlay">
        <div class="feature-modal">
            <div class="feature-modal-header">
                <div class="feature-modal-title" id="featureModalTitle">
                    <span>üì¶</span>
                    <span>Í∏∞Îä•</span>
                </div>
                <button class="feature-modal-close" id="featureModalClose">‚úï</button>
            </div>
            <div class="feature-modal-body" id="featureModalBody">
                <!-- Dynamic content -->
            </div>
            <div class="feature-modal-footer">
                <button class="action-btn secondary" id="featureModalCancel">Ï∑®ÏÜå</button>
                <button class="action-btn primary" id="featureModalConfirm">ÌôïÏù∏</button>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="logo-section">
                <div class="logo-icon">T</div>
                <div class="logo-text">Timbel<span>AI</span></div>
                <span class="logo-badge">PRO</span>
            </div>
            
            <div class="nav-tabs">
                <button class="nav-tab active">Chat</button>
                <button class="nav-tab">Composer</button>
                <button class="nav-tab">Code</button>
                <button class="nav-tab">Docs</button>
                <button class="nav-tab">History</button>
            </div>

            <div class="header-actions">
                <button class="header-btn" id="settingsBtn">‚öôÔ∏è</button>
                <button class="header-btn" id="clearBtn">üóëÔ∏è Clear</button>
                <button class="header-btn" id="exportBtn">üì§ Export</button>
                <button class="header-btn primary" id="upgradeBtn">‚ö° Upgrade</button>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Left Sidebar -->
            <aside class="sidebar-left">
                <div class="sidebar-section">
                    <div class="sidebar-title">AI Model</div>
                    <div class="model-selector" id="modelSelector">
                        <div class="model-icon">T7</div>
                        <div class="model-info">
                            <div class="model-name">Timbel-7 Pro</div>
                            <div class="model-status">Online</div>
                        </div>
                        <span style="color: var(--text-muted);">‚ñæ</span>
                    </div>
                </div>

                <div class="sidebar-list">
                    <div class="sidebar-title">ÏµúÍ∑º ÎåÄÌôî</div>
                    <div class="chat-item active">
                        <div class="chat-item-title">ÏΩîÎìú Î¶¨Ìå©ÌÜ†ÎßÅ ÎèÑÏõÄ</div>
                        <div class="chat-item-preview">React Ïª¥Ìè¨ÎÑåÌä∏ ÏµúÏ†ÅÌôî...</div>
                    </div>
                    <div class="chat-item">
                        <div class="chat-item-title">API ÏÑ§Í≥Ñ ÏÉÅÎã¥</div>
                        <div class="chat-item-preview">RESTful API Íµ¨Ï°∞...</div>
                    </div>
                    <div class="chat-item">
                        <div class="chat-item-title">Î≤ÑÍ∑∏ ÎîîÎ≤ÑÍπÖ</div>
                        <div class="chat-item-preview">Î©îÎ™®Î¶¨ ÎàÑÏàò Î¨∏Ï†ú...</div>
                    </div>
                    <div class="chat-item">
                        <div class="chat-item-title">ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏûëÏÑ±</div>
                        <div class="chat-item-preview">Jest Ïú†Îãõ ÌÖåÏä§Ìä∏...</div>
                    </div>
                </div>

                <button class="new-chat-btn" id="newChatBtn">
                    <span>‚ú®</span>
                    <span>ÏÉà ÎåÄÌôî ÏãúÏûë</span>
                </button>
            </aside>

            <!-- Main Chat Area -->
            <main class="chat-main">
                <div class="chat-messages" id="chatMessages">
                    <div class="messages-inner" id="messagesInner">
                        <!-- Content here -->
                    </div>
                </div>

                <div class="input-area">
                    <div class="input-container">
                        <div class="input-box">
                            <div class="input-wrapper">
                                <textarea 
                                    class="chat-textarea" 
                                    id="chatInput" 
                                    placeholder="ÏΩîÎìúÏóê ÎåÄÌï¥ ÏßàÎ¨∏ÌïòÍ±∞ÎÇò, Í∏∞Îä• Íµ¨ÌòÑÏùÑ ÏöîÏ≤≠ÌïòÏÑ∏Ïöî..."
                                    rows="1"
                                ></textarea>
                                <div class="input-actions">
                                    <button class="input-btn" title="ÌååÏùº Ï≤®Î∂Ä" id="attachBtn">üìé</button>
                                    <button class="input-btn" title="ÏΩîÎìú ÏÇΩÏûÖ" id="codeInsertBtn">{ }</button>
                                    <button class="send-btn" id="sendBtn" disabled>‚û§</button>
                                </div>
                            </div>
                        </div>
                        <div class="input-hint">
                            <span><span class="hint-key">Enter</span>Ï†ÑÏÜ°</span>
                            <span><span class="hint-key">Shift+Enter</span>Ï§ÑÎ∞îÍøà</span>
                            <span><span class="hint-key">/</span>Î™ÖÎ†πÏñ¥</span>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Sidebar -->
            <aside class="sidebar-right">
                <div class="sidebar-right-header">
                    <div class="ai-profile">
                        <div class="ai-avatar-lg">T</div>
                        <div class="ai-info">
                            <h3>Timbel AI</h3>
                            <p>‚óè Ready</p>
                        </div>
                    </div>
                </div>

                <div class="sidebar-right-content">
                    <div class="quick-actions">
                        <div class="section-title">Îπ†Î•∏ ÏûëÏóÖ</div>
                        <button class="quick-btn" data-action="explain">
                            <span class="quick-btn-icon">üí°</span>
                            <span class="quick-btn-text">ÏΩîÎìú ÏÑ§Î™ÖÌïòÍ∏∞</span>
                        </button>
                        <button class="quick-btn" data-action="refactor">
                            <span class="quick-btn-icon">üîß</span>
                            <span class="quick-btn-text">Î¶¨Ìå©ÌÜ†ÎßÅ Ï†úÏïà</span>
                        </button>
                        <button class="quick-btn" data-action="test">
                            <span class="quick-btn-icon">üß™</span>
                            <span class="quick-btn-text">ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏÉùÏÑ±</span>
                        </button>
                        <button class="quick-btn" data-action="docs">
                            <span class="quick-btn-icon">üìù</span>
                            <span class="quick-btn-text">Î¨∏ÏÑúÌôî ÏÉùÏÑ±</span>
                        </button>
                        <button class="quick-btn" data-action="deploy">
                            <span class="quick-btn-icon">üöÄ</span>
                            <span class="quick-btn-text">Î∞∞Ìè¨ ÏûêÎèôÌôî</span>
                        </button>
                        <button class="quick-btn" data-action="review">
                            <span class="quick-btn-icon">üîç</span>
                            <span class="quick-btn-text">ÏΩîÎìú Î¶¨Î∑∞</span>
                        </button>
                        <button class="quick-btn" data-action="optimize">
                            <span class="quick-btn-icon">‚ö°</span>
                            <span class="quick-btn-text">ÏÑ±Îä• ÏµúÏ†ÅÌôî</span>
                        </button>
                        <button class="quick-btn" data-action="debug">
                            <span class="quick-btn-icon">üêõ</span>
                            <span class="quick-btn-text">Î≤ÑÍ∑∏ ÎîîÎ≤ÑÍπÖ</span>
                        </button>
                    </div>

                    <div class="capabilities-list">
                        <div class="section-title">AI Í∏∞Îä•</div>
                        <div class="cap-item">
                            <span class="cap-dot"></span>
                            <span class="cap-text">ÏΩîÎìú ÏûêÎèô ÏôÑÏÑ±</span>
                        </div>
                        <div class="cap-item">
                            <span class="cap-dot" style="background: var(--accent-cyan)"></span>
                            <span class="cap-text">Î≤ÑÍ∑∏ Í∞êÏßÄ Î∞è ÏàòÏ†ï</span>
                        </div>
                        <div class="cap-item">
                            <span class="cap-dot" style="background: var(--accent-indigo)"></span>
                            <span class="cap-text">ÏΩîÎìú Î¶¨Î∑∞ Î∞è Î∂ÑÏÑù</span>
                        </div>
                        <div class="cap-item">
                            <span class="cap-dot" style="background: var(--accent-green)"></span>
                            <span class="cap-text">Îã§Íµ≠Ïñ¥ ÏßÄÏõê</span>
                        </div>
                    </div>

                    <div class="usage-stats">
                        <div class="usage-header">
                            <span class="usage-title">Ïù¥Î≤à Îã¨ ÏÇ¨Ïö©Îüâ</span>
                            <span class="usage-value">2,847 / 5,000</span>
                        </div>
                        <div class="usage-bar">
                            <div class="usage-fill" style="width: 57%"></div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <script>
        // ============ BOOT SEQUENCE ============
        document.addEventListener('DOMContentLoaded', () => {
            const bootOverlay = document.getElementById('bootOverlay');
            setTimeout(() => {
                bootOverlay.classList.add('hide');
                showWelcomeScreen();
            }, 1200);
        });

        // ============ ELEMENTS ============
        const chatMessages = document.getElementById('chatMessages');
        const messagesInner = document.getElementById('messagesInner');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const toast = document.getElementById('toast');

        // ============ TOAST FUNCTION ============
        function showToast(message, type = 'success') {
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ============ DEMO HELL COUNTER ============
        let interactionCount = 0;
        const DEMO_HELL_THRESHOLD = 8;
        let demoHellTriggered = false;

        function checkDemoHell() {
            interactionCount++;
            if (interactionCount >= DEMO_HELL_THRESHOLD && !demoHellTriggered) {
                demoHellTriggered = true;
                setTimeout(() => {
                    document.getElementById('demoHellOverlay').classList.add('show');
                }, 1500);
            }
        }

        document.getElementById('demoHellClose').addEventListener('click', () => {
            document.getElementById('demoHellOverlay').classList.remove('show');
        });

        // ============ PROGRESS MODAL ============
        const progressModal = document.getElementById('progressModal');
        const progressText = document.getElementById('progressText');
        const progressSteps = document.getElementById('progressSteps');

        async function showProgressModal(title, steps) {
            progressText.textContent = title;
            progressSteps.innerHTML = steps.map((s, i) => 
                `<div class="progress-step" id="step${i}">‚è≥ ${s}</div>`
            ).join('');
            progressModal.classList.add('show');
            
            for (let i = 0; i < steps.length; i++) {
                await sleep(600 + Math.random() * 400);
                document.getElementById(`step${i}`).className = 'progress-step done';
                document.getElementById(`step${i}`).innerHTML = `‚úÖ ${steps[i]}`;
                if (i < steps.length - 1) {
                    document.getElementById(`step${i+1}`).className = 'progress-step active';
                }
            }
            
            await sleep(500);
            progressModal.classList.remove('show');
        }

        // ============ AI RESPONSES ============
        const aiResponses = {
            help: {
                text: `ÏïàÎÖïÌïòÏÑ∏Ïöî! <span class="hl-blue">Timbel AI</span>ÏûÖÎãàÎã§. üöÄ

AI Í∏∞Î∞ò ÏΩîÎìú Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏Î°úÏÑú Îã§ÏùåÍ≥º Í∞ôÏùÄ ÎèÑÏõÄÏùÑ ÎìúÎ¶¥ Ïàò ÏûàÏäµÎãàÎã§:`,
                commands: [
                    { cmd: '/explain', desc: 'ÏΩîÎìú ÏÑ§Î™Ö Î∞è Î∂ÑÏÑù' },
                    { cmd: '/refactor', desc: 'ÏΩîÎìú Î¶¨Ìå©ÌÜ†ÎßÅ Ï†úÏïà' },
                    { cmd: '/test', desc: 'ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏÉùÏÑ±' },
                    { cmd: '/docs', desc: 'Î¨∏ÏÑúÌôî ÏÉùÏÑ±' },
                    { cmd: '/debug', desc: 'Î≤ÑÍ∑∏ Î∂ÑÏÑù Î∞è ÏàòÏ†ï' },
                    { cmd: '/deploy', desc: 'Î∞∞Ìè¨ ÏûêÎèôÌôî' },
                    { cmd: '/review', desc: 'ÏΩîÎìú Î¶¨Î∑∞' },
                    { cmd: '/optimize', desc: 'ÏÑ±Îä• ÏµúÏ†ÅÌôî' }
                ]
            },
            about: {
                text: `<span class="hl-blue">Timbel AI</span>Îäî Í∞úÎ∞úÏûêÎ•º ÏúÑÌïú Ï∞®ÏÑ∏ÎåÄ <span class="hl-cyan">AI ÏΩîÎìú Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏</span>ÏûÖÎãàÎã§.

VS Code Í∏∞Î∞òÏùò Í∞ïÎ†•Ìïú AI ÏóêÎîîÌÑ∞Î°ú, ÏΩîÎìú ÏûëÏÑ±Î∂ÄÌÑ∞ ÎîîÎ≤ÑÍπÖ, Î¶¨Ìå©ÌÜ†ÎßÅÍπåÏßÄ Ï†Ñ Í≥ºÏ†ïÏùÑ AIÍ∞Ä ÏßÄÏõêÌï©ÎãàÎã§.`,
                stats: [
                    { value: '10M+', label: 'Í∞úÎ∞úÏûê' },
                    { value: '99.2%', label: 'Ï†ïÌôïÎèÑ' },
                    { value: '50+', label: 'Ïñ∏Ïñ¥ ÏßÄÏõê' }
                ]
            },
            features: {
                text: `<span class="hl-blue">Timbel AI</span>Ïùò ÌïµÏã¨ Í∏∞Îä•ÏûÖÎãàÎã§:`,
                cards: [
                    { icon: '‚ö°', title: 'AI ÏûêÎèôÏôÑÏÑ±', desc: 'Ïª®ÌÖçÏä§Ìä∏ Ïù∏Ïãù ÏΩîÎìú ÏûêÎèô ÏôÑÏÑ±', color: 'blue' },
                    { icon: 'üí¨', title: 'AI Chat', desc: 'ÏΩîÎìúÎ≤†Ïù¥Ïä§ Ï†ÑÏ≤¥Î•º Ïù¥Ìï¥ÌïòÎäî ÎåÄÌôî', color: 'cyan' },
                    { icon: '‚úèÔ∏è', title: 'Inline Edit', desc: 'ÏÑ†ÌÉù ÏòÅÏó≠ Ï¶âÏãú ÏàòÏ†ï', color: 'indigo' },
                    { icon: 'üéØ', title: 'Composer', desc: 'Î©ÄÌã∞ÌååÏùº AI ÏΩîÎìú ÏÉùÏÑ±', color: 'green' }
                ]
            },
            pricing: {
                text: `<span class="hl-blue">Timbel AI</span> ÏöîÍ∏àÏ†ú ÏïàÎÇ¥ÏûÖÎãàÎã§:

<span class="hl-green">‚óè Hobby (Î¨¥Î£å)</span>
2,000 completions/Ïõî, Í∏∞Î≥∏ Í∏∞Îä•

<span class="hl-blue">‚óè Pro ($20/Ïõî)</span>
Î¨¥Ï†úÌïú completions, Í≥†Í∏â Î™®Îç∏ Ï†ëÍ∑º

<span class="hl-indigo">‚óè Business ($40/Ïõî)</span>
ÌåÄ ÌòëÏóÖ, Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú, Ïö∞ÏÑ† ÏßÄÏõê`
            },
            explain: {
                text: `ÏΩîÎìú ÏÑ§Î™Ö Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©ÌïòÏãúÎ†§Î©¥ Î∂ÑÏÑùÌïòÍ≥† Ïã∂ÏùÄ ÏΩîÎìúÎ•º Í≥µÏú†Ìï¥Ï£ºÏÑ∏Ïöî.

ÏòàÏãú ÏΩîÎìúÎ•º Î≥¥Ïó¨ÎìúÎ¶¥ÍπåÏöî?`,
                hasActions: true,
                actions: [
                    { label: 'üìù ÏòàÏãú Î≥¥Í∏∞', action: 'showExample' },
                    { label: 'üìé ÏΩîÎìú Î∂ôÏó¨ÎÑ£Í∏∞', action: 'pasteCode' }
                ]
            },
            refactor: {
                text: `Î¶¨Ìå©ÌÜ†ÎßÅ Ï†úÏïà Í∏∞Îä•Ïù¥ ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§! ‚ú®

Í∞úÏÑ†ÌïòÍ≥† Ïã∂ÏùÄ ÏΩîÎìúÎ•º Í≥µÏú†Ìï¥Ï£ºÏãúÎ©¥:
‚Ä¢ ÏÑ±Îä• ÏµúÏ†ÅÌôî Î∞©Ïïà
‚Ä¢ ÌÅ¥Î¶∞ ÏΩîÎìú Ìå®ÌÑ¥ Ï†ÅÏö©
‚Ä¢ Ï§ëÎ≥µ ÏΩîÎìú Ï†úÍ±∞
‚Ä¢ Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ

ÏùÑ Ï†úÏïàÌï¥ÎìúÎ¶ΩÎãàÎã§.`
            },
            test: {
                text: `ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏÉùÏÑ± Í∏∞Îä•ÏûÖÎãàÎã§! üß™

ÎåÄÏÉÅ ÏΩîÎìúÎ•º Í≥µÏú†Ìï¥Ï£ºÏãúÎ©¥ Îã§ÏùåÏùÑ ÏÉùÏÑ±Ìï¥ÎìúÎ¶ΩÎãàÎã§:
‚Ä¢ Ïú†Îãõ ÌÖåÏä§Ìä∏ (Jest/Mocha)
‚Ä¢ ÌÜµÌï© ÌÖåÏä§Ìä∏
‚Ä¢ E2E ÌÖåÏä§Ìä∏ ÏãúÎÇòÎ¶¨Ïò§
‚Ä¢ Ïó£ÏßÄ ÏºÄÏù¥Ïä§ Ïª§Î≤ÑÎ¶¨ÏßÄ`
            },
            docs: {
                text: `Î¨∏ÏÑúÌôî ÏÉùÏÑ± Í∏∞Îä•Ïù¥ Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§! üìù

ÏΩîÎìúÎ•º Í≥µÏú†Ìï¥Ï£ºÏãúÎ©¥:
‚Ä¢ JSDoc/TSDoc Ï£ºÏÑù ÏÉùÏÑ±
‚Ä¢ README.md ÌÖúÌîåÎ¶ø
‚Ä¢ API Î¨∏ÏÑú ÏûêÎèô ÏÉùÏÑ±
‚Ä¢ ÏÇ¨Ïö© ÏòàÏãú ÏΩîÎìú

Î•º ÏûëÏÑ±Ìï¥ÎìúÎ¶ΩÎãàÎã§.`
            },
            example: {
                text: `Îã§ÏùåÏùÄ React Hook ÏòàÏãúÏôÄ Í∑∏ ÏÑ§Î™ÖÏûÖÎãàÎã§:`,
                code: {
                    lang: 'typescript',
                    content: `<span class="keyword">import</span> { <span class="function">useState</span>, <span class="function">useEffect</span> } <span class="keyword">from</span> <span class="string">'react'</span>;

<span class="keyword">function</span> <span class="function">useDebounce</span>&lt;T&gt;(value: T, delay: <span class="number">number</span>): T {
  <span class="keyword">const</span> [debouncedValue, setDebouncedValue] = <span class="function">useState</span>(value);

  <span class="function">useEffect</span>(() => {
    <span class="keyword">const</span> timer = <span class="function">setTimeout</span>(() => {
      <span class="function">setDebouncedValue</span>(value);
    }, delay);

    <span class="keyword">return</span> () => <span class="function">clearTimeout</span>(timer);
  }, [value, delay]);

  <span class="keyword">return</span> debouncedValue;
}`
                },
                explanation: `<span class="hl-blue">useDebounce</span> ÌõÖ Î∂ÑÏÑù:

‚Ä¢ <span class="hl-cyan">Î™©Ï†Å</span>: Í∞í Î≥ÄÍ≤ΩÏùÑ ÏßÄÏó∞ÏãúÏºú Î∂àÌïÑÏöîÌïú ÏóÖÎç∞Ïù¥Ìä∏ Î∞©ÏßÄ
‚Ä¢ <span class="hl-green">ÏÇ¨Ïö© ÏÇ¨Î°Ä</span>: Í≤ÄÏÉâ ÏûÖÎ†•, API Ìò∏Ï∂ú ÏµúÏ†ÅÌôî
‚Ä¢ <span class="hl-indigo">ÏõêÎ¶¨</span>: setTimeoutÏúºÎ°ú ÏßÄÏó∞ ÌõÑ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏`
            },
            deploy: {
                text: `üöÄ <span class="hl-blue">Î∞∞Ìè¨ ÏûêÎèôÌôî</span> Í∏∞Îä•ÏûÖÎãàÎã§!

ÌîÑÎ°úÏ†ùÌä∏Î•º Î∂ÑÏÑùÌïòÏó¨ Îã§ÏùåÏùÑ ÏûêÎèôÏúºÎ°ú ÏÑ§Ï†ïÌï¥ÎìúÎ¶ΩÎãàÎã§:`,
                hasActions: true,
                actions: [
                    { label: 'üê≥ Docker Î∞∞Ìè¨', action: 'deployDocker' },
                    { label: '‚òÅÔ∏è AWS Î∞∞Ìè¨', action: 'deployAWS' },
                    { label: '‚ñ≤ Vercel Î∞∞Ìè¨', action: 'deployVercel' },
                    { label: 'üî∑ Azure Î∞∞Ìè¨', action: 'deployAzure' }
                ]
            },
            review: {
                text: `üîç <span class="hl-blue">ÏΩîÎìú Î¶¨Î∑∞</span> ÏóêÏù¥Ï†ÑÌä∏Í∞Ä ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§!

AIÍ∞Ä Îã§Ïùå Ìï≠Î™©ÏùÑ Í≤ÄÌÜ†Ìï©ÎãàÎã§:
‚Ä¢ ÏΩîÎìú ÌíàÏßà Î∞è Ïä§ÌÉÄÏùº
‚Ä¢ Ïû†Ïû¨Ï†Å Î≤ÑÍ∑∏ ÌÉêÏßÄ
‚Ä¢ Î≥¥Ïïà Ï∑®ÏïΩÏ†ê Î∂ÑÏÑù
‚Ä¢ ÏÑ±Îä• Ïù¥Ïäà ÌôïÏù∏
‚Ä¢ Best Practice Ï§ÄÏàò Ïó¨Î∂Ä`,
                hasActions: true,
                actions: [
                    { label: 'üîç Î¶¨Î∑∞ ÏãúÏûë', action: 'startReview' },
                    { label: 'üìä ÌíàÏßà Î¶¨Ìè¨Ìä∏', action: 'qualityReport' }
                ]
            },
            optimize: {
                text: `‚ö° <span class="hl-blue">ÏÑ±Îä• ÏµúÏ†ÅÌôî</span> ÏóêÏù¥Ï†ÑÌä∏ÏûÖÎãàÎã§!

ÏΩîÎìúÏôÄ ÏãúÏä§ÌÖú ÏÑ±Îä•ÏùÑ Î∂ÑÏÑùÌïòÏó¨ ÏµúÏ†ÅÌôîÌï©ÎãàÎã§:
‚Ä¢ Î≤àÎì§ ÏÇ¨Ïù¥Ï¶à ÏµúÏ†ÅÌôî
‚Ä¢ Î†åÎçîÎßÅ ÏÑ±Îä• Í∞úÏÑ†
‚Ä¢ Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ ÏµúÏ†ÅÌôî
‚Ä¢ ÎÑ§Ìä∏ÏõåÌÅ¨ ÏöîÏ≤≠ ÏµúÏ†ÅÌôî
‚Ä¢ Ï∫êÏã± Ï†ÑÎûµ Ï†úÏïà`,
                hasActions: true,
                actions: [
                    { label: 'üî¨ Î∂ÑÏÑù ÏãúÏûë', action: 'analyzePerf' },
                    { label: 'üöÄ ÏûêÎèô ÏµúÏ†ÅÌôî', action: 'autoOptimize' }
                ]
            },
            debug: {
                text: `üîß <span class="hl-blue">ÎîîÎ≤ÑÍ∑∏</span> ÏóêÏù¥Ï†ÑÌä∏Í∞Ä Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§!

Î≤ÑÍ∑∏Î•º Î∂ÑÏÑùÌïòÍ≥† Ìï¥Í≤∞Ï±ÖÏùÑ Ï†úÏãúÌï©ÎãàÎã§:
‚Ä¢ ÏóêÎü¨ Ïä§ÌÉù Ìä∏Î†àÏù¥Ïä§ Î∂ÑÏÑù
‚Ä¢ Î≥ÄÏàò ÏÉÅÌÉú Ï∂îÏ†Å
‚Ä¢ Î°úÏßÅ Ïò§Î•ò ÌÉêÏßÄ
‚Ä¢ Îü∞ÌÉÄÏûÑ ÏóêÎü¨ Î∂ÑÏÑù`,
                hasActions: true,
                actions: [
                    { label: 'üêõ Î≤ÑÍ∑∏ Î¶¨Ìè¨Ìä∏', action: 'bugReport' },
                    { label: 'üîç ÏóêÎü¨ Î∂ÑÏÑù', action: 'errorAnalysis' },
                    { label: 'ü©π ÏûêÎèô ÏàòÏ†ï', action: 'autoFix' }
                ]
            },
            default: {
                text: `ÏßàÎ¨∏ÏùÑ Ïù¥Ìï¥ÌñàÏäµÎãàÎã§! ü§î

Îçî Ï†ïÌôïÌïú ÎèÑÏõÄÏùÑ ÎìúÎ¶¨Í∏∞ ÏúÑÌï¥ Îã§Ïùå Ï§ë ÏõêÌïòÏãúÎäî Í≤ÉÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî:`,
                hasActions: true,
                actions: [
                    { label: 'üí° ÏΩîÎìú ÏÑ§Î™Ö', action: 'explain' },
                    { label: 'üîß Î¶¨Ìå©ÌÜ†ÎßÅ', action: 'refactor' },
                    { label: 'üß™ ÌÖåÏä§Ìä∏ ÏÉùÏÑ±', action: 'test' },
                    { label: 'üìù Î¨∏ÏÑúÌôî', action: 'docs' },
                    { label: 'üöÄ Î∞∞Ìè¨', action: 'deploy' },
                    { label: 'üîç Î¶¨Î∑∞', action: 'review' }
                ]
            }
        };

        // ============ FUNCTIONS ============
        function showWelcomeScreen() {
            messagesInner.innerHTML = `
                <div class="welcome-screen">
                    <div class="welcome-icon">‚ú®</div>
                    <h1 class="welcome-title">Timbel AIÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§</h1>
                    <p class="welcome-subtitle">
                        AI Í∏∞Î∞ò ÏΩîÎìú Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏Î°ú Îçî Îπ†Î•¥Í≥† Ïä§ÎßàÌä∏ÌïòÍ≤å Í∞úÎ∞úÌïòÏÑ∏Ïöî.
                        ÏΩîÎìú ÏûëÏÑ±, ÎîîÎ≤ÑÍπÖ, Î¶¨Ìå©ÌÜ†ÎßÅÏùÑ AIÍ∞Ä ÎèÑÏôÄÎìúÎ¶ΩÎãàÎã§.
                    </p>
                    <div class="welcome-prompts">
                        <div class="welcome-prompt" data-prompt="Timbel AI Í∏∞Îä•Ïù¥ Î≠êÏïº?">
                            <div class="welcome-prompt-icon">üöÄ</div>
                            <div class="welcome-prompt-text">Ïñ¥Îñ§ Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌïòÎÇòÏöî?</div>
                        </div>
                        <div class="welcome-prompt" data-prompt="ÏΩîÎìú ÏÑ§Î™ÖÌï¥Ï§ò">
                            <div class="welcome-prompt-icon">üí°</div>
                            <div class="welcome-prompt-text">ÏΩîÎìú ÏÑ§Î™Ö ÏöîÏ≤≠ÌïòÍ∏∞</div>
                        </div>
                        <div class="welcome-prompt" data-prompt="ÏöîÍ∏àÏ†ú ÏïåÎ†§Ï§ò">
                            <div class="welcome-prompt-icon">üí∞</div>
                            <div class="welcome-prompt-text">ÏöîÍ∏àÏ†ú ÌôïÏù∏ÌïòÍ∏∞</div>
                        </div>
                        <div class="welcome-prompt" data-prompt="ÏòàÏãú ÏΩîÎìú Î≥¥Ïó¨Ï§ò">
                            <div class="welcome-prompt-icon">{ }</div>
                            <div class="welcome-prompt-text">ÏòàÏãú ÏΩîÎìú Î≥¥Í∏∞</div>
                        </div>
                    </div>
                </div>
            `;

            document.querySelectorAll('.welcome-prompt').forEach(prompt => {
                prompt.addEventListener('click', () => {
                    processInput(prompt.dataset.prompt);
                });
            });
        }

        function getTimeStr() {
            return new Date().toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });
        }

        function addMessage(content, isUser = false, extras = null) {
            const welcomeScreen = messagesInner.querySelector('.welcome-screen');
            if (welcomeScreen) welcomeScreen.remove();

            const message = document.createElement('div');
            message.className = `message ${isUser ? 'user' : 'ai'}`;

            let html = `
                <div class="message-avatar ${isUser ? 'user' : 'ai'}">${isUser ? 'üë§' : 'T'}</div>
                <div class="message-bubble">
                    <div class="message-header">
                        <span class="message-sender ${isUser ? '' : 'ai'}">${isUser ? 'You' : 'Timbel AI'}</span>
                        <span class="message-time">${getTimeStr()}</span>
                    </div>
                    <div class="message-content">
                        <div class="message-text">${content}`;

            // Commands
            if (extras?.commands) {
                html += `<div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Available Commands</span>
                    </div>
                    <div class="code-content">`;
                extras.commands.forEach(c => {
                    html += `<div style="margin-bottom: 6px;"><span class="keyword">${c.cmd}</span> <span class="comment">‚Äî ${c.desc}</span></div>`;
                });
                html += `</div></div>`;
            }

            // Stats
            if (extras?.stats) {
                html += `<div class="stats-row">`;
                extras.stats.forEach(s => {
                    html += `<div class="stat-box"><div class="stat-value">${s.value}</div><div class="stat-label">${s.label}</div></div>`;
                });
                html += `</div>`;
            }

            // Cards
            if (extras?.cards) {
                html += `<div class="cards-grid">`;
                extras.cards.forEach(c => {
                    html += `<div class="feature-card" data-feature="${c.title}"><div class="card-icon">${c.icon}</div><div class="card-title">${c.title}</div><div class="card-desc">${c.desc}</div></div>`;
                });
                html += `</div>`;
            }

            // Code
            if (extras?.code) {
                html += `<div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">${extras.code.lang}</span>
                        <div class="code-actions">
                            <button class="code-btn copy-btn">Copy</button>
                            <button class="code-btn">Run</button>
                        </div>
                    </div>
                    <div class="code-content">${extras.code.content}</div>
                </div>`;
                if (extras.explanation) {
                    html += `<p style="margin-top: 12px;">${extras.explanation}</p>`;
                }
            }

            // Actions
            if (extras?.hasActions && extras?.actions) {
                html += `<div class="action-btns">`;
                extras.actions.forEach((a, i) => {
                    html += `<button class="action-btn ${i === 0 ? 'primary' : 'secondary'}" data-action="${a.action}">${a.label}</button>`;
                });
                html += `</div>`;
            }

            html += `</div></div></div>`;
            message.innerHTML = html;
            messagesInner.appendChild(message);

            // Add event listeners
            message.querySelectorAll('.copy-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    btn.textContent = 'Copied!';
                    btn.classList.add('copied');
                    showToast('üìã ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!');
                    setTimeout(() => {
                        btn.textContent = 'Copy';
                        btn.classList.remove('copied');
                    }, 2000);
                });
            });

            message.querySelectorAll('.action-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const action = btn.dataset.action;
                    const advancedActions = ['deployDocker', 'deployAWS', 'deployVercel', 'deployAzure', 
                                            'startReview', 'qualityReport', 'analyzePerf', 'autoOptimize',
                                            'bugReport', 'errorAnalysis', 'autoFix'];
                    
                    if (advancedActions.includes(action)) {
                        handleAdvancedAction(action);
                    } else if (action === 'showExample') {
                        processInput('ÏòàÏãú ÏΩîÎìú Î≥¥Ïó¨Ï§ò');
                    } else if (action === 'pasteCode') {
                        chatInput.focus();
                        chatInput.placeholder = 'ÏΩîÎìúÎ•º Î∂ôÏó¨ÎÑ£ÏúºÏÑ∏Ïöî...';
                    } else {
                        processInput(`/${action}`);
                    }
                });
            });

            message.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', () => {
                    const feature = card.dataset.feature;
                    showToast(`‚ú® ${feature} Í∏∞Îä•Ïù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§!`);
                });
            });

            chatMessages.scrollTop = chatMessages.scrollHeight;
            return message;
        }

        function showTypingIndicator() {
            const typing = document.createElement('div');
            typing.id = 'typingIndicator';
            typing.className = 'message ai';
            typing.innerHTML = `
                <div class="message-avatar ai">T</div>
                <div class="message-bubble">
                    <div class="message-header">
                        <span class="message-sender ai">Timbel AI</span>
                    </div>
                    <div class="message-content" style="padding: 12px 16px;">
                        <div class="typing-dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
            `;
            messagesInner.appendChild(typing);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function processInput(input) {
            const text = input.trim().toLowerCase();
            
            addMessage(input, true);
            checkDemoHell(); // Îç∞Î™® ÏßÄÏò• Ï≤¥ÌÅ¨
            
            showTypingIndicator();
            await sleep(500 + Math.random() * 700);
            hideTypingIndicator();

            let response;
            
            if (text.startsWith('/')) {
                const cmd = text.slice(1);
                response = aiResponses[cmd] || aiResponses.default;
            } else if (text.includes('Í∏∞Îä•') || text.includes('feature') || text.includes('Î≠êÌï¥')) {
                response = aiResponses.features;
            } else if (text.includes('ÏöîÍ∏à') || text.includes('Í∞ÄÍ≤©') || text.includes('pricing')) {
                response = aiResponses.pricing;
            } else if (text.includes('ÏÜåÍ∞ú') || text.includes('about') || text.includes('timbel')) {
                response = aiResponses.about;
            } else if (text.includes('ÏÑ§Î™Ö') || text.includes('explain')) {
                response = aiResponses.explain;
            } else if (text.includes('Î¶¨Ìå©') || text.includes('refactor')) {
                response = aiResponses.refactor;
            } else if (text.includes('ÌÖåÏä§Ìä∏') || text.includes('test')) {
                response = aiResponses.test;
            } else if (text.includes('Î¨∏ÏÑú') || text.includes('doc')) {
                response = aiResponses.docs;
            } else if (text.includes('Î∞∞Ìè¨') || text.includes('deploy')) {
                response = aiResponses.deploy;
            } else if (text.includes('Î¶¨Î∑∞') || text.includes('review')) {
                response = aiResponses.review;
            } else if (text.includes('ÏµúÏ†ÅÌôî') || text.includes('optimize') || text.includes('ÏÑ±Îä•')) {
                response = aiResponses.optimize;
            } else if (text.includes('Î≤ÑÍ∑∏') || text.includes('debug') || text.includes('ÏóêÎü¨')) {
                response = aiResponses.debug;
            } else if (text.includes('ÏòàÏãú') || text.includes('example') || text.includes('ÏΩîÎìú')) {
                response = aiResponses.example;
            } else if (text.includes('ÏïàÎÖï') || text.includes('hello') || text.includes('hi')) {
                response = {
                    text: `ÏïàÎÖïÌïòÏÑ∏Ïöî! Î∞òÍ∞ëÏäµÎãàÎã§! üëã

<span class="hl-blue">Timbel AI</span>ÏûÖÎãàÎã§. ÏΩîÎìú Í¥ÄÎ†® ÏßàÎ¨∏Ïù¥ÎÇò ÎèÑÏõÄÏù¥ ÌïÑÏöîÌïòÏãúÎ©¥ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî!

<span class="cmd-chip">/help</span>Î•º ÏûÖÎ†•ÌïòÏãúÎ©¥ ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Î™ÖÎ†πÏñ¥Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÏñ¥Ïöî.`
                };
            } else {
                response = aiResponses.default;
            }

            addMessage(response.text, false, response);
        }
        
        // ============ ACTION HANDLERS WITH PROGRESS ============
        async function handleAdvancedAction(action) {
            checkDemoHell();
            
            const actionConfigs = {
                deployDocker: {
                    title: 'Docker Î∞∞Ìè¨ Ï§ÄÎπÑ Ï§ë...',
                    steps: ['Dockerfile Î∂ÑÏÑù', 'docker-compose.yml ÏÉùÏÑ±', 'Ïù¥ÎØ∏ÏßÄ ÎπåÎìú ÏÑ§Ï†ï', 'Ïª®ÌÖåÏù¥ÎÑà Íµ¨ÏÑ± ÏôÑÎ£å']
                },
                deployAWS: {
                    title: 'AWS Î∞∞Ìè¨ ÏÑ§Ï†ï Ï§ë...',
                    steps: ['AWS ÏûêÍ≤© Ï¶ùÎ™Ö ÌôïÏù∏', 'EC2 Ïù∏Ïä§ÌÑ¥Ïä§ Íµ¨ÏÑ±', 'S3 Î≤ÑÌÇ∑ ÏÑ§Ï†ï', 'CloudFront Ïó∞Í≤∞', 'Î∞∞Ìè¨ ÌååÏù¥ÌîÑÎùºÏù∏ ÏÉùÏÑ±']
                },
                deployVercel: {
                    title: 'Vercel Î∞∞Ìè¨ Ï§ë...',
                    steps: ['ÌîÑÎ°úÏ†ùÌä∏ Î∂ÑÏÑù', 'vercel.json ÏÉùÏÑ±', 'ÎπåÎìú ÏÑ§Ï†ï ÏµúÏ†ÅÌôî', 'ÎèÑÎ©îÏù∏ Ïó∞Í≤∞']
                },
                deployAzure: {
                    title: 'Azure Î∞∞Ìè¨ ÏÑ§Ï†ï Ï§ë...',
                    steps: ['Azure Î¶¨ÏÜåÏä§ Í∑∏Î£π ÌôïÏù∏', 'App Service ÏÑ§Ï†ï', 'CI/CD ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨ÏÑ±', 'ÌôòÍ≤Ω Î≥ÄÏàò ÏÑ§Ï†ï']
                },
                startReview: {
                    title: 'ÏΩîÎìú Î¶¨Î∑∞ ÏßÑÌñâ Ï§ë...',
                    steps: ['ÏΩîÎìúÎ≤†Ïù¥Ïä§ Ïä§Ï∫î', 'Ïä§ÌÉÄÏùº Í∞ÄÏù¥Îìú Í≤ÄÏÇ¨', 'Î≥¥Ïïà Ï∑®ÏïΩÏ†ê Î∂ÑÏÑù', 'ÏÑ±Îä• Ïù¥Ïäà ÌÉêÏßÄ', 'Î¶¨Î∑∞ Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±']
                },
                qualityReport: {
                    title: 'ÌíàÏßà Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ± Ï§ë...',
                    steps: ['ÏΩîÎìú Î≥µÏû°ÎèÑ Î∂ÑÏÑù', 'ÌÖåÏä§Ìä∏ Ïª§Î≤ÑÎ¶¨ÏßÄ ÌôïÏù∏', 'Í∏∞Ïà† Î∂ÄÏ±Ñ Í≥ÑÏÇ∞', 'Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±']
                },
                analyzePerf: {
                    title: 'ÏÑ±Îä• Î∂ÑÏÑù Ï§ë...',
                    steps: ['Î≤àÎì§ ÏÇ¨Ïù¥Ï¶à Î∂ÑÏÑù', 'Î†åÎçîÎßÅ ÏÑ±Îä• Ï∏°Ï†ï', 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î∂ÑÏÑù', 'ÎÑ§Ìä∏ÏõåÌÅ¨ ÏöîÏ≤≠ Ï∂îÏ†Å', 'Î≥ëÎ™© ÏßÄÏ†ê ÌÉêÏßÄ']
                },
                autoOptimize: {
                    title: 'ÏûêÎèô ÏµúÏ†ÅÌôî Ï†ÅÏö© Ï§ë...',
                    steps: ['ÏΩîÎìú Ïä§ÌîåÎ¶¨ÌåÖ Ï†ÅÏö©', 'Î†àÏù¥ÏßÄ Î°úÎî© ÏÑ§Ï†ï', 'Ïù¥ÎØ∏ÏßÄ ÏµúÏ†ÅÌôî', 'Ï∫êÏã± Ï†ÑÎûµ Ï†ÅÏö©', 'ÏµúÏ†ÅÌôî ÏôÑÎ£å']
                },
                bugReport: {
                    title: 'Î≤ÑÍ∑∏ Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ± Ï§ë...',
                    steps: ['ÏóêÎü¨ Î°úÍ∑∏ ÏàòÏßë', 'Ïä§ÌÉù Ìä∏Î†àÏù¥Ïä§ Î∂ÑÏÑù', 'Ïû¨ÌòÑ Îã®Í≥Ñ Ï†ïÎ¶¨', 'Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±']
                },
                errorAnalysis: {
                    title: 'ÏóêÎü¨ Î∂ÑÏÑù Ï§ë...',
                    steps: ['ÏóêÎü¨ Ïú†Ìòï Î∂ÑÎ•ò', 'ÏõêÏù∏ Ï∂îÏ†Å', 'Í¥ÄÎ†® ÏΩîÎìú ÌÉêÏÉâ', 'Ìï¥Í≤∞Ï±Ö ÎèÑÏ∂ú']
                },
                autoFix: {
                    title: 'ÏûêÎèô ÏàòÏ†ï Ï†ÅÏö© Ï§ë...',
                    steps: ['ÏàòÏ†ï Í∞ÄÎä• Ìï≠Î™© ÌÉêÏÉâ', 'Ìå®Ïπò ÏÉùÏÑ±', 'ÌÖåÏä§Ìä∏ Ïã§Ìñâ', 'ÏàòÏ†ï Ï†ÅÏö©']
                }
            };
            
            const config = actionConfigs[action];
            if (config) {
                await showProgressModal(config.title, config.steps);
                
                const resultMessages = {
                    deployDocker: 'üê≥ Docker Î∞∞Ìè¨ ÏÑ§Ï†ïÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! DockerfileÍ≥º docker-compose.ymlÏù¥ ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.',
                    deployAWS: '‚òÅÔ∏è AWS Î∞∞Ìè¨ ÌååÏù¥ÌîÑÎùºÏù∏Ïù¥ Íµ¨ÏÑ±ÎêòÏóàÏäµÎãàÎã§! CloudFormation ÌÖúÌîåÎ¶øÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.',
                    deployVercel: '‚ñ≤ Vercel Î∞∞Ìè¨Í∞Ä Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§! ÌîÑÎ°úÎçïÏÖò URLÏù¥ ÏÉùÏÑ±Îê©ÎãàÎã§.',
                    deployAzure: 'üî∑ Azure Î∞∞Ìè¨Í∞Ä ÏÑ§Ï†ïÎêòÏóàÏäµÎãàÎã§! Azure PortalÏóêÏÑú ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.',
                    startReview: 'üîç ÏΩîÎìú Î¶¨Î∑∞Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! 23Í∞úÏùò Í∞úÏÑ† ÏÇ¨Ìï≠Ïù¥ Î∞úÍ≤¨ÎêòÏóàÏäµÎãàÎã§.',
                    qualityReport: 'üìä ÌíàÏßà Î¶¨Ìè¨Ìä∏: A+ Îì±Í∏â, ÏΩîÎìú Ïª§Î≤ÑÎ¶¨ÏßÄ 87%, Í∏∞Ïà† Î∂ÄÏ±Ñ ÎÇÆÏùå',
                    analyzePerf: '‚ö° ÏÑ±Îä• Î∂ÑÏÑù ÏôÑÎ£å! 3Í∞úÏùò Î≥ëÎ™© ÏßÄÏ†êÍ≥º 5Í∞úÏùò ÏµúÏ†ÅÌôî Í∏∞ÌöåÎ•º Î∞úÍ≤¨ÌñàÏäµÎãàÎã§.',
                    autoOptimize: 'üöÄ ÏµúÏ†ÅÌôî ÏôÑÎ£å! Î≤àÎì§ ÏÇ¨Ïù¥Ï¶à 32% Í∞êÏÜå, Î°úÎî© ÏãúÍ∞Ñ 45% Í∞úÏÑ†',
                    bugReport: 'üêõ Î≤ÑÍ∑∏ Î¶¨Ìè¨Ìä∏Í∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§. 3Í∞úÏùò ÌÅ¨Î¶¨Ìã∞Ïª¨, 7Í∞úÏùò ÎßàÏù¥ÎÑà Ïù¥Ïäà Î∞úÍ≤¨.',
                    errorAnalysis: 'üî¨ ÏóêÎü¨ Î∂ÑÏÑù ÏôÑÎ£å! Î£®Ìä∏ ÏõêÏù∏: ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨ ÎàÑÎùΩ. Ìï¥Í≤∞Ï±ÖÏù¥ Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§.',
                    autoFix: 'ü©π ÏûêÎèô ÏàòÏ†ïÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! 5Í∞ú ÌååÏùºÏóêÏÑú 12Í∞ú Ïù¥ÏäàÍ∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.'
                };
                
                addMessage(resultMessages[action] || '‚úÖ ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!', false);
            }
        }

        // ============ EVENT LISTENERS ============
        chatInput.addEventListener('input', () => {
            chatInput.style.height = 'auto';
            chatInput.style.height = Math.min(chatInput.scrollHeight, 140) + 'px';
            sendBtn.disabled = !chatInput.value.trim();
        });

        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                if (chatInput.value.trim()) {
                    processInput(chatInput.value);
                    chatInput.value = '';
                    chatInput.style.height = 'auto';
                    sendBtn.disabled = true;
                }
            }
        });

        sendBtn.addEventListener('click', () => {
            if (chatInput.value.trim()) {
                processInput(chatInput.value);
                chatInput.value = '';
                chatInput.style.height = 'auto';
                sendBtn.disabled = true;
            }
        });

        // Quick action buttons
        document.querySelectorAll('.quick-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const action = btn.dataset.action;
                processInput(`/${action}`);
            });
        });

        // Header buttons
        document.getElementById('clearBtn').addEventListener('click', () => {
            messagesInner.innerHTML = '';
            showWelcomeScreen();
            showToast('üóëÔ∏è ÎåÄÌôîÍ∞Ä Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.');
        });

        document.getElementById('newChatBtn').addEventListener('click', () => {
            messagesInner.innerHTML = '';
            showWelcomeScreen();
            showToast('‚ú® ÏÉà ÎåÄÌôîÍ∞Ä ÏãúÏûëÎêòÏóàÏäµÎãàÎã§!');
        });

        document.getElementById('settingsBtn').addEventListener('click', () => {
            showFeatureModal('settings', 'Settings', '‚öôÔ∏è');
        });

        document.getElementById('codeInsertBtn').addEventListener('click', () => {
            chatInput.value += '```\n\n```';
            chatInput.focus();
            chatInput.setSelectionRange(chatInput.value.length - 4, chatInput.value.length - 4);
            showToast('{ } ÏΩîÎìú Î∏îÎ°ùÏù¥ ÏÇΩÏûÖÎêòÏóàÏäµÎãàÎã§.');
        });

        // ============ FUNNY MESSAGES ============
        const funnyMessages = {
            upgrade: {
                emoji: 'üí∏',
                title: 'ÎèàÏù¥ ÏóÜÏûñÏïÑÏöî!',
                message: 'Í≤∞Ï†ú ÏãúÏä§ÌÖú? Í∑∏Îü∞ Í±∞ ÏóÜÏñ¥Ïöî.<br><br>Ïã†Ïö©Ïπ¥ÎìúÎ•º Î™®ÎãàÌÑ∞Ïóê ÎåÄÎ¥êÎèÑ Í≤∞Ï†ú Ïïà Îê©ÎãàÎã§.<br>Ï†ïÏã† Ï∞®Î¶¨ÏÑ∏Ïöî! Ïù¥Í±¥ Îç∞Î™®ÏòàÏöî! ü§™'
            },
            export: {
                emoji: 'üì§',
                title: 'Ïñ¥ÎîîÎ°ú Î≥¥ÎÇ¥Í≤åÏöî?',
                message: 'ÎåÄÌôî ÎÇ¥Ïö©ÏùÑ Ïö∞Ï£ºÎ°ú Î≥¥ÎÇ¥ÎìúÎ¶¥ÍπåÏöî? üöÄ<br><br>ÎÜçÎã¥Ïù¥ÏóêÏöî. Export Î≤ÑÌäº ÏßÑÏßúÏù∏ Ï§Ñ ÏïåÏïòÏñ¥Ïöî?<br>Ctrl+C, Ctrl+V ÌïòÏÑ∏Ïöî. Í∑∏Í≤å ExportÏòàÏöî.'
            },
            attach: {
                emoji: 'üìé',
                title: 'ÌÅ¥Î¶Ω Ï¢ãÏïÑÌïòÏÑ∏Ïöî?',
                message: 'ÌååÏùº Ï≤®Î∂ÄÏöî? „Öã„Öã„Öã<br><br>Ïó¨Í∏∞Ïóê ÌååÏùº Ïò¨Î†§Î¥§Ïûê Ïö∞Î¶¨ ÏÑúÎ≤ÑÎäî ÏóÜÏñ¥Ïöî.<br>Í∑∏ÎÉ• ÏΩîÎìú Î≥µÎ∂ôÌïòÏÑ∏Ïöî. 21ÏÑ∏Í∏∞ÏûñÏïÑÏöî.'
            },
            composer: {
                emoji: 'üéº',
                title: 'ÏûëÍ≥°Í∞ÄÍ∞Ä ÎêòÍ≥† Ïã∂ÏúºÏã†Í∞ÄÏöî?',
                message: 'Composer Î™®ÎìúÏöî?<br><br>Î©ÄÌã∞ÌååÏùº AI Ìé∏ÏßëÏù¥ ÎêòÎäî Ï§Ñ ÏïåÏïòÏ£†?<br>Ïó¨Í∏∞ÏÑú ÏûëÍ≥°ÎêòÎäî Í±¥ ÎãπÏã†Ïùò Ï¢åÏ†àÎøêÏûÖÎãàÎã§. üéµ'
            },
            code: {
                emoji: 'üíª',
                title: 'ÏΩîÎî©ÌïòÎü¨ Ïò§ÏÖ®Ïñ¥Ïöî?',
                message: 'Code ÌÉ≠ÏùÑ ÎàåÎ†ÄÍµ∞Ïöî!<br><br>ÏßÑÏßú ÏóêÎîîÌÑ∞Ïù∏ Ï§Ñ ÏïåÏïòÏñ¥Ïöî?<br>VS Code ÏºúÏÑ∏Ïöî. Í±∞Í∏∞Í∞Ä ÏßÑÏßú ÏóêÎîîÌÑ∞ÏòàÏöî.'
            },
            docs: {
                emoji: 'üìö',
                title: 'Í≥µÎ∂Ä Ïó¥Ïã¨Ìûà ÌïòÏãúÎÑ§Ïöî!',
                message: 'Docs ÌÉ≠Ïù¥Ïöî?<br><br>Î¨∏ÏÑúÎäî Íµ¨Í∏ÄÏóê ÏûàÏñ¥Ïöî. Ïó¨Í∏∞ ÏïÑÎãàÏóêÏöî.<br>"Read the docs" Îì§Ïñ¥Î≥¥ÏÖ®Ï£†? ÏßÑÏßúÎ°ú ÏùΩÏúºÏÑ∏Ïöî.'
            },
            settings: {
                emoji: '‚öôÔ∏è',
                title: 'ÏÑ§Ï†ï ÎçïÌõÑÏãúÍµ∞Ïöî!',
                message: 'ÏÑ§Ï†ïÏùÑ Î∞îÍæ∏Î©¥ Î≠êÍ∞Ä Î∞îÎÄî Í≤É Í∞ôÏ£†?<br><br>Ïä§Ìè¨ÏùºÎü¨: ÏïÑÎ¨¥Í≤ÉÎèÑ Ïïà Î∞îÎÄùÎãàÎã§.<br>Îã§ÌÅ¨Î™®ÎìúÎ∞ñÏóê ÏóÜÎäîÎç∞ Ïù¥ÎØ∏ Îã§ÌÅ¨Î™®ÎìúÏòàÏöî. üòé'
            },
            model: {
                emoji: 'ü§ñ',
                title: 'AI Î™®Îç∏ Í≥†Î•¥Í∏∞!',
                message: 'Timbel-7 Pro, Timbel-Ultra, Timbel-Mega...<br><br>Îã§ ÎòëÍ∞ôÏïÑÏöî. Ï†ÑÎ∂Ä Í∞ÄÏßúÍ±∞Îì†Ïöî.<br>OpenAI API ÌÇ§Î∂ÄÌÑ∞ Í∞ÄÏ†∏Ïò§ÏÑ∏Ïöî.'
            },
            run: {
                emoji: '‚ñ∂Ô∏è',
                title: 'Ïã§ÌñâÌïòÍ≥† Ïã∂ÏúºÏãúÏ£†?',
                message: 'Run Î≤ÑÌäº ÎàåÎ†ÄÎÑ§Ïöî!<br><br>Ïù¥ ÏΩîÎìúÍ∞Ä Ïã§ÌñâÎêòÎ†§Î©¥...<br>ÎãπÏã†Ïù¥ ÏßÅÏ†ë ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú Ïã§ÌñâÌï¥Ïïº Ìï¥Ïöî. Ïó¨Í∏¥ Ïö¥ÎèôÏû•Ïù¥ ÏïÑÎãôÎãàÎã§.'
            },
            history: {
                emoji: 'üìú',
                title: 'Ïó≠ÏÇ¨Îäî Î∞òÎ≥µÎêúÎã§!',
                message: 'ÎåÄÌôî Í∏∞Î°ùÏù¥Ïöî?<br><br>ÏÉàÎ°úÍ≥†Ïπ®ÌïòÎ©¥ Îã§ ÏÇ¨ÎùºÏ†∏Ïöî.<br>LocalStorage? Í∑∏Îü∞ Í±∞ Íµ¨ÌòÑ Ïïà ÌñàÏñ¥Ïöî. „Öé„Öé'
            }
        };

        function showFunnyMessage(type) {
            const msg = funnyMessages[type];
            if (!msg) return;
            
            document.getElementById('funnyEmoji').textContent = msg.emoji;
            document.getElementById('funnyTitle').textContent = msg.title;
            document.getElementById('funnyMessage').innerHTML = msg.message;
            document.getElementById('funnyOverlay').classList.add('show');
            checkDemoHell();
        }

        document.getElementById('funnyClose').addEventListener('click', () => {
            document.getElementById('funnyOverlay').classList.remove('show');
        });

        // ============ FEATURE MODALS ============
        const featureContents = {
            composer: `
                <div class="composer-grid">
                    <div class="composer-panel">
                        <div class="composer-panel-title">üìÅ ÌîÑÎ°úÏ†ùÌä∏ ÌååÏùº</div>
                        <div class="file-item"><span class="file-item-icon">üìÑ</span> index.tsx</div>
                        <div class="file-item"><span class="file-item-icon">üìÑ</span> App.tsx</div>
                        <div class="file-item"><span class="file-item-icon">üìÑ</span> components/Header.tsx</div>
                        <div class="file-item"><span class="file-item-icon">üìÑ</span> utils/api.ts</div>
                        <div class="file-item"><span class="file-item-icon">üé®</span> styles.css</div>
                    </div>
                    <div class="composer-panel">
                        <div class="composer-panel-title">‚ú® AI Ï†úÏïà</div>
                        <div class="file-item" style="background: rgba(59,130,246,0.1); border: 1px solid var(--accent-blue);">
                            <span>üîß</span> Header.tsx Î¶¨Ìå©ÌÜ†ÎßÅ Ï†úÏïà
                        </div>
                        <div class="file-item" style="background: rgba(34,197,94,0.1); border: 1px solid var(--accent-green);">
                            <span>‚úÖ</span> api.ts ÌÉÄÏûÖ ÏïàÏ†ÑÏÑ± Í∞úÏÑ†
                        </div>
                        <div class="file-item" style="background: rgba(234,179,8,0.1); border: 1px solid var(--accent-yellow);">
                            <span>‚ö†Ô∏è</span> ÏÑ±Îä• ÏµúÏ†ÅÌôî ÌïÑÏöî
                        </div>
                    </div>
                </div>
                <div class="code-editor-mock">
                    <div class="code-editor-tabs">
                        <div class="code-editor-tab active"><span>üìÑ</span> App.tsx</div>
                        <div class="code-editor-tab"><span>üìÑ</span> Header.tsx</div>
                    </div>
                    <div class="code-editor-content">
                        <div class="code-line"><span class="line-number">1</span><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div>
                        <div class="code-line"><span class="line-number">2</span><span class="keyword">import</span> { Header } <span class="keyword">from</span> <span class="string">'./components'</span>;</div>
                        <div class="code-line"><span class="line-number">3</span></div>
                        <div class="code-line"><span class="line-number">4</span><span class="keyword">export default function</span> <span class="function">App</span>() {</div>
                        <div class="code-line"><span class="line-number">5</span>  <span class="keyword">return</span> (</div>
                        <div class="code-line"><span class="line-number">6</span>    <span class="comment">// AIÍ∞Ä Ïó¨Í∏∞Î•º ÏàòÏ†ïÌï† Í±∞ÏòàÏöî... ÎÜçÎã¥Ïù¥ÏóêÏöî „Öã„Öã</span></div>
                        <div class="code-line"><span class="line-number">7</span>  );</div>
                        <div class="code-line"><span class="line-number">8</span>}</div>
                    </div>
                </div>
            `,
            code: `
                <div class="code-editor-mock" style="min-height: 350px;">
                    <div class="code-editor-tabs">
                        <div class="code-editor-tab active"><span>üìÑ</span> playground.ts</div>
                        <div class="code-editor-tab"><span>‚ûï</span> ÏÉà ÌååÏùº</div>
                    </div>
                    <div class="code-editor-content" style="min-height: 280px;">
                        <div class="code-line"><span class="line-number">1</span><span class="comment">// Ïó¨Í∏∞Ïóê ÏΩîÎìúÎ•º ÏûëÏÑ±ÌïòÏÑ∏Ïöî</span></div>
                        <div class="code-line"><span class="line-number">2</span><span class="comment">// (Ïã§ÌñâÏùÄ Ïïà Îê©ÎãàÎã§ „Öé„Öé)</span></div>
                        <div class="code-line"><span class="line-number">3</span></div>
                        <div class="code-line"><span class="line-number">4</span><span class="keyword">function</span> <span class="function">ÎØøÏùå</span>() {</div>
                        <div class="code-line"><span class="line-number">5</span>  <span class="keyword">if</span> (Ïù¥Í≤å_ÏßÑÏßúÎùºÍ≥†_ÎØøÏúºÎ©¥) {</div>
                        <div class="code-line"><span class="line-number">6</span>    <span class="keyword">throw new</span> <span class="function">Error</span>(<span class="string">"Îç∞Î™® ÏßÄÏò•Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§"</span>);</div>
                        <div class="code-line"><span class="line-number">7</span>  }</div>
                        <div class="code-line"><span class="line-number">8</span>}</div>
                        <div class="code-line"><span class="line-number">9</span></div>
                        <div class="code-line"><span class="line-number">10</span><span class="function">console</span>.<span class="function">log</span>(<span class="string">"Ï†ïÏã† Ï∞®Î¶¨ÏÑ∏Ïöî!"</span>);</div>
                    </div>
                </div>
            `,
            docs: `
                <div style="display: grid; gap: 16px;">
                    <div class="composer-panel">
                        <div class="composer-panel-title">üìñ Î¨∏ÏÑú Ïπ¥ÌÖåÍ≥†Î¶¨</div>
                        <div class="file-item"><span>üöÄ</span> ÏãúÏûëÌïòÍ∏∞</div>
                        <div class="file-item"><span>üì¶</span> ÏÑ§Ïπò Í∞ÄÏù¥Îìú</div>
                        <div class="file-item"><span>‚öôÔ∏è</span> API Î†àÌçºÎü∞Ïä§</div>
                        <div class="file-item"><span>üí°</span> ÌäúÌÜ†Î¶¨Ïñº</div>
                        <div class="file-item"><span>‚ùì</span> FAQ</div>
                    </div>
                    <div class="composer-panel" style="text-align: center; padding: 40px;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üìö</div>
                        <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Î¨∏ÏÑúÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
                        <div style="color: var(--text-muted); font-size: 14px;">
                            ÏÇ¨Ïã§ Î¨∏ÏÑúÍ∞Ä ÏóÜÏñ¥Ïöî.<br>
                            ÏßÑÏßú Î¨∏ÏÑúÎäî Í≥µÏãù ÌôàÌéòÏù¥ÏßÄÏóê ÏûàÏäµÎãàÎã§.
                        </div>
                    </div>
                </div>
            `,
            settings: `
                <div class="settings-group">
                    <div class="settings-group-title">üé® Ïô∏Í¥Ä</div>
                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Îã§ÌÅ¨ Î™®Îìú</div>
                            <div class="setting-desc">ÎààÏù¥ Ìé∏ÏïàÌïú Ïñ¥ÎëêÏö¥ ÌÖåÎßà</div>
                        </div>
                        <div class="toggle-switch active" onclick="this.classList.toggle('active'); showToast('Î∞îÎÄåÎäî Í±∞ ÏóÜÏñ¥Ïöî „Öã„Öã')"></div>
                    </div>
                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Ïª¥Ìå©Ìä∏ Î™®Îìú</div>
                            <div class="setting-desc">Îçî ÎßéÏùÄ ÎÇ¥Ïö©ÏùÑ Ìïú ÌôîÎ©¥Ïóê</div>
                        </div>
                        <div class="toggle-switch" onclick="this.classList.toggle('active'); showToast('Ïù¥Í≤ÉÎèÑ Ïïà Î∞îÎÄåÏñ¥Ïöî „Öé„Öé')"></div>
                    </div>
                </div>
                <div class="settings-group">
                    <div class="settings-group-title">ü§ñ AI ÏÑ§Ï†ï</div>
                    <div class="setting-item">
                        <div>
                            <div class="setting-label">ÏûêÎèô ÏôÑÏÑ±</div>
                            <div class="setting-desc">ÌÉÄÏù¥ÌïëÌïòÎ©¥ AIÍ∞Ä ÏΩîÎìú Ï†úÏïà</div>
                        </div>
                        <div class="toggle-switch active" onclick="this.classList.toggle('active'); showToast('ToggleÏùÄ ÎêòÎäîÎç∞ Í∏∞Îä•ÏùÄ ÏóÜÏñ¥Ïöî')"></div>
                    </div>
                    <div class="setting-item">
                        <div>
                            <div class="setting-label">Ïù∏ÎùºÏù∏ Ï†úÏïà</div>
                            <div class="setting-desc">ÏΩîÎìú ÏòÜÏóê AI Ï†úÏïà ÌëúÏãú</div>
                        </div>
                        <div class="toggle-switch active" onclick="this.classList.toggle('active'); showToast('Ïó¥Ïã¨Ìûà ÌÜ†Í∏ÄÌïòÏãúÎÑ§Ïöî „Öã„Öã')"></div>
                    </div>
                </div>
                <div class="settings-group">
                    <div class="settings-group-title">‚ö†Ô∏è ÏúÑÌóò Íµ¨Ïó≠</div>
                    <div class="setting-item" style="border-color: var(--accent-red);">
                        <div>
                            <div class="setting-label" style="color: var(--accent-red);">Î™®Îì† Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú</div>
                            <div class="setting-desc">ÎåÄÌôî Í∏∞Î°ù, ÏÑ§Ï†ï Î™®Îëê Ï¥àÍ∏∞Ìôî</div>
                        </div>
                        <button class="action-btn secondary" style="border-color: var(--accent-red); color: var(--accent-red);" onclick="showFunnyMessage('history')">ÏÇ≠Ï†ú</button>
                    </div>
                </div>
            `
        };

        function showFeatureModal(type, title, icon) {
            document.getElementById('featureModalTitle').innerHTML = `<span>${icon}</span><span>${title}</span>`;
            document.getElementById('featureModalBody').innerHTML = featureContents[type] || '<p>ÏΩòÌÖêÏ∏† Ï§ÄÎπÑ Ï§ë...</p>';
            document.getElementById('featureModalOverlay').classList.add('show');
        }

        document.getElementById('featureModalClose').addEventListener('click', () => {
            document.getElementById('featureModalOverlay').classList.remove('show');
        });

        document.getElementById('featureModalCancel').addEventListener('click', () => {
            document.getElementById('featureModalOverlay').classList.remove('show');
        });

        document.getElementById('featureModalConfirm').addEventListener('click', () => {
            document.getElementById('featureModalOverlay').classList.remove('show');
            showFunnyMessage('run');
        });

        // Header buttons with funny messages
        document.getElementById('upgradeBtn').addEventListener('click', () => {
            showFunnyMessage('upgrade');
        });

        document.getElementById('exportBtn').addEventListener('click', () => {
            showFunnyMessage('export');
        });

        document.getElementById('attachBtn').addEventListener('click', () => {
            showFunnyMessage('attach');
        });

        document.getElementById('modelSelector').addEventListener('click', () => {
            showFunnyMessage('model');
        });

        // Nav tabs with modals (override previous)
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.onclick = () => {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                const tabName = tab.textContent.toLowerCase();
                if (tabName === 'composer') {
                    showFeatureModal('composer', 'AI Composer', 'üéº');
                } else if (tabName === 'code') {
                    showFeatureModal('code', 'Code Editor', 'üíª');
                } else if (tabName === 'docs') {
                    showFeatureModal('docs', 'Documentation', 'üìö');
                } else if (tabName === 'history') {
                    showFunnyMessage('history');
                } else {
                    showToast(`üìë ${tab.textContent} ÌÉ≠ÏúºÎ°ú Ï†ÑÌôòÎêòÏóàÏäµÎãàÎã§.`);
                }
            };
        });
    </script>
</body>
</html>

