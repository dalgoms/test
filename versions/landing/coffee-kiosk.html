<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timbel Coffee Kiosk</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1E3A5F;
            --primary-light: #2C5282;
            --primary-dark: #152A45;
            --bg-light: #F0F2F5;
            --bg-white: #FFFFFF;
            --text-dark: #1A1A2E;
            --text-gray: #6B7280;
            --border: transparent;
            --shadow-sm: 0 2px 8px rgba(30, 58, 95, 0.08);
            --shadow-md: 0 4px 16px rgba(30, 58, 95, 0.12);
            --shadow-lg: 0 8px 32px rgba(30, 58, 95, 0.16);
            --shadow-xl: 0 12px 48px rgba(30, 58, 95, 0.2);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-light);
            min-height: 100vh;
            color: var(--text-dark);
        }

        .kiosk-container {
            display: grid;
            grid-template-columns: 1fr 380px;
            min-height: 100vh;
            background: var(--bg-white);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
            padding: 20px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 10;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .logo-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-img {
            height: 36px;
            width: auto;
            object-fit: contain;
        }

        .logo-text-wrap {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .logo-text {
            font-size: 26px;
            font-weight: 800;
            letter-spacing: -0.5px;
            line-height: 1.1;
        }

        .logo-subtext {
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 3px;
            text-transform: uppercase;
            opacity: 0.7;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-btn {
            width: 44px;
            height: 44px;
            background: #333333;
            border: 1px solid #444444;
            border-radius: 12px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .header-btn:hover {
            background: #444444;
            border-color: #555555;
            transform: translateY(-2px);
        }

        .order-type-badge {
            padding: 8px 16px;
            background: #e5e5e5;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            color: #1a1a1a;
            letter-spacing: 0.5px;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex-direction: column;
        }

        /* Category Tabs */
        .category-tabs {
            display: flex;
            background: var(--bg-white);
            padding: 12px 16px;
            gap: 8px;
            box-shadow: var(--shadow-sm);
        }

        .category-tab {
            flex: 1;
            padding: 18px 20px;
            border: none;
            background: transparent;
            font-size: 20px;
            font-weight: 500;
            color: var(--text-gray);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border-radius: 14px;
        }

        .category-tab:hover {
            color: var(--primary);
            background: rgba(30, 58, 95, 0.05);
        }

        .category-tab.active {
            color: white;
            font-weight: 600;
            background: #1a1a1a;
            box-shadow: var(--shadow-md);
        }

        .category-tab.active::after {
            display: none;
        }

        /* Menu Grid */
        .menu-panel {
            flex: 1;
            padding: 24px;
            padding-right: 12px;
            overflow-y: auto;
            background: var(--bg-white);
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
        }

        .menu-item {
            background: var(--bg-white);
            border: none;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            box-shadow: var(--shadow-sm);
        }

        .menu-item:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .menu-item.selected {
            box-shadow: 0 0 0 4px var(--primary), var(--shadow-lg);
        }

        .menu-item-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
        }

        .menu-item-info {
            padding: 22px 18px;
        }

        .menu-item-name {
            font-weight: 600;
            font-size: 20px;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .menu-item-price {
            font-weight: 800;
            font-size: 24px;
            color: var(--primary);
        }

        .menu-item-price span {
            font-size: 20px;
            font-weight: 600;
        }

        /* Menu Badges */
        .menu-item-badges {
            position: absolute;
            top: 12px;
            left: 12px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .menu-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.3px;
        }

        .menu-badge.popular {
            background: #E53935;
            color: white;
        }

        .menu-badge.signature {
            background: #E53935;
            color: white;
        }

        .menu-badge.sale {
            background: #E53935;
            color: white;
        }

        .menu-item {
            position: relative;
        }

        .menu-item-price-wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .original-price {
            font-size: 14px;
            color: #999;
            text-decoration: line-through;
        }

        .sale-price {
            color: #ff4444;
        }

        /* Right Panel */
        .right-panel {
            background: var(--bg-white);
            display: flex;
            flex-direction: column;
            padding: 20px;
            padding-top: 0;
        }

        /* Selected Items Display */
        .selected-preview {
            flex: 1;
            padding: 20px;
            background: var(--bg-light);
            margin-top: 20px;
            border-radius: 20px;
            border: none;
            overflow-y: auto;
        }

        .preview-item {
            display: grid;
            grid-template-columns: 50px 1fr auto;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-white);
            border-radius: 12px;
            margin-bottom: 8px;
            box-shadow: var(--shadow-sm);
        }

        .preview-item-img {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            object-fit: cover;
            box-shadow: var(--shadow-sm);
        }

        .preview-item-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
            overflow: hidden;
        }

        .preview-item-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-dark);
            line-height: 1.4;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .preview-item-price {
            font-size: 15px;
            font-weight: 700;
            color: var(--primary);
        }

        .preview-item-controls {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .qty-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: var(--bg-light);
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: var(--text-dark);
        }

        .qty-btn:hover {
            background: var(--primary);
            color: white;
        }

        .qty-value {
            font-weight: 700;
            font-size: 16px;
            min-width: 24px;
            text-align: center;
            color: var(--text-dark);
        }

        .remove-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: #ff5252;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin-left: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .remove-btn:hover {
            background: #ff1744;
        }

        /* Timer & Controls */
        .controls-section {
            padding: 16px 0;
        }

        .timer-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0;
            padding: 16px 20px;
            background: var(--bg-light);
            border-radius: 14px;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-label {
            font-size: 16px;
            color: var(--text-gray);
        }

        .timer-value {
            font-size: 38px;
            font-weight: 700;
            color: #E53935;
        }

        .timer-value span {
            font-size: 22px;
            font-weight: 500;
        }

        .clear-btn {
            padding: 14px 24px;
            background: var(--bg-white);
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--shadow-sm);
        }

        .clear-btn:hover {
            background: #f0f0f0;
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        /* Cart Section */
        .cart-section {
            background: transparent;
            padding: 20px 0 0 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding: 16px 20px;
            background: var(--bg-light);
            border-radius: 14px;
        }

        .cart-title {
            font-size: 20px;
            font-weight: 600;
        }

        .cart-count {
            font-size: 18px;
            color: var(--text-gray);
        }

        .cart-summary {
            margin-bottom: 0;
        }

        .summary-row.total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 22px;
            font-weight: 700;
            padding: 16px 20px;
            background: var(--bg-light);
            border-radius: 14px;
            margin-top: 10px;
        }

        .summary-row.total .amount {
            color: #E53935;
            font-size: 26px;
        }

        .checkout-btn {
            width: 100%;
            padding: 22px;
            background: #666666;
            border: none;
            color: white;
            font-size: 22px;
            font-weight: 700;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            margin-top: 16px;
        }

        .checkout-btn.active {
            background: #1a1a1a;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .checkout-btn.active:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.5);
        }

        .checkout-btn:disabled {
            cursor: not-allowed;
        }

        /* Checkout Wrapper & Event Tooltip */
        .checkout-wrapper {
            position: relative;
            margin-top: 16px;
        }

        .checkout-wrapper .checkout-btn {
            margin-top: 0;
        }

        .event-tooltip {
            position: absolute;
            top: -42px;
            left: 50%;
            transform: translateX(-50%);
            background: #7c4dff;
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 5px;
            animation: tooltipPulse 2s ease infinite;
            z-index: 100;
        }

        @keyframes tooltipPulse {
            0%, 100% { 
                transform: translateX(-50%) scale(1);
            }
            50% { 
                transform: translateX(-50%) scale(1.03);
            }
        }

        .tooltip-icon {
            font-size: 12px;
            animation: iconShake 1.5s ease infinite;
        }

        @keyframes iconShake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }

        .tooltip-text {
            letter-spacing: -0.3px;
        }

        .tooltip-arrow {
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid #7c4dff;
        }

        .event-tooltip.hidden {
            display: none;
        }

        /* Option Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 28px;
            width: 90%;
            max-width: 450px;
            max-height: 85vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            box-shadow: var(--shadow-xl);
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            padding: 28px;
            text-align: center;
            background: linear-gradient(180deg, #f8fafc, #ffffff);
        }

        .modal-header img {
            width: 130px;
            height: 130px;
            object-fit: cover;
            border-radius: 20px;
            margin-bottom: 18px;
            box-shadow: var(--shadow-lg);
        }

        .modal-header h3 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .modal-header .price {
            font-size: 22px;
            font-weight: 700;
            color: var(--primary);
        }

        .modal-body {
            padding: 24px;
        }

        .option-group {
            margin-bottom: 24px;
        }

        .option-group-title {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .required-badge {
            font-size: 11px;
            padding: 3px 8px;
            background: var(--primary);
            border-radius: 10px;
            color: white;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .option-btn {
            padding: 14px 20px;
            border: none;
            background: var(--bg-light);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 15px;
            box-shadow: var(--shadow-sm);
        }

        .option-btn:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .option-btn.selected {
            background: #1a1a1a;
            color: white;
            box-shadow: var(--shadow-md);
        }

        .option-btn .extra-price {
            font-size: 12px;
            opacity: 0.8;
            margin-left: 4px;
        }

        .modal-footer {
            padding: 24px;
            display: flex;
            gap: 12px;
            background: #f8fafc;
        }

        .modal-cancel-btn {
            flex: 1;
            padding: 18px;
            border: none;
            background: white;
            font-size: 17px;
            font-weight: 600;
            border-radius: 14px;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
            transition: all 0.2s;
        }

        .modal-cancel-btn:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .modal-add-btn {
            flex: 2;
            padding: 18px;
            background: #1a1a1a;
            border: none;
            color: white;
            font-size: 17px;
            font-weight: 700;
            border-radius: 14px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            transition: all 0.2s;
        }

        .modal-add-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
        }

        /* Success Overlay */
        .success-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .success-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .success-icon {
            font-size: 80px;
            margin-bottom: 24px;
        }

        .success-text {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .success-subtext {
            font-size: 16px;
            color: var(--text-gray);
        }

        .success-joke {
            margin-top: 32px;
            padding: 20px 32px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border-radius: 16px;
            color: white;
            font-size: 15px;
            line-height: 1.6;
            max-width: 400px;
            text-align: center;
            animation: fadeInUp 0.5s ease 0.3s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Payment Modal */
        .payment-modal {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .payment-header {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: white;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .payment-logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .inicis-logo {
            font-weight: 700;
            font-size: 18px;
        }

        .payment-secure {
            font-size: 12px;
            opacity: 0.8;
        }

        .payment-close {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        .payment-body {
            padding: 24px;
        }

        .payment-info {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 1px dashed #ddd;
            margin-bottom: 20px;
        }

        .payment-merchant {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
        }

        .payment-amount-label {
            font-size: 13px;
            color: #999;
        }

        .payment-amount {
            font-size: 32px;
            font-weight: 800;
            color: #1a1a1a;
        }

        .payment-method-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #333;
        }

        .payment-method-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .payment-method {
            padding: 16px;
            border: 2px solid #eee;
            background: white;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .payment-method:hover {
            border-color: #ccc;
        }

        .payment-method.active {
            border-color: #1a1a1a;
            background: #f8f8f8;
        }

        .method-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 32px;
        }

        .method-icon svg {
            display: block;
        }

        .method-name {
            font-size: 13px;
            font-weight: 500;
        }

        .payment-processing {
            display: none;
            flex-direction: column;
            align-items: center;
            padding: 40px 0;
            gap: 16px;
        }

        .payment-processing.active {
            display: flex;
        }

        .processing-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #eee;
            border-top-color: #1a1a1a;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .processing-text {
            font-size: 14px;
            color: #666;
        }

        .payment-footer {
            padding: 16px 24px;
            background: #f5f5f5;
            display: flex;
            gap: 12px;
        }

        .payment-cancel-btn {
            flex: 1;
            padding: 14px;
            border: none;
            background: white;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }

        .payment-confirm-btn {
            flex: 2;
            padding: 14px;
            border: none;
            background: #1a1a1a;
            color: white;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }

        .payment-confirm-btn:hover {
            background: #333;
        }

        /* Event Overlay */
        .event-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .event-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Confetti */
        .confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            top: -30px;
        }

        .event-content {
            text-align: center;
            color: #333;
            animation: popIn 0.5s ease;
            position: relative;
            z-index: 10;
        }

        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .event-confetti {
            font-size: 60px;
            margin-bottom: 16px;
            animation: bounce 0.6s ease infinite alternate;
        }

        @keyframes bounce {
            to { transform: translateY(-10px); }
        }

        .event-badge {
            display: inline-block;
            background: #E53935;
            padding: 10px 28px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 800;
            letter-spacing: 4px;
            margin-bottom: 20px;
            color: white;
        }

        .event-title {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 24px;
            color: #E53935;
        }

        .event-price-box {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 28px;
            background: #f5f5f5;
            padding: 24px 40px;
            border-radius: 20px;
        }

        .event-original-price {
            font-size: 28px;
            text-decoration: line-through;
            color: #999;
        }

        .event-arrow {
            font-size: 28px;
            color: #E53935;
        }

        .event-free {
            font-size: 52px;
            font-weight: 800;
            color: #E53935;
        }

        .event-message {
            font-size: 18px;
            margin-bottom: 16px;
            background: #fff3f3;
            padding: 14px 28px;
            border-radius: 30px;
            display: inline-block;
            color: #E53935;
            font-weight: 600;
        }

        .event-subtext {
            font-size: 22px;
            margin-bottom: 24px;
            color: #666;
        }

        .event-order-num {
            font-size: 14px;
            color: #999;
            background: #f0f0f0;
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
        }

        .success-joke .joke-title {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .success-joke .joke-content {
            font-weight: 600;
            font-size: 17px;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-gray);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .empty-state-text {
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 1600px) {
            .menu-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 1200px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 900px) {
            .kiosk-container {
                grid-template-columns: 1fr;
            }
            
            .right-panel {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                max-height: 50vh;
                border-left: none;
                border-top: 1px solid var(--border);
                border-radius: 20px 20px 0 0;
                box-shadow: 0 -4px 20px rgba(0,0,0,0.15);
                padding: 16px;
            }

            .selected-preview {
                padding: 12px;
                margin-top: 12px;
            }

            .preview-item {
                grid-template-columns: 44px 1fr auto;
                gap: 10px;
                padding: 10px;
            }

            .preview-item-img {
                width: 44px;
                height: 44px;
            }

            .preview-item-name {
                font-size: 13px;
            }

            .preview-item-price {
                font-size: 14px;
            }

            .qty-btn, .remove-btn {
                width: 28px;
                height: 28px;
                font-size: 15px;
            }

            .qty-value {
                font-size: 14px;
                min-width: 22px;
            }

            .timer-row {
                padding: 12px 16px;
            }

            .timer-value {
                font-size: 28px;
            }

            .cart-header {
                padding: 12px 16px;
                margin-bottom: 12px;
            }

            .cart-title {
                font-size: 16px;
            }

            .summary-row.total {
                padding: 12px 16px;
                font-size: 18px;
            }

            .checkout-btn {
                padding: 16px;
                font-size: 18px;
                margin-top: 12px;
            }

            .checkout-wrapper {
                margin-top: 12px;
            }

            .event-tooltip {
                top: -36px;
                padding: 5px 12px;
                font-size: 10px;
            }

            .tooltip-icon {
                font-size: 11px;
            }

            .tooltip-arrow {
                bottom: -5px;
                border-left-width: 5px;
                border-right-width: 5px;
                border-top-width: 5px;
            }

            .controls-section {
                padding: 12px 0;
            }

            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .menu-panel {
                padding: 16px;
                padding-bottom: 280px;
            }

            .menu-item-info {
                padding: 14px 12px;
            }

            .menu-item-name {
                font-size: 16px;
                margin-bottom: 8px;
            }

            .menu-item-price {
                font-size: 18px;
            }

            .menu-item-image {
                height: 140px;
            }

            .menu-item-badges {
                top: 8px;
                left: 8px;
            }

            .menu-badge {
                padding: 4px 10px;
                font-size: 10px;
                border-radius: 16px;
            }

            .original-price {
                font-size: 12px;
            }

            .category-tabs {
                padding: 8px 12px;
                gap: 6px;
                overflow-x: auto;
            }

            .category-tab {
                padding: 12px 14px;
                font-size: 14px;
                white-space: nowrap;
                flex: none;
            }

            .header {
                padding: 14px 16px;
            }

            .logo-img {
                height: 28px;
            }

            .logo-text {
                font-size: 20px;
            }

            .logo-subtext {
                font-size: 9px;
            }

            .header-btn {
                width: 36px;
                height: 36px;
                font-size: 14px;
            }

            .order-type-badge {
                padding: 6px 12px;
                font-size: 11px;
            }
        }

        @media (max-width: 480px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .menu-item-image {
                height: 110px;
            }

            .menu-item-info {
                padding: 10px 8px;
            }

            .menu-item-name {
                font-size: 13px;
                margin-bottom: 4px;
            }

            .menu-item-price {
                font-size: 15px;
            }

            .menu-item-price span {
                font-size: 13px;
            }

            .menu-item-badges {
                top: 6px;
                left: 6px;
                gap: 4px;
            }

            .menu-badge {
                padding: 3px 8px;
                font-size: 9px;
                border-radius: 12px;
            }

            .original-price {
                font-size: 11px;
            }

            .category-tab {
                padding: 10px 12px;
                font-size: 13px;
            }

            .right-panel {
                padding: 12px;
                max-height: 45vh;
            }

            .preview-item {
                grid-template-columns: 40px 1fr auto;
                gap: 8px;
                padding: 10px;
            }

            .preview-item-img {
                width: 40px;
                height: 40px;
                border-radius: 8px;
            }

            .preview-item-name {
                font-size: 13px;
            }

            .preview-item-price {
                font-size: 14px;
            }

            .qty-btn, .remove-btn {
                width: 26px;
                height: 26px;
                font-size: 14px;
            }

            .preview-item-controls {
                gap: 4px;
            }

            .remove-btn {
                margin-left: 4px;
            }

            .timer-value {
                font-size: 24px;
            }

            .timer-label {
                font-size: 13px;
            }

            .clear-btn {
                padding: 10px 16px;
                font-size: 13px;
            }

            .checkout-btn {
                padding: 14px;
                font-size: 16px;
            }

            .event-tooltip {
                top: -32px;
                padding: 4px 10px;
                font-size: 9px;
                gap: 3px;
            }

            .tooltip-icon {
                font-size: 10px;
            }

            .tooltip-arrow {
                bottom: -4px;
                border-left-width: 4px;
                border-right-width: 4px;
                border-top-width: 4px;
            }

            .menu-panel {
                padding: 12px;
                padding-bottom: 260px;
            }

            .header {
                padding: 12px 14px;
            }

            .logo-img {
                height: 24px;
            }

            .logo-text {
                font-size: 16px;
            }

            .logo-subtext {
                font-size: 8px;
                letter-spacing: 2px;
            }

            .logo-container {
                gap: 10px;
            }

            .header-btn {
                width: 32px;
                height: 32px;
                font-size: 14px;
                border-radius: 8px;
            }

            .header-right {
                gap: 8px;
            }

            .order-type-badge {
                padding: 5px 10px;
                font-size: 10px;
            }

            .category-tabs {
                padding: 6px 10px;
                gap: 4px;
            }

            .category-tab {
                padding: 8px 10px;
                font-size: 12px;
                border-radius: 10px;
            }
        }

        @media (max-width: 360px) {
            .logo-text {
                font-size: 16px;
            }

            .logo-subtext {
                display: none;
            }

            .menu-grid {
                gap: 6px;
            }

            .menu-item-image {
                height: 90px;
            }

            .menu-item-info {
                padding: 8px 6px;
            }

            .menu-item-name {
                font-size: 12px;
            }

            .menu-item-price {
                font-size: 14px;
            }

            .event-tooltip {
                top: -30px;
                padding: 4px 8px;
                font-size: 8px;
                gap: 2px;
            }

            .tooltip-icon {
                font-size: 9px;
            }

            .tooltip-text {
                letter-spacing: -0.5px;
            }

            .logo-img {
                height: 20px;
            }

            .logo-text {
                font-size: 14px;
            }
        }

        /* Welcome Screen - Toss Style Bold */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 5000;
            transition: all 0.4s ease;
        }

        .welcome-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .welcome-content {
            text-align: center;
            color: #191f28;
            animation: welcomeFadeIn 0.6s ease;
            padding: 40px;
        }

        @keyframes welcomeFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-logo {
            margin-bottom: 24px;
        }

        .welcome-logo img {
            height: 72px;
            width: auto;
        }

        .welcome-title {
            font-size: 52px;
            font-weight: 800;
            margin-bottom: 8px;
            letter-spacing: -1px;
            color: #191f28;
        }

        .welcome-subtitle {
            font-size: 16px;
            color: #8b95a1;
            font-weight: 500;
            margin-bottom: 80px;
        }

        .welcome-message {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 48px;
            color: #333d4b;
        }

        .order-type-options {
            display: flex;
            gap: 24px;
            margin-bottom: 80px;
        }

        .order-type-btn {
            width: 220px;
            padding: 48px 32px;
            background: #f9fafb;
            border: none;
            border-radius: 24px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 16px;
            transition: all 0.2s ease;
            color: #191f28;
        }

        .order-type-btn:hover {
            background: #f2f4f6;
            transform: translateY(-6px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
        }

        .order-type-btn:active {
            transform: translateY(-3px) scale(0.98);
            background: #e5e8eb;
        }

        .order-type-label {
            font-size: 32px;
            font-weight: 800;
            color: #191f28;
        }

        .order-type-desc {
            font-size: 16px;
            color: #8b95a1;
            font-weight: 500;
        }

        .welcome-footer {
            font-size: 14px;
            color: #b0b8c1;
        }

        .welcome-touch-hint {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 15px;
            color: #8b95a1;
            animation: pulse 2s ease infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Responsive Welcome Screen */
        @media (max-width: 600px) {
            .welcome-content {
                padding: 24px;
            }

            .welcome-logo img {
                height: 56px;
            }

            .welcome-title {
                font-size: 36px;
            }

            .welcome-subtitle {
                font-size: 13px;
                margin-bottom: 50px;
            }

            .welcome-message {
                font-size: 20px;
                margin-bottom: 32px;
            }

            .order-type-options {
                gap: 16px;
                margin-bottom: 50px;
            }

            .order-type-btn {
                width: 160px;
                padding: 36px 24px;
                border-radius: 20px;
            }

            .order-type-label {
                font-size: 24px;
            }

            .order-type-desc {
                font-size: 13px;
            }

            .welcome-touch-hint {
                bottom: 40px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <div class="welcome-logo">
                <img src="img/timbel logo.png" alt="Timbel" onerror="this.style.display='none'">
            </div>
            <h1 class="welcome-title">Cafeteria</h1>
            <p class="welcome-subtitle">Premium Coffee Kiosk</p>
            
            <div class="welcome-message">Ïñ¥ÏÑúÏò§ÏÑ∏Ïöî, ÌåÄÎ≤® ÏûÑÏßÅÏõê Ïó¨Îü¨Î∂Ñ<br>Ï£ºÎ¨∏ Î∞©ÏãùÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!</div>
            
            <div class="order-type-options">
                <button class="order-type-btn" onclick="selectOrderType('store')">
                    <div class="order-type-label">Îß§Ïû•</div>
                    <div class="order-type-desc">Îß§Ïû•Ïù¥Ïö©</div>
                </button>
                <button class="order-type-btn" onclick="selectOrderType('takeout')">
                    <div class="order-type-label">Ìè¨Ïû•</div>
                    <div class="order-type-desc">Í∞ÄÏ†∏Í∞ÄÍ∏∞</div>
                </button>
            </div>
            
            <div class="welcome-footer">Powered by Timbel</div>
        </div>
        <div class="welcome-touch-hint">
            ÌÑ∞ÏπòÌïòÏó¨ Ï£ºÎ¨∏ÏùÑ ÏãúÏûëÌïòÏÑ∏Ïöî
        </div>
    </div>

    <div class="kiosk-container">
        <!-- Main Content -->
        <div class="main-content">
            <header class="header">
                <div class="header-left">
                    <div class="logo-container">
                        <img src="img/timbel logo.png" alt="TIMBEL" style="height: 36px; width: auto;">
                    </div>
                </div>
                <div class="header-right">
                    <div class="order-type-badge" id="orderTypeBadge">Îß§Ïû•</div>
                </div>
            </header>

            <!-- Category Tabs -->
            <div class="category-tabs">
                <button class="category-tab active" data-category="season">ÏãúÏ¶å Î©îÎâ¥</button>
                <button class="category-tab" data-category="hot">Ïª§Ìîº(HOT)</button>
                <button class="category-tab" data-category="ice">Ïª§Ìîº(ICE)</button>
                <button class="category-tab" data-category="beverage">ÏùåÎ£å</button>
                <button class="category-tab" data-category="dessert">ÎîîÏ†ÄÌä∏</button>
            </div>

            <!-- Menu Grid -->
            <div class="menu-panel">
                <div class="menu-grid" id="menuGrid">
                    <!-- Items populated by JS -->
                </div>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
            <!-- Selected Items Preview -->
            <div class="selected-preview" id="selectedPreview">
                <div class="empty-state">
                    <div class="empty-state-icon">üõí</div>
                    <div class="empty-state-text">Î©îÎâ¥Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</div>
                </div>
            </div>

            <!-- Timer & Controls -->
            <div class="controls-section">
                <div class="timer-row">
                    <div class="timer">
                        <span class="timer-label">ÎÇ®ÏùÄÏãúÍ∞Ñ</span>
                        <span class="timer-value" id="timerValue">60<span>Ï¥à</span></span>
                    </div>
                    <button class="clear-btn" onclick="clearCart()">Ï†ÑÏ≤¥ÏÇ≠Ï†ú</button>
                </div>
            </div>

            <!-- Cart Section -->
            <div class="cart-section">
                <div class="cart-header">
                    <span class="cart-title">ÏÑ†ÌÉùÌïú ÏÉÅÌíà</span>
                    <span class="cart-count" id="cartCount">0Í∞ú</span>
                </div>
                <div class="cart-summary">
                    <div class="summary-row total">
                        <span>Ï¥ù Í≤∞Ï†úÍ∏àÏï°</span>
                        <span class="amount" id="totalAmount">0Ïõê</span>
                    </div>
                </div>
                <div class="checkout-wrapper">
                    <div class="event-tooltip" id="eventTooltip">
                        <span class="tooltip-icon">üéÅ</span>
                        <span class="tooltip-text">Î©îÎâ¥Î•º Îã¥Í≥† Í≤∞Ï†úÌïòÍ∏∞Î•º ÎàåÎü¨Î≥¥ÏÑ∏Ïöî!</span>
                        <span class="tooltip-arrow"></span>
                    </div>
                    <button class="checkout-btn" id="checkoutBtn" disabled onclick="checkout()">
                        Í≤∞Ï†úÌïòÍ∏∞
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal-overlay" id="productModal">
        <div class="modal">
            <div class="modal-header">
                <img id="modalImage" src="" alt="">
                <h3 id="modalName">ÏÉÅÌíàÎ™Ö</h3>
                <div class="price" id="modalPrice">0Ïõê</div>
            </div>
            <div class="modal-body">
                <div class="option-group" id="sizeGroup">
                    <div class="option-group-title">
                        ÏÇ¨Ïù¥Ï¶à <span class="required-badge">ÌïÑÏàò</span>
                    </div>
                    <div class="options" id="sizeOptions">
                        <button class="option-btn selected" data-size="regular" data-extra="0">Regular</button>
                        <button class="option-btn" data-size="large" data-extra="500">Large <span class="extra-price">+500Ïõê</span></button>
                    </div>
                </div>
                <div class="option-group" id="tempGroup">
                    <div class="option-group-title">
                        Ïò®ÎèÑ <span class="required-badge">ÌïÑÏàò</span>
                    </div>
                    <div class="options" id="tempOptions">
                        <button class="option-btn selected" data-temp="hot">HOT</button>
                        <button class="option-btn" data-temp="ice">ICE</button>
                    </div>
                </div>
                <div class="option-group" id="extraGroup">
                    <div class="option-group-title">
                        Ï∂îÍ∞Ä ÏòµÏÖò
                    </div>
                    <div class="options" id="extraOptions">
                        <button class="option-btn" data-extra-option="shot" data-extra="500">ÏÉ∑ Ï∂îÍ∞Ä <span class="extra-price">+500Ïõê</span></button>
                        <button class="option-btn" data-extra-option="syrup" data-extra="300">ÏãúÎüΩ Ï∂îÍ∞Ä <span class="extra-price">+300Ïõê</span></button>
                        <button class="option-btn" data-extra-option="whip" data-extra="500">ÌúòÌïëÌÅ¨Î¶º <span class="extra-price">+500Ïõê</span></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-cancel-btn" onclick="closeModal()">Ï∑®ÏÜå</button>
                <button class="modal-add-btn" onclick="addToCart()">Îã¥Í∏∞</button>
            </div>
        </div>
    </div>

    <!-- Payment Modal (Inicis Style) -->
    <div class="modal-overlay" id="paymentModal">
        <div class="payment-modal">
            <div class="payment-header">
                <div class="payment-logo">
                    <span class="inicis-logo">KGÏù¥ÎãàÏãúÏä§</span>
                    <span class="payment-secure">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 4px;">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        ÏïàÏ†ÑÍ≤∞Ï†ú
                    </span>
                </div>
                <button class="payment-close" onclick="closePaymentModal()">‚úï</button>
            </div>
            <div class="payment-body">
                <div class="payment-info">
                    <div class="payment-merchant">Timbel Coffee</div>
                    <div class="payment-amount-label">Í≤∞Ï†ú Í∏àÏï°</div>
                    <div class="payment-amount" id="paymentAmount">0Ïõê</div>
                </div>
                <div class="payment-methods">
                    <div class="payment-method-title">Í≤∞Ï†ú ÏàòÎã® ÏÑ†ÌÉù</div>
                    <div class="payment-method-grid">
                        <button class="payment-method active" data-method="card">
                            <span class="method-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#1a1a1a" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                    <line x1="1" y1="10" x2="23" y2="10"></line>
                                </svg>
                            </span>
                            <span class="method-name">Ïã†Ïö©Ïπ¥Îìú</span>
                        </button>
                        <button class="payment-method" data-method="kakao">
                            <span class="method-icon kakao-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="#3C1E1E">
                                    <path d="M12 3C6.48 3 2 6.58 2 11c0 2.8 1.8 5.27 4.5 6.7-.2.76-.72 2.74-.83 3.17-.13.54.2.53.42.39.17-.11 2.74-1.86 3.86-2.62.68.1 1.38.16 2.05.16 5.52 0 10-3.58 10-8s-4.48-8-10-8z"/>
                                </svg>
                            </span>
                            <span class="method-name">Ïπ¥Ïπ¥Ïò§ÌéòÏù¥</span>
                        </button>
                        <button class="payment-method" data-method="naver">
                            <span class="method-icon naver-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="#03C75A">
                                    <path d="M16.27 12.55l-5.76-8.55H6v16h5.73v-8.55l5.76 8.55H22V4h-5.73v8.55z"/>
                                </svg>
                            </span>
                            <span class="method-name">ÎÑ§Ïù¥Î≤ÑÌéòÏù¥</span>
                        </button>
                        <button class="payment-method" data-method="phone">
                            <span class="method-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#1a1a1a" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                                    <line x1="12" y1="18" x2="12.01" y2="18"></line>
                                </svg>
                            </span>
                            <span class="method-name">Ìú¥ÎåÄÌè∞</span>
                        </button>
                    </div>
                </div>
                <div class="payment-processing" id="paymentProcessing">
                    <div class="processing-spinner"></div>
                    <div class="processing-text">Í≤∞Ï†ú Ï≤òÎ¶¨ Ï§ë...</div>
                </div>
            </div>
            <div class="payment-footer">
                <button class="payment-cancel-btn" onclick="closePaymentModal()">Ï∑®ÏÜå</button>
                <button class="payment-confirm-btn" onclick="processPayment()">Í≤∞Ï†úÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

    <!-- Success Overlay -->
    <div class="success-overlay" id="successOverlay">
        <div class="success-icon" id="successIcon">‚úÖ</div>
        <div class="success-text" id="successText">Ï£ºÎ¨∏Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!</div>
        <div class="success-subtext" id="successSubtext">Ïû†Ïãú ÌõÑ ÏùåÎ£åÍ∞Ä Ï§ÄÎπÑÎê©ÎãàÎã§</div>
        <div class="success-joke" id="successJoke"></div>
    </div>

    <!-- Event FREE Overlay -->
    <div class="event-overlay" id="eventOverlay">
        <div class="confetti-container" id="confettiContainer"></div>
        <div class="event-content">
            <div class="event-confetti">üéâ</div>
            <div class="event-badge">EVENT</div>
            <div class="event-title">Ï∂ïÌïòÌï©ÎãàÎã§!</div>
            <div class="event-price-box">
                <div class="event-original-price" id="eventOriginalPrice">15,000Ïõê</div>
                <div class="event-arrow">‚Üí</div>
                <div class="event-free">FREE!</div>
            </div>
            <div class="event-message">
                Ïù¥Î≤§Ìä∏ Í∏∞Í∞Ñ Ï§ë Î™®Îì† Ï£ºÎ¨∏ 100% Î¨¥Î£å!
            </div>
            <div class="event-subtext">ÎßõÏûàÍ≤å ÎìúÏÑ∏Ïöî~</div>
            <div class="event-order-num" id="eventOrderNum">Ï£ºÎ¨∏Î≤àÌò∏: #001</div>
        </div>
    </div>

    <script>
        // Menu Data with matching images
        const menuItems = [
            // ÏãúÏ¶å Î©îÎâ¥
            { id: 1, name: 'Í≥®ÎìúÎßùÍ≥† Ïä§Î¨¥Îîî', price: 4000, image: 'https://images.unsplash.com/photo-1623065422902-30a2d299bbe4?w=400&h=400&fit=crop&q=80', category: 'season', badge: 'popular' },
            { id: 2, name: 'ÏΩîÏΩîÎÑõ Ïª§Ìîº Ïä§Î¨¥Îîî', price: 4800, image: 'https://images.unsplash.com/photo-1572490122747-3968b75cc699?w=400&h=400&fit=crop&q=80', category: 'season', badge: 'signature' },
            { id: 3, name: 'ÎßùÍ≥† ÏΩîÏΩîÎÑõ Ï£ºÏä§', price: 3800, image: 'https://images.unsplash.com/photo-1546173159-315724a31696?w=400&h=400&fit=crop&q=80', category: 'season' },
            { id: 4, name: 'ÎßùÍ≥† ÌûàÎπÑÏä§ Ïª§Ïä§Ìã∞', price: 5800, originalPrice: 6500, image: 'https://images.unsplash.com/photo-1497534446932-c925b458314e?w=400&h=400&fit=crop&q=80', category: 'season', badge: 'sale' },
            { id: 5, name: 'Îî∏Í∏∞ Ïø†ÌÇ§ ÌîÑÎùºÌéò', price: 4900, image: 'https://images.unsplash.com/photo-1553530666-ba11a7da3888?w=400&h=400&fit=crop&q=80', category: 'season', badge: 'popular' },
            { id: 6, name: 'ÌùëÎãπ Î≤ÑÎ∏î ÎùºÎñº', price: 4800, image: 'https://images.unsplash.com/photo-1558857563-b371033873b8?w=400&h=400&fit=crop&q=80', category: 'season', badge: 'signature' },
            { id: 7, name: 'ÌùëÎãπ ÎùºÎñº', price: 5000, image: 'https://images.unsplash.com/photo-1534687941688-651ccaafbff8?w=400&h=400&fit=crop&q=80', category: 'season' },

            // Ïª§Ìîº HOT
            { id: 10, name: 'ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏', price: 4000, image: 'https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?w=400&h=400&fit=crop&q=80', category: 'hot', badge: 'popular' },
            { id: 11, name: 'Ïπ¥ÌéòÎùºÎñº', price: 4500, image: 'https://images.unsplash.com/photo-1541167760496-1628856ab772?w=400&h=400&fit=crop&q=80', category: 'hot', badge: 'signature' },
            { id: 12, name: 'Î∞îÎãêÎùº ÎùºÎñº', price: 5000, image: 'https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=400&h=400&fit=crop&q=80', category: 'hot' },
            { id: 13, name: 'Ïπ¥ÎùºÎ©ú ÎßàÌÇ§ÏïÑÌÜ†', price: 5200, originalPrice: 5800, image: 'https://images.unsplash.com/photo-1485808191679-5f86510681a2?w=400&h=400&fit=crop&q=80', category: 'hot', badge: 'sale' },
            { id: 14, name: 'Ïπ¥Ìë∏ÏπòÎÖ∏', price: 4500, image: 'https://images.unsplash.com/photo-1534778101976-62847782c213?w=400&h=400&fit=crop&q=80', category: 'hot' },
            { id: 15, name: 'ÏóêÏä§ÌîÑÎ†àÏÜå', price: 3000, image: 'https://images.unsplash.com/photo-1510707577719-ae7c14805e3a?w=400&h=400&fit=crop&q=80', category: 'hot' },
            { id: 16, name: 'Ïπ¥ÌéòÎ™®Ïπ¥', price: 5000, image: 'https://images.unsplash.com/photo-1578314675249-a6910f80cc4e?w=400&h=400&fit=crop&q=80', category: 'hot', badge: 'popular' },
            { id: 17, name: 'ÎèåÏ≤¥ÎùºÎñº', price: 5200, image: 'https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=400&h=400&fit=crop&q=80', category: 'hot', badge: 'signature' },

            // Ïª§Ìîº ICE
            { id: 20, name: 'ÏïÑÏù¥Ïä§ ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏', price: 4000, image: 'https://images.unsplash.com/photo-1517701550927-30cf4ba1dba5?w=400&h=400&fit=crop&q=80', category: 'ice', badge: 'popular' },
            { id: 21, name: 'ÏïÑÏù¥Ïä§ Ïπ¥ÌéòÎùºÎñº', price: 4500, image: 'https://images.unsplash.com/photo-1592663527359-cf6642f54cff?w=400&h=400&fit=crop&q=80', category: 'ice' },
            { id: 22, name: 'ÏΩúÎìúÎ∏åÎ£®', price: 4800, image: 'https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=400&h=400&fit=crop&q=80', category: 'ice', badge: 'signature' },
            { id: 23, name: 'ÏΩúÎìúÎ∏åÎ£® ÎùºÎñº', price: 5200, originalPrice: 5800, image: 'https://images.unsplash.com/photo-1517701604599-bb29b565090c?w=400&h=400&fit=crop&q=80', category: 'ice', badge: 'sale' },
            { id: 24, name: 'Î∞îÎãêÎùº ÌîÑÎùºÌë∏ÏπòÎÖ∏', price: 5500, image: 'https://images.unsplash.com/photo-1572490122747-3968b75cc699?w=400&h=400&fit=crop&q=80', category: 'ice' },
            { id: 25, name: 'Ïπ¥ÎùºÎ©ú ÌîÑÎùºÌë∏ÏπòÎÖ∏', price: 5500, image: 'https://images.unsplash.com/photo-1530373239216-42518e6b4063?w=400&h=400&fit=crop&q=80', category: 'ice', badge: 'popular' },
            { id: 26, name: 'ÏûêÎ∞îÏπ© ÌîÑÎùºÌë∏ÏπòÎÖ∏', price: 5800, image: 'https://images.unsplash.com/photo-1577968897966-3d4325b36b61?w=400&h=400&fit=crop&q=80', category: 'ice', badge: 'signature' },

            // ÏùåÎ£å
            { id: 30, name: 'Ï¥àÏΩîÎùºÎñº', price: 4800, image: 'https://images.unsplash.com/photo-1578314675249-a6910f80cc4e?w=400&h=400&fit=crop&q=80', category: 'beverage', badge: 'popular' },
            { id: 31, name: 'ÎÖπÏ∞®ÎùºÎñº', price: 4800, image: 'https://images.unsplash.com/photo-1515823064-d6e0c04616a7?w=400&h=400&fit=crop&q=80', category: 'beverage', badge: 'signature' },
            { id: 32, name: 'Îî∏Í∏∞ Ïä§Î¨¥Îîî', price: 5000, originalPrice: 5500, image: 'https://images.unsplash.com/photo-1553530666-ba11a7da3888?w=400&h=400&fit=crop&q=80', category: 'beverage', badge: 'sale' },
            { id: 33, name: 'ÎßùÍ≥† Ïä§Î¨¥Îîî', price: 5000, image: 'https://images.unsplash.com/photo-1623065422902-30a2d299bbe4?w=400&h=400&fit=crop&q=80', category: 'beverage', badge: 'popular' },
            { id: 34, name: 'Î†àÎ™¨ÏóêÏù¥Îìú', price: 4500, image: 'https://images.unsplash.com/photo-1621263764928-df1444c5e859?w=400&h=400&fit=crop&q=80', category: 'beverage' },
            { id: 35, name: 'ÏûêÎ™ΩÏóêÏù¥Îìú', price: 4800, image: 'https://images.unsplash.com/photo-1560508179-b2c9a3f8e92b?w=400&h=400&fit=crop&q=80', category: 'beverage' },

            // ÎîîÏ†ÄÌä∏
            { id: 40, name: 'Ìã∞ÎùºÎØ∏Ïàò', price: 5500, image: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=400&h=400&fit=crop&q=80', category: 'dessert', isDessert: true, badge: 'signature' },
            { id: 41, name: 'ÏπòÏ¶àÏºÄÏù¥ÌÅ¨', price: 5000, image: 'https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=400&h=400&fit=crop&q=80', category: 'dessert', isDessert: true, badge: 'popular' },
            { id: 42, name: 'ÌÅ¨Î£®ÏïÑÏÉÅ', price: 3500, originalPrice: 4000, image: 'https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400&h=400&fit=crop&q=80', category: 'dessert', isDessert: true, badge: 'sale' },
            { id: 43, name: 'ÎßàÏπ¥Î°± ÏÑ∏Ìä∏', price: 6000, image: 'https://images.unsplash.com/photo-1569864358642-9d1684040f43?w=400&h=400&fit=crop&q=80', category: 'dessert', isDessert: true },
            { id: 44, name: 'Ï¥àÏΩî Î∏åÎùºÏö∞Îãà', price: 4000, image: 'https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=400&h=400&fit=crop&q=80', category: 'dessert', isDessert: true, badge: 'popular' },
        ];

        let cart = [];
        let currentItem = null;
        let selectedSize = 'regular';
        let selectedTemp = 'hot';
        let selectedExtras = [];
        let timerSeconds = 60;
        let timerInterval = null;

        // Render Menu
        function renderMenu(category = 'season') {
            const grid = document.getElementById('menuGrid');
            const filtered = menuItems.filter(item => item.category === category);
            
            const badgeLabels = {
                'popular': 'Ïù∏Í∏∞',
                'signature': 'ÏãúÍ∑∏ÎãàÏ≤ò',
                'sale': 'Ìï†Ïù∏'
            };
            
            grid.innerHTML = filtered.map(item => {
                const badgeHtml = item.badge ? 
                    `<div class="menu-item-badges">
                        <span class="menu-badge ${item.badge}">${badgeLabels[item.badge]}</span>
                    </div>` : '';
                
                const priceHtml = item.originalPrice ? 
                    `<div class="menu-item-price-wrap">
                        <span class="original-price">${item.originalPrice.toLocaleString()}Ïõê</span>
                        <div class="menu-item-price sale-price">${item.price.toLocaleString()}<span>Ïõê</span></div>
                    </div>` :
                    `<div class="menu-item-price">${item.price.toLocaleString()}<span>Ïõê</span></div>`;
                
                return `
                    <div class="menu-item" onclick="openModal(${item.id})">
                        ${badgeHtml}
                        <img class="menu-item-image" src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300x300/f5f5f5/999999?text=No+Image'">
                        <div class="menu-item-info">
                            <div class="menu-item-name">${item.name}</div>
                            ${priceHtml}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Category Tabs
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                renderMenu(this.dataset.category);
            });
        });

        // Timer
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            timerSeconds = 60;
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timerSeconds--;
                updateTimerDisplay();
                
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    showTimeoutMessage();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const timerEl = document.getElementById('timerValue');
            timerEl.innerHTML = `${timerSeconds}<span>Ï¥à</span>`;
            
            // 10Ï¥à Ïù¥ÌïòÏùº Îïå ÍπúÎπ°ÏûÑ Ìö®Í≥º
            if (timerSeconds <= 10 && timerSeconds > 0) {
                timerEl.style.animation = 'blink 0.5s infinite';
            } else {
                timerEl.style.animation = 'none';
            }
        }

        // ÌÉÄÏûÑÏïÑÏõÉ Ïû¨ÎØ∏ÎÇú Î¨∏Íµ¨Îì§
        const timeoutMessages = [
            { icon: "üò¥", title: "Ïû†Íπê Ï°∏ÏïòÎÇòÏöî?", text: "Ïª§Ìîº Ìïú Ïûî Ïñ¥Îñ†ÏÑ∏Ïöî? Ï†ïÏã†Ïù¥ Î≤àÏ©ç!" },
            { icon: "ü§î", title: "Í≤∞Ï†ïÏû•Ïï†Ïù∏Í∞ÄÏöî?", text: "ÏùºÎã® ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏Î∂ÄÌÑ∞ Îã¥ÏïÑÎ≥¥ÏÑ∏Ïöî!" },
            { icon: "‚è∞", title: "ÏãúÍ∞ÑÏù¥ Í∏àÏù¥ÎûòÏöî!", text: "Îπ®Î¶¨ Ï£ºÎ¨∏ÌïòÍ≥† Ïª§Ìîº ÎßàÏãúÎü¨ Í∞ÄÏöî~" },
            { icon: "ü¶•", title: "ÎäêÍ∏ãÌïòÏãúÎÑ§Ïöî~", text: "Ï≤úÏ≤úÌûà Í≥®ÎùºÎèÑ ÎêòÏßÄÎßå... Ïª§ÌîºÎäî Îπ®Î¶¨!" },
            { icon: "üëÄ", title: "Î≠ò Î≥¥Í≥† Í≥ÑÏã†Í∞ÄÏöî?", text: "ÎßõÏûàÎäî Î©îÎâ¥Í∞Ä Í∏∞Îã§Î¶¨Í≥† ÏûàÏñ¥Ïöî!" },
            { icon: "üéØ", title: "Î™©ÌëúÎ•º Ï†ïÌïòÏÑ∏Ïöî!", text: "Ïò§ÎäòÏùò Ïª§ÌîºÎäî Î≠òÎ°ú ÌïòÏãúÍ≤†Ïñ¥Ïöî?" },
            { icon: "üí≠", title: "ÏÉùÍ∞ÅÏù¥ ÎßéÏúºÏãúÍµ∞Ïöî", text: "Î≥µÏû°Ìï† Îïê Îã¨Îã¨Ìïú ÎùºÎñº Ï∂îÏ≤ú!" },
            { icon: "üöÄ", title: "Îπ†Î•¥Í≤å Ï£ºÎ¨∏ÌïòÏÑ∏Ïöî!", text: "Ïª§ÌîºÍ∞Ä ÎãπÏã†ÏùÑ Í∏∞Îã§Î†§Ïöî~" },
            { icon: "üòã", title: "Î∞∞Í≥†ÌîÑÏã†Í∞ÄÏöî?", text: "ÎîîÏ†ÄÌä∏ÎèÑ ÎßõÏûàÏñ¥Ïöî! Í∞ôÏù¥ ÎìúÏÖîÎ≥¥ÏÑ∏Ïöî~" },
            { icon: "‚òï", title: "Ïª§Ìîº ÏÉùÍ∞ÅÎÇòÏãúÏ£†?", text: "Ï†ÄÌù¨ÎèÑÏöî! Îπ®Î¶¨ Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî~" },
        ];

        function showTimeoutMessage() {
            const message = timeoutMessages[Math.floor(Math.random() * timeoutMessages.length)];
            
            const successOverlay = document.getElementById('successOverlay');
            const iconEl = document.getElementById('successIcon');
            const textEl = document.getElementById('successText');
            const subtextEl = document.getElementById('successSubtext');
            const jokeEl = document.getElementById('successJoke');
            
            iconEl.textContent = message.icon;
            textEl.textContent = message.title;
            subtextEl.textContent = message.text;
            jokeEl.innerHTML = `<div class="joke-content">Îã§Ïãú Ï£ºÎ¨∏Ìï¥Ï£ºÏÑ∏Ïöî! üôè</div>`;
            
            successOverlay.classList.add('active');
            
            setTimeout(() => {
                successOverlay.classList.remove('active');
                // Ïû•Î∞îÍµ¨Îãà ÎπÑÏö∞Í≥† ÌÉÄÏù¥Î®∏ Î¶¨ÏÖã
                cart = [];
                updateCart();
                timerSeconds = 60;
                updateTimerDisplay();
                // ÌôòÏòÅ ÌôîÎ©¥ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                returnToWelcome();
            }, 3000);
        }

        // Modal Functions
        function openModal(itemId) {
            currentItem = menuItems.find(item => item.id === itemId);
            if (!currentItem) return;

            document.getElementById('modalImage').src = currentItem.image;
            document.getElementById('modalName').textContent = currentItem.name;
            document.getElementById('modalPrice').textContent = `${currentItem.price.toLocaleString()}Ïõê`;

            // Reset selections
            selectedSize = 'regular';
            selectedTemp = 'hot';
            selectedExtras = [];

            // Update UI
            document.querySelectorAll('#sizeOptions .option-btn').forEach(btn => {
                btn.classList.toggle('selected', btn.dataset.size === 'regular');
            });
            document.querySelectorAll('#tempOptions .option-btn').forEach(btn => {
                btn.classList.toggle('selected', btn.dataset.temp === 'hot');
            });
            document.querySelectorAll('#extraOptions .option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });

            // Hide options for desserts
            const sizeGroup = document.getElementById('sizeGroup');
            const tempGroup = document.getElementById('tempGroup');
            const extraGroup = document.getElementById('extraGroup');
            if (currentItem.isDessert) {
                sizeGroup.style.display = 'none';
                tempGroup.style.display = 'none';
                extraGroup.style.display = 'none';
            } else {
                sizeGroup.style.display = 'block';
                tempGroup.style.display = 'block';
                extraGroup.style.display = 'block';
            }

            document.getElementById('productModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('productModal').classList.remove('active');
            currentItem = null;
        }

        // Size Options
        document.querySelectorAll('#sizeOptions .option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('#sizeOptions .option-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                selectedSize = this.dataset.size;
            });
        });

        // Temperature Options
        document.querySelectorAll('#tempOptions .option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('#tempOptions .option-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                selectedTemp = this.dataset.temp;
            });
        });

        // Extra Options
        document.querySelectorAll('#extraOptions .option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.classList.toggle('selected');
                const option = this.dataset.extraOption;
                if (selectedExtras.includes(option)) {
                    selectedExtras = selectedExtras.filter(e => e !== option);
                } else {
                    selectedExtras.push(option);
                }
            });
        });

        // Add to Cart
        function addToCart() {
            if (!currentItem) return;

            const sizeBtn = document.querySelector(`#sizeOptions .option-btn[data-size="${selectedSize}"]`);
            const sizeExtra = currentItem.isDessert ? 0 : parseInt(sizeBtn?.dataset.extra || 0);

            let extrasTotal = 0;
            selectedExtras.forEach(extra => {
                const btn = document.querySelector(`#extraOptions .option-btn[data-extra-option="${extra}"]`);
                extrasTotal += parseInt(btn?.dataset.extra || 0);
            });

            const totalPrice = currentItem.price + sizeExtra + extrasTotal;

            const cartItem = {
                id: Date.now(),
                itemId: currentItem.id,
                name: currentItem.name,
                image: currentItem.image,
                size: currentItem.isDessert ? '' : selectedSize,
                temp: currentItem.isDessert ? '' : selectedTemp,
                extras: [...selectedExtras],
                basePrice: currentItem.price,
                totalPrice: totalPrice,
                quantity: 1
            };

            cart.push(cartItem);
            updateCart();
            closeModal();
            
            // ÌÉÄÏù¥Î®∏Í∞Ä ÏóÜÏúºÎ©¥ ÏãúÏûë (Î¶¨ÏÖãÌïòÏßÄ ÏïäÏùå)
            if (!timerInterval) {
                startTimer();
            }
        }

        // Update Cart UI
        function updateCart() {
            const previewEl = document.getElementById('selectedPreview');
            const cartCountEl = document.getElementById('cartCount');
            const totalAmountEl = document.getElementById('totalAmount');
            const checkoutBtn = document.getElementById('checkoutBtn');

            if (cart.length === 0) {
                previewEl.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üõí</div>
                        <div class="empty-state-text">Î©îÎâ¥Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                `;
                cartCountEl.textContent = '0Í∞ú';
                totalAmountEl.textContent = '0Ïõê';
                checkoutBtn.disabled = true;
                checkoutBtn.classList.remove('active');
                return;
            }

            const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
            const total = cart.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);

            previewEl.innerHTML = cart.map(item => {
                const options = [];
                if (item.size) options.push(item.size === 'large' ? 'Large' : 'Regular');
                if (item.temp) options.push(item.temp === 'hot' ? 'HOT' : 'ICE');

                return `
                    <div class="preview-item">
                        <img class="preview-item-img" src="${item.image}" alt="${item.name}">
                        <div class="preview-item-info">
                            <div class="preview-item-name">${item.name}${options.length ? ` (${options.join('/')})` : ''}</div>
                            <div class="preview-item-price">${(item.totalPrice * item.quantity).toLocaleString()}Ïõê</div>
                        </div>
                        <div class="preview-item-controls">
                            <button class="qty-btn" onclick="updateQuantity(${item.id}, -1)">‚àí</button>
                            <span class="qty-value">${item.quantity}</span>
                            <button class="qty-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            <button class="remove-btn" onclick="removeFromCart(${item.id})">‚úï</button>
                        </div>
                    </div>
                `;
            }).join('');

            cartCountEl.textContent = `${totalQty}Í∞ú`;
            totalAmountEl.textContent = `${total.toLocaleString()}Ïõê`;
            checkoutBtn.disabled = false;
            checkoutBtn.classList.add('active');
        }

        function updateQuantity(id, delta) {
            const item = cart.find(i => i.id === id);
            if (!item) return;

            item.quantity += delta;
            if (item.quantity <= 0) {
                removeFromCart(id);
            } else {
                updateCart();
            }
        }

        function removeFromCart(id) {
            cart = cart.filter(i => i.id !== id);
            updateCart();
        }

        function clearCart() {
            cart = [];
            updateCart();
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            timerSeconds = 60;
            updateTimerDisplay();
            
            // Ìà¥ÌåÅ Îã§Ïãú ÌëúÏãú
            document.getElementById('eventTooltip').classList.remove('hidden');
        }

        // ÏßÅÏû•Ïù∏ Í≥µÍ∞ê Î¨∏Íµ¨Îì§ (Îçî ÏõÉÍ∏¥ Î≤ÑÏ†Ñ)
        const officeJokes = [
            { icon: "üíÄ", title: "ÌòÑÌÉÄ Ï£ºÏùò", text: "ÏßÄÍ∏à ÎßàÏãúÎäî Ïª§ÌîºÍ∞íÏù¥Î©¥ Ï£ºÏãù ÏÉÄÏñ¥Ïïº ÌñàÎäîÎç∞..." },
            { icon: "ü§°", title: "ÏûêÏïÑÏÑ±Ï∞∞", text: "Ïª§Ìîº ÏóÜÏúºÎ©¥ Ïùº Î™ª Ìï¥Ïöî (ÏõêÎûò Î™ª Ìï®)" },
            { icon: "üòá", title: "Ï≤úÏÇ¨Ïùò ÏÜçÏÇ≠ÏûÑ", text: "Ìá¥ÏÇ¨Í∞ÅÏù¥ÏßÄÎßå ÏùºÎã® Ïª§ÌîºÎ∂ÄÌÑ∞..." },
            { icon: "ü™¶", title: "R.I.P", text: "ÎÇ¥ Ïó¥Ï†ï Ïó¨Í∏∞ Ïû†Îì§Îã§. Ïª§ÌîºÎßå ÎÇ®ÏïòÎã§." },
            { icon: "üé∞", title: "ÎèÑÎ∞ï", text: "Ïò§Îäò ÏïºÍ∑º ÌôïÎ•† 99%... Ïª§ÌîºÎÇò Í±∏Ïûê" },
            { icon: "üßü", title: "Ï¢ÄÎπÑ Î™®Îìú", text: "Îáå: Ïò§ÌîÑÎùºÏù∏ / Ïª§Ìîº: Î∂ÄÌåÖ Ï§ë..." },
            { icon: "üí∏", title: "Í∞ÄÍ≥ÑÎ∂Ä Î∂ÑÏÑù", text: "ÏõîÍ∏âÏùò 30%Í∞Ä Ïª§Ìîº... ÎÇòÎ®∏ÏßÄÎäî ÏÑ∏Í∏à" },
            { icon: "ü§ñ", title: "AI ÎåÄÏ≤¥ Î∂àÍ∞Ä", text: "ChatGPTÎèÑ ÎåÄÏã† Î™ª ÎßàÏãúÎäî Ïª§Ìîº" },
            { icon: "üîÆ", title: "Ï†êÏßë ÏòàÏñ∏", text: "Ïò§ÎäòÏùò Ïö¥ÏÑ∏: Ïª§Ìîº = ÏÉùÏ°¥ / Ïïà ÎßàÏãúÎ©¥ = Ìá¥ÏÇ¨" },
            { icon: "üèÜ", title: "ÏûêÎûëÏä§Îü¨Ïö¥ Í∏∞Î°ù", text: "Ïò¨Ìï¥ ÎßàÏã† Ïª§ÌîºÎ°ú ÌïúÍ∞ï Ï±ÑÏö∏ Ïàò ÏûàÏùå" },
            { icon: "üòµ", title: "TMI", text: "ÌòàÍ¥ÄÏóê Ìîº ÎåÄÏã† ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏ ÌùêÎ•¥Îäî Ï§ë" },
            { icon: "üé≠", title: "Ïó∞Í∏∞ÎåÄÏÉÅ", text: "Ïª§Ìîº ÎßàÏãúÎ©∞ ÏùºÌïòÎäî Ï≤ô ÏôÑÎ≤Ω Ïó∞Í∏∞ Ï§ë" },
            { icon: "üöÄ", title: "Ïä§ÌÉÄÌä∏ÏóÖ Í∞êÏÑ±", text: "ÏïºÍ∑ºÏùÄ Ïó¥Ï†ïÏù¥ ÏïÑÎãàÎùº Ïª§ÌîºÍ∞Ä ÏãúÌÇ® Í±∞ÏûÑ" },
            { icon: "üëª", title: "ÏÜåÎ¶Ñ Ï£ºÏùò", text: "ÌåÄÏû•Îãò Ïª§Ìîº ÏÇ¨Ï§Ñ Îïå = ÏïºÍ∑º 99% ÌôïÏ†ï" },
            { icon: "üê∂", title: "Í∞ïÏïÑÏßÄ ÎààÎπõ", text: "ÏÇ¨Ïû•Îãò Ï†Ä Ïó∞Î¥â Ïò¨Î†§Ï£ºÏÑ∏Ïöî (Ïª§Ìîº ÌôÄÏßù)" },
            { icon: "üé™", title: "ÏÑúÏª§Ïä§Îã®", text: "ÌöåÏùò Ï§ë Ï°∏Îã§ Í±∏Î†§ÏÑú Ïª§Ìîº ÏõêÏÉ∑Ìï®" },
            { icon: "üåã", title: "Ìè≠Î∞ú ÏßÅÏ†Ñ", text: "Ïª§Ìîº ÎßàÏãúÍ∏∞ Ï†ÑÏóê Îßê Í±∏Î©¥ Ï±ÖÏûÑ Î™ª Ïßê" },
            { icon: "ü¶¥", title: "Îºà ÎïåÎ¶¨Îäî", text: "Ïó¥Ïã¨Ìûà ÏùºÌï¥ÎèÑ Ïª§ÌîºÍ∞í Î≤ÑÎäî Ï§ë..." },
            { icon: "üé¨", title: "ÎìúÎùºÎßà Ï¥¨ÏòÅ", text: "Ìá¥ÏÇ¨ ÏÉÅÏÉÅÌïòÎ©∞ Ïª§Ìîº ÎßàÏãúÎäî Ïû•Î©¥ Ï¥¨ÏòÅ Ï§ë" },
            { icon: "üßÆ", title: "ÏàòÌïôÏùò Ï†ïÏÑù", text: "Ïó∞Î¥â √∑ 365 √∑ 8 = Ïª§Ìîº Ìïú Ïûî Î™ª ÏÇ¨Î®πÏùå" },
            { icon: "üéµ", title: "Ïò§ÎäòÏùò BGM", text: "‚ô™ ÏõîÍ∏âÏùÄ ÌÜµÏû•ÏùÑ Ïä§Ï≥ê ÏßÄÎÇòÍ∞ÄÍ≥†~ ‚ô™" },
            { icon: "üåà", title: "Í∏çÏ†ï ÌöåÎ°ú", text: "Í∑∏ÎûòÎèÑ ÌöåÏÇ¨ Îã§ÎÖÄÏÑú Ïª§Ìîº ÎßàÏã§ ÎèàÏùÄ ÏûàÏûñÏïÑ (ÎààÎ¨º)" },
            { icon: "ü¶•", title: "ÎÇòÎ¨¥ÎäòÎ≥¥ Î™®Îìú", text: "ÏõÄÏßÅÏù¥Í∏∞ Ïã´Ïñ¥ÏÑú Ïª§Ìîº ÏãúÌÇ¥ (1m Í±∞Î¶¨)" },
            { icon: "üì±", title: "Ïπ¥ÌÜ° ÏïåÎ¶º", text: "'ÏßÄÍ∏à Î≠êÌï¥?' 'Ïª§Ìîº ÎßàÏãúÎ©∞ Ìá¥ÏÇ¨ Í≤ÄÏÉâ Ï§ë'" },
            { icon: "üéÅ", title: "ÌÅ¨Î¶¨Ïä§ÎßàÏä§ ÏÜåÏõê", text: "Ïò¨Ìï¥ ÏÜåÏõê: ÏïºÍ∑º ÏóÜÎäî ÏÇ∂ + Î¨¥Ìïú Ïª§Ìîº" },
        ];

        // Checkout
        let orderNumber = 1;

        function checkout() {
            if (cart.length === 0) return;

            // Ìà¥ÌåÅ Ïà®Í∏∞Í∏∞
            document.getElementById('eventTooltip').classList.add('hidden');

            // Í≤∞Ï†ú Î™®Îã¨ Ïó¥Í∏∞
            const total = cart.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);
            document.getElementById('paymentAmount').textContent = `${total.toLocaleString()}Ïõê`;
            document.getElementById('paymentModal').classList.add('active');
            document.getElementById('paymentProcessing').classList.remove('active');
            document.querySelector('.payment-methods').style.display = 'block';
            document.querySelector('.payment-footer').style.display = 'flex';
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        // Í≤∞Ï†ú ÏàòÎã® ÏÑ†ÌÉù
        document.querySelectorAll('.payment-method').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.payment-method').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        function processPayment() {
            // Í≤∞Ï†ú Ï≤òÎ¶¨ Ï§ë ÌëúÏãú
            document.querySelector('.payment-methods').style.display = 'none';
            document.querySelector('.payment-footer').style.display = 'none';
            document.getElementById('paymentProcessing').classList.add('active');

            // 1.5Ï¥à ÌõÑ Í≤∞Ï†ú ÏôÑÎ£å (Ïù¥Î≤§Ìä∏ Î¨¥Î£å!)
            setTimeout(() => {
                closePaymentModal();
                showEventFree();
            }, 1500);
        }

        function showEventFree() {
            const total = cart.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);
            
            document.getElementById('eventOriginalPrice').textContent = `${total.toLocaleString()}Ïõê`;
            document.getElementById('eventOrderNum').textContent = `Ï£ºÎ¨∏Î≤àÌò∏: #${String(orderNumber).padStart(3, '0')}`;
            orderNumber++;

            const eventOverlay = document.getElementById('eventOverlay');
            eventOverlay.classList.add('active');
            
            // ÏÉâÏ¢ÖÏù¥ Ìö®Í≥º ÏãúÏûë
            startConfetti();

            setTimeout(() => {
                eventOverlay.classList.remove('active');
                stopConfetti();
                clearCart();
                // ÌôòÏòÅ ÌôîÎ©¥ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                returnToWelcome();
            }, 5000);
        }

        let confettiInterval = null;

        function startConfetti() {
            const container = document.getElementById('confettiContainer');
            container.innerHTML = '';
            
            const colors = ['#E53935', '#FF6B6B', '#FFB74D', '#4FC3F7', '#81C784', '#BA68C8', '#FFD54F', '#F06292'];
            
            function createConfetti() {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const size = 8 + Math.random() * 8;
                const duration = 2500 + Math.random() * 2000;
                
                confetti.style.left = left + '%';
                confetti.style.width = size + 'px';
                confetti.style.height = size * (1.5 + Math.random()) + 'px';
                confetti.style.background = color;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
                confetti.style.opacity = '0.9';
                
                container.appendChild(confetti);
                
                // Îñ®Ïñ¥ÏßÄÎäî Ïï†ÎãàÎ©îÏù¥ÏÖò
                const swayAmount = 100 + Math.random() * 100;
                const rotateAmount = 360 + Math.random() * 720;
                
                confetti.animate([
                    { 
                        transform: 'translateY(0) translateX(0) rotate(0deg)', 
                        opacity: 1 
                    },
                    { 
                        transform: `translateY(${window.innerHeight + 50}px) translateX(${swayAmount * (Math.random() > 0.5 ? 1 : -1)}px) rotate(${rotateAmount}deg)`, 
                        opacity: 0.7 
                    }
                ], {
                    duration: duration,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                    fill: 'forwards'
                });
                
                setTimeout(() => {
                    confetti.remove();
                }, duration);
            }
            
            // Ï¥àÍ∏∞ ÏÉâÏ¢ÖÏù¥ Ìè≠Î∞ú
            for (let i = 0; i < 80; i++) {
                setTimeout(() => createConfetti(), i * 30);
            }
            
            // Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú ÏÉâÏ¢ÖÏù¥ ÏÉùÏÑ±
            confettiInterval = setInterval(() => {
                for (let i = 0; i < 8; i++) {
                    createConfetti();
                }
            }, 200);
        }

        function stopConfetti() {
            if (confettiInterval) {
                clearInterval(confettiInterval);
                confettiInterval = null;
            }
            setTimeout(() => {
                const container = document.getElementById('confettiContainer');
                container.innerHTML = '';
            }, 3000);
        }

        // Close modal on overlay click
        document.getElementById('productModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Order Type Selection
        let orderType = null;

        function selectOrderType(type) {
            orderType = type;
            document.getElementById('welcomeScreen').classList.add('hidden');
            
            // Ï£ºÎ¨∏ ÌÉÄÏûÖ Î∞∞ÏßÄ ÏóÖÎç∞Ïù¥Ìä∏
            const typeLabel = type === 'store' ? 'Îß§Ïû•' : 'Ìè¨Ïû•';
            document.getElementById('orderTypeBadge').textContent = typeLabel;
        }

        function returnToWelcome() {
            document.getElementById('welcomeScreen').classList.remove('hidden');
            orderType = null;
        }

        // Initialize
        renderMenu('season');
    </script>
</body>
</html>
