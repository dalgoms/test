<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timbel Coffee Kiosk</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1E3A5F;
            --primary-light: #2C5282;
            --bg-light: #F5F5F5;
            --bg-white: #FFFFFF;
            --text-dark: #333333;
            --text-gray: #888888;
            --border: #E0E0E0;
            --shadow: rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-light);
            min-height: 100vh;
            color: var(--text-dark);
        }

        .kiosk-container {
            display: grid;
            grid-template-columns: 1fr 320px;
            min-height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            background: var(--primary);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .home-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .home-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex-direction: column;
        }

        /* Category Tabs */
        .category-tabs {
            display: flex;
            background: var(--bg-white);
            border-bottom: 1px solid var(--border);
        }

        .category-tab {
            flex: 1;
            padding: 18px 20px;
            border: none;
            background: transparent;
            font-size: 16px;
            font-weight: 500;
            color: var(--text-gray);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .category-tab:hover {
            color: var(--primary);
        }

        .category-tab.active {
            color: var(--primary);
            font-weight: 600;
        }

        .category-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
        }

        /* Menu Grid */
        .menu-panel {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            background: var(--bg-white);
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .menu-item {
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .menu-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
            border-color: var(--primary-light);
        }

        .menu-item.selected {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px var(--primary);
        }

        .menu-item-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
            background: #fafafa;
        }

        .menu-item-info {
            padding: 14px 12px;
        }

        .menu-item-name {
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        .menu-item-price {
            font-weight: 700;
            font-size: 16px;
            color: var(--primary);
        }

        .menu-item-price span {
            font-size: 14px;
            font-weight: 500;
        }

        /* Right Panel */
        .right-panel {
            background: var(--bg-light);
            display: flex;
            flex-direction: column;
            border-left: 1px solid var(--border);
        }

        /* Selected Items Display */
        .selected-preview {
            flex: 1;
            padding: 16px;
            background: var(--bg-white);
            margin: 16px;
            border-radius: 12px;
            border: 1px solid var(--border);
            overflow-y: auto;
        }

        .preview-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-light);
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .preview-item-img {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
        }

        .preview-item-info {
            flex: 1;
        }

        .preview-item-name {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .preview-item-price {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
        }

        .preview-item-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .qty-btn {
            width: 26px;
            height: 26px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .qty-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .qty-value {
            font-weight: 600;
            min-width: 20px;
            text-align: center;
        }

        .remove-btn {
            width: 26px;
            height: 26px;
            border: none;
            background: #ff4444;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 8px;
        }

        /* Timer & Controls */
        .controls-section {
            padding: 16px;
        }

        .timer-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-label {
            font-size: 14px;
            color: var(--text-gray);
        }

        .timer-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
        }

        .timer-value span {
            font-size: 18px;
            font-weight: 500;
        }

        .clear-btn {
            padding: 12px 20px;
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .clear-btn:hover {
            background: #f0f0f0;
        }

        /* Cart Section */
        .cart-section {
            background: var(--bg-white);
            padding: 16px;
            border-radius: 12px 12px 0 0;
            border-top: 1px solid var(--border);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .cart-title {
            font-size: 16px;
            font-weight: 600;
        }

        .cart-count {
            font-size: 14px;
            color: var(--text-gray);
        }

        .cart-summary {
            margin-bottom: 16px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .summary-row.total {
            font-size: 18px;
            font-weight: 700;
            padding-top: 12px;
            border-top: 1px solid var(--border);
            margin-top: 12px;
        }

        .summary-row.total .amount {
            color: var(--primary);
        }

        .checkout-btn {
            width: 100%;
            padding: 18px;
            background: var(--text-gray);
            border: none;
            color: white;
            font-size: 18px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkout-btn.active {
            background: var(--primary);
        }

        .checkout-btn.active:hover {
            background: var(--primary-light);
        }

        .checkout-btn:disabled {
            cursor: not-allowed;
        }

        /* Option Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            max-height: 85vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            padding: 24px;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .modal-header img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .modal-header h3 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .modal-header .price {
            font-size: 22px;
            font-weight: 700;
            color: var(--primary);
        }

        .modal-body {
            padding: 24px;
        }

        .option-group {
            margin-bottom: 24px;
        }

        .option-group-title {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .required-badge {
            font-size: 11px;
            padding: 3px 8px;
            background: var(--primary);
            border-radius: 10px;
            color: white;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .option-btn {
            padding: 12px 18px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .option-btn:hover {
            border-color: var(--primary);
        }

        .option-btn.selected {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .option-btn .extra-price {
            font-size: 12px;
            opacity: 0.8;
            margin-left: 4px;
        }

        .modal-footer {
            padding: 20px 24px;
            display: flex;
            gap: 12px;
            border-top: 1px solid var(--border);
        }

        .modal-cancel-btn {
            flex: 1;
            padding: 16px;
            border: 1px solid var(--border);
            background: white;
            font-size: 16px;
            font-weight: 500;
            border-radius: 10px;
            cursor: pointer;
        }

        .modal-add-btn {
            flex: 2;
            padding: 16px;
            background: var(--primary);
            border: none;
            color: white;
            font-size: 16px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
        }

        .modal-add-btn:hover {
            background: var(--primary-light);
        }

        /* Success Overlay */
        .success-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .success-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .success-icon {
            font-size: 80px;
            margin-bottom: 24px;
        }

        .success-text {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .success-subtext {
            font-size: 16px;
            color: var(--text-gray);
        }

        .success-joke {
            margin-top: 32px;
            padding: 20px 32px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border-radius: 16px;
            color: white;
            font-size: 15px;
            line-height: 1.6;
            max-width: 400px;
            text-align: center;
            animation: fadeInUp 0.5s ease 0.3s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .success-joke .joke-title {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .success-joke .joke-content {
            font-weight: 600;
            font-size: 17px;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-gray);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .empty-state-text {
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .menu-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 900px) {
            .kiosk-container {
                grid-template-columns: 1fr;
            }
            
            .right-panel {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                max-height: 50vh;
                border-left: none;
                border-top: 1px solid var(--border);
                border-radius: 20px 20px 0 0;
                box-shadow: 0 -4px 20px var(--shadow);
            }

            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .menu-panel {
                padding-bottom: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="kiosk-container">
        <!-- Main Content -->
        <div class="main-content">
            <header class="header">
                <div class="header-left">
                    <span class="logo-text">Timbel Coffee Kiosk</span>
                </div>
                <div class="header-right">
                    <button class="header-btn">â•</button>
                </div>
            </header>

            <!-- Category Tabs -->
            <div class="category-tabs">
                <button class="category-tab active" data-category="season">ì‹œì¦Œ ë©”ë‰´</button>
                <button class="category-tab" data-category="hot">ì»¤í”¼(HOT)</button>
                <button class="category-tab" data-category="ice">ì»¤í”¼(ICE)</button>
                <button class="category-tab" data-category="beverage">ìŒë£Œ</button>
                <button class="category-tab" data-category="dessert">ë””ì €íŠ¸</button>
            </div>

            <!-- Menu Grid -->
            <div class="menu-panel">
                <div class="menu-grid" id="menuGrid">
                    <!-- Items populated by JS -->
                </div>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
            <!-- Selected Items Preview -->
            <div class="selected-preview" id="selectedPreview">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ›’</div>
                    <div class="empty-state-text">ë©”ë‰´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>
                </div>
            </div>

            <!-- Timer & Controls -->
            <div class="controls-section">
                <div class="timer-row">
                    <div class="timer">
                        <span class="timer-label">ë‚¨ì€ì‹œê°„</span>
                        <span class="timer-value" id="timerValue">60<span>ì´ˆ</span></span>
                    </div>
                    <button class="clear-btn" onclick="clearCart()">ì „ì²´ì‚­ì œ</button>
                </div>
            </div>

            <!-- Cart Section -->
            <div class="cart-section">
                <div class="cart-header">
                    <span class="cart-title">ì„ íƒí•œ ìƒí’ˆ</span>
                    <span class="cart-count" id="cartCount">0ê°œ</span>
                </div>
                <div class="cart-summary">
                    <div class="summary-row total">
                        <span>ì´ ê²°ì œê¸ˆì•¡</span>
                        <span class="amount" id="totalAmount">0ì›</span>
                    </div>
                </div>
                <button class="checkout-btn" id="checkoutBtn" disabled onclick="checkout()">
                    ê²°ì œí•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal-overlay" id="productModal">
        <div class="modal">
            <div class="modal-header">
                <img id="modalImage" src="" alt="">
                <h3 id="modalName">ìƒí’ˆëª…</h3>
                <div class="price" id="modalPrice">0ì›</div>
            </div>
            <div class="modal-body">
                <div class="option-group" id="sizeGroup">
                    <div class="option-group-title">
                        ì‚¬ì´ì¦ˆ <span class="required-badge">í•„ìˆ˜</span>
                    </div>
                    <div class="options" id="sizeOptions">
                        <button class="option-btn selected" data-size="regular" data-extra="0">Regular</button>
                        <button class="option-btn" data-size="large" data-extra="500">Large <span class="extra-price">+500ì›</span></button>
                    </div>
                </div>
                <div class="option-group" id="tempGroup">
                    <div class="option-group-title">
                        ì˜¨ë„ <span class="required-badge">í•„ìˆ˜</span>
                    </div>
                    <div class="options" id="tempOptions">
                        <button class="option-btn selected" data-temp="hot">HOT</button>
                        <button class="option-btn" data-temp="ice">ICE</button>
                    </div>
                </div>
                <div class="option-group">
                    <div class="option-group-title">
                        ì¶”ê°€ ì˜µì…˜
                    </div>
                    <div class="options" id="extraOptions">
                        <button class="option-btn" data-extra-option="shot" data-extra="500">ìƒ· ì¶”ê°€ <span class="extra-price">+500ì›</span></button>
                        <button class="option-btn" data-extra-option="syrup" data-extra="300">ì‹œëŸ½ ì¶”ê°€ <span class="extra-price">+300ì›</span></button>
                        <button class="option-btn" data-extra-option="whip" data-extra="500">íœ˜í•‘í¬ë¦¼ <span class="extra-price">+500ì›</span></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-cancel-btn" onclick="closeModal()">ì·¨ì†Œ</button>
                <button class="modal-add-btn" onclick="addToCart()">ë‹´ê¸°</button>
            </div>
        </div>
    </div>

    <!-- Success Overlay -->
    <div class="success-overlay" id="successOverlay">
        <div class="success-icon" id="successIcon">âœ…</div>
        <div class="success-text" id="successText">ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</div>
        <div class="success-subtext" id="successSubtext">ì ì‹œ í›„ ìŒë£Œê°€ ì¤€ë¹„ë©ë‹ˆë‹¤</div>
        <div class="success-joke" id="successJoke"></div>
    </div>

    <script>
        // Menu Data with real images
        const menuItems = [
            // ì‹œì¦Œ ë©”ë‰´
            { id: 1, name: 'ê³¨ë“œë§ê³  ìŠ¤ë¬´ë””', price: 4000, image: 'https://images.unsplash.com/photo-1623065422902-30a2d299bbe4?w=300&h=300&fit=crop', category: 'season' },
            { id: 2, name: 'ì½”ì½”ë„› ì»¤í”¼ ìŠ¤ë¬´ë””', price: 4800, image: 'https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=300&h=300&fit=crop', category: 'season' },
            { id: 3, name: 'ë§ê³  ì½”ì½”ë„› ì£¼ìŠ¤', price: 3800, image: 'https://images.unsplash.com/photo-1546173159-315724a31696?w=300&h=300&fit=crop', category: 'season' },
            { id: 4, name: 'ë§ê³  íˆë¹„ìŠ¤ ì»¤ìŠ¤í‹°', price: 5800, image: 'https://images.unsplash.com/photo-1497534446932-c925b458314e?w=300&h=300&fit=crop', category: 'season' },
            { id: 5, name: 'ë”¸ê¸° ì¿ í‚¤ í”„ë¼í˜', price: 4900, image: 'https://images.unsplash.com/photo-1572490122747-3968b75cc699?w=300&h=300&fit=crop', category: 'season' },
            { id: 6, name: 'í‘ë‹¹ ë²„ë¸” ë¼ë–¼', price: 4800, image: 'https://images.unsplash.com/photo-1558857563-b371033873b8?w=300&h=300&fit=crop', category: 'season' },
            { id: 7, name: 'í‘ë‹¹ ë¼ë–¼', price: 5000, image: 'https://images.unsplash.com/photo-1534687941688-651ccaafbff8?w=300&h=300&fit=crop', category: 'season' },

            // ì»¤í”¼ HOT
            { id: 10, name: 'ì•„ë©”ë¦¬ì¹´ë…¸', price: 4000, image: 'https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?w=300&h=300&fit=crop', category: 'hot' },
            { id: 11, name: 'ì¹´í˜ë¼ë–¼', price: 4500, image: 'https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=300&h=300&fit=crop', category: 'hot' },
            { id: 12, name: 'ë°”ë‹ë¼ ë¼ë–¼', price: 5000, image: 'https://images.unsplash.com/photo-1485808191679-5f86510681a2?w=300&h=300&fit=crop', category: 'hot' },
            { id: 13, name: 'ì¹´ë¼ë©œ ë§ˆí‚¤ì•„í† ', price: 5200, image: 'https://images.unsplash.com/photo-1485808191679-5f86510681a2?w=300&h=300&fit=crop', category: 'hot' },
            { id: 14, name: 'ì¹´í‘¸ì¹˜ë…¸', price: 4500, image: 'https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=300&h=300&fit=crop', category: 'hot' },
            { id: 15, name: 'ì—ìŠ¤í”„ë ˆì†Œ', price: 3000, image: 'https://images.unsplash.com/photo-1510707577719-ae7c14805e3a?w=300&h=300&fit=crop', category: 'hot' },
            { id: 16, name: 'ì¹´í˜ëª¨ì¹´', price: 5000, image: 'https://images.unsplash.com/photo-1578314675249-a6910f80cc4e?w=300&h=300&fit=crop', category: 'hot' },
            { id: 17, name: 'ëŒì²´ë¼ë–¼', price: 5200, image: 'https://images.unsplash.com/photo-1534687941688-651ccaafbff8?w=300&h=300&fit=crop', category: 'hot' },

            // ì»¤í”¼ ICE
            { id: 20, name: 'ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸', price: 4000, image: 'https://images.unsplash.com/photo-1517701550927-30cf4ba1dba5?w=300&h=300&fit=crop', category: 'ice' },
            { id: 21, name: 'ì•„ì´ìŠ¤ ì¹´í˜ë¼ë–¼', price: 4500, image: 'https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=300&h=300&fit=crop', category: 'ice' },
            { id: 22, name: 'ì½œë“œë¸Œë£¨', price: 4800, image: 'https://images.unsplash.com/photo-1578314675249-a6910f80cc4e?w=300&h=300&fit=crop', category: 'ice' },
            { id: 23, name: 'ì½œë“œë¸Œë£¨ ë¼ë–¼', price: 5200, image: 'https://images.unsplash.com/photo-1592663527359-cf6642f54cff?w=300&h=300&fit=crop', category: 'ice' },
            { id: 24, name: 'ë°”ë‹ë¼ í”„ë¼í‘¸ì¹˜ë…¸', price: 5500, image: 'https://images.unsplash.com/photo-1572490122747-3968b75cc699?w=300&h=300&fit=crop', category: 'ice' },
            { id: 25, name: 'ì¹´ë¼ë©œ í”„ë¼í‘¸ì¹˜ë…¸', price: 5500, image: 'https://images.unsplash.com/photo-1530373239216-42518e6b4063?w=300&h=300&fit=crop', category: 'ice' },
            { id: 26, name: 'ìë°”ì¹© í”„ë¼í‘¸ì¹˜ë…¸', price: 5800, image: 'https://images.unsplash.com/photo-1577968897966-3d4325b36b61?w=300&h=300&fit=crop', category: 'ice' },

            // ìŒë£Œ
            { id: 30, name: 'ì´ˆì½”ë¼ë–¼', price: 4800, image: 'https://images.unsplash.com/photo-1542990253-aass58dfc992?w=300&h=300&fit=crop', category: 'beverage' },
            { id: 31, name: 'ë…¹ì°¨ë¼ë–¼', price: 4800, image: 'https://images.unsplash.com/photo-1536256263959-770b48d82b0a?w=300&h=300&fit=crop', category: 'beverage' },
            { id: 32, name: 'ë”¸ê¸° ìŠ¤ë¬´ë””', price: 5000, image: 'https://images.unsplash.com/photo-1553530666-ba11a7da3888?w=300&h=300&fit=crop', category: 'beverage' },
            { id: 33, name: 'ë§ê³  ìŠ¤ë¬´ë””', price: 5000, image: 'https://images.unsplash.com/photo-1623065422902-30a2d299bbe4?w=300&h=300&fit=crop', category: 'beverage' },
            { id: 34, name: 'ë ˆëª¬ì—ì´ë“œ', price: 4500, image: 'https://images.unsplash.com/photo-1621263764928-df1444c5e859?w=300&h=300&fit=crop', category: 'beverage' },
            { id: 35, name: 'ìëª½ì—ì´ë“œ', price: 4800, image: 'https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?w=300&h=300&fit=crop', category: 'beverage' },

            // ë””ì €íŠ¸
            { id: 40, name: 'í‹°ë¼ë¯¸ìˆ˜', price: 5500, image: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=300&h=300&fit=crop', category: 'dessert', isDessert: true },
            { id: 41, name: 'ì¹˜ì¦ˆì¼€ì´í¬', price: 5000, image: 'https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=300&h=300&fit=crop', category: 'dessert', isDessert: true },
            { id: 42, name: 'í¬ë£¨ì•„ìƒ', price: 3500, image: 'https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=300&h=300&fit=crop', category: 'dessert', isDessert: true },
            { id: 43, name: 'ë§ˆì¹´ë¡± ì„¸íŠ¸', price: 6000, image: 'https://images.unsplash.com/photo-1569864358642-9d1684040f43?w=300&h=300&fit=crop', category: 'dessert', isDessert: true },
            { id: 44, name: 'ì´ˆì½” ë¸Œë¼ìš°ë‹ˆ', price: 4000, image: 'https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=300&h=300&fit=crop', category: 'dessert', isDessert: true },
        ];

        let cart = [];
        let currentItem = null;
        let selectedSize = 'regular';
        let selectedTemp = 'hot';
        let selectedExtras = [];
        let timerSeconds = 60;
        let timerInterval = null;

        // Render Menu
        function renderMenu(category = 'season') {
            const grid = document.getElementById('menuGrid');
            const filtered = menuItems.filter(item => item.category === category);
            
            grid.innerHTML = filtered.map(item => `
                <div class="menu-item" onclick="openModal(${item.id})">
                    <img class="menu-item-image" src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300x300/f5f5f5/999999?text=No+Image'">
                    <div class="menu-item-info">
                        <div class="menu-item-name">${item.name}</div>
                        <div class="menu-item-price">${item.price.toLocaleString()}<span>ì›</span></div>
                    </div>
                </div>
            `).join('');
        }

        // Category Tabs
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                renderMenu(this.dataset.category);
            });
        });

        // Timer
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            timerSeconds = 60;
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timerSeconds--;
                updateTimerDisplay();
                
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    clearCart();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            document.getElementById('timerValue').innerHTML = `${timerSeconds}<span>ì´ˆ</span>`;
        }

        function resetTimer() {
            timerSeconds = 60;
            updateTimerDisplay();
        }

        // Modal Functions
        function openModal(itemId) {
            currentItem = menuItems.find(item => item.id === itemId);
            if (!currentItem) return;

            document.getElementById('modalImage').src = currentItem.image;
            document.getElementById('modalName').textContent = currentItem.name;
            document.getElementById('modalPrice').textContent = `${currentItem.price.toLocaleString()}ì›`;

            // Reset selections
            selectedSize = 'regular';
            selectedTemp = 'hot';
            selectedExtras = [];

            // Update UI
            document.querySelectorAll('#sizeOptions .option-btn').forEach(btn => {
                btn.classList.toggle('selected', btn.dataset.size === 'regular');
            });
            document.querySelectorAll('#tempOptions .option-btn').forEach(btn => {
                btn.classList.toggle('selected', btn.dataset.temp === 'hot');
            });
            document.querySelectorAll('#extraOptions .option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });

            // Hide options for desserts
            const sizeGroup = document.getElementById('sizeGroup');
            const tempGroup = document.getElementById('tempGroup');
            if (currentItem.isDessert) {
                sizeGroup.style.display = 'none';
                tempGroup.style.display = 'none';
            } else {
                sizeGroup.style.display = 'block';
                tempGroup.style.display = 'block';
            }

            document.getElementById('productModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('productModal').classList.remove('active');
            currentItem = null;
        }

        // Size Options
        document.querySelectorAll('#sizeOptions .option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('#sizeOptions .option-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                selectedSize = this.dataset.size;
            });
        });

        // Temperature Options
        document.querySelectorAll('#tempOptions .option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('#tempOptions .option-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                selectedTemp = this.dataset.temp;
            });
        });

        // Extra Options
        document.querySelectorAll('#extraOptions .option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.classList.toggle('selected');
                const option = this.dataset.extraOption;
                if (selectedExtras.includes(option)) {
                    selectedExtras = selectedExtras.filter(e => e !== option);
                } else {
                    selectedExtras.push(option);
                }
            });
        });

        // Add to Cart
        function addToCart() {
            if (!currentItem) return;

            const sizeBtn = document.querySelector(`#sizeOptions .option-btn[data-size="${selectedSize}"]`);
            const sizeExtra = currentItem.isDessert ? 0 : parseInt(sizeBtn?.dataset.extra || 0);

            let extrasTotal = 0;
            selectedExtras.forEach(extra => {
                const btn = document.querySelector(`#extraOptions .option-btn[data-extra-option="${extra}"]`);
                extrasTotal += parseInt(btn?.dataset.extra || 0);
            });

            const totalPrice = currentItem.price + sizeExtra + extrasTotal;

            const cartItem = {
                id: Date.now(),
                itemId: currentItem.id,
                name: currentItem.name,
                image: currentItem.image,
                size: currentItem.isDessert ? '' : selectedSize,
                temp: currentItem.isDessert ? '' : selectedTemp,
                extras: [...selectedExtras],
                basePrice: currentItem.price,
                totalPrice: totalPrice,
                quantity: 1
            };

            cart.push(cartItem);
            updateCart();
            closeModal();
            resetTimer();
            
            if (!timerInterval) {
                startTimer();
            }
        }

        // Update Cart UI
        function updateCart() {
            const previewEl = document.getElementById('selectedPreview');
            const cartCountEl = document.getElementById('cartCount');
            const totalAmountEl = document.getElementById('totalAmount');
            const checkoutBtn = document.getElementById('checkoutBtn');

            if (cart.length === 0) {
                previewEl.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ›’</div>
                        <div class="empty-state-text">ë©”ë‰´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>
                    </div>
                `;
                cartCountEl.textContent = '0ê°œ';
                totalAmountEl.textContent = '0ì›';
                checkoutBtn.disabled = true;
                checkoutBtn.classList.remove('active');
                return;
            }

            const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
            const total = cart.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);

            previewEl.innerHTML = cart.map(item => {
                const options = [];
                if (item.size) options.push(item.size === 'large' ? 'Large' : 'Regular');
                if (item.temp) options.push(item.temp === 'hot' ? 'HOT' : 'ICE');

                return `
                    <div class="preview-item">
                        <img class="preview-item-img" src="${item.image}" alt="${item.name}">
                        <div class="preview-item-info">
                            <div class="preview-item-name">${item.name}${options.length ? ` (${options.join('/')})` : ''}</div>
                            <div class="preview-item-price">${(item.totalPrice * item.quantity).toLocaleString()}ì›</div>
                        </div>
                        <div class="preview-item-controls">
                            <button class="qty-btn" onclick="updateQuantity(${item.id}, -1)">âˆ’</button>
                            <span class="qty-value">${item.quantity}</span>
                            <button class="qty-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            <button class="remove-btn" onclick="removeFromCart(${item.id})">âœ•</button>
                        </div>
                    </div>
                `;
            }).join('');

            cartCountEl.textContent = `${totalQty}ê°œ`;
            totalAmountEl.textContent = `${total.toLocaleString()}ì›`;
            checkoutBtn.disabled = false;
            checkoutBtn.classList.add('active');
        }

        function updateQuantity(id, delta) {
            const item = cart.find(i => i.id === id);
            if (!item) return;

            item.quantity += delta;
            if (item.quantity <= 0) {
                removeFromCart(id);
            } else {
                updateCart();
            }
            resetTimer();
        }

        function removeFromCart(id) {
            cart = cart.filter(i => i.id !== id);
            updateCart();
            resetTimer();
        }

        function clearCart() {
            cart = [];
            updateCart();
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            timerSeconds = 60;
            updateTimerDisplay();
        }

        // ì§ì¥ì¸ ê³µê° ë¬¸êµ¬ë“¤ (ë” ì›ƒê¸´ ë²„ì „)
        const officeJokes = [
            { icon: "ğŸ’€", title: "í˜„íƒ€ ì£¼ì˜", text: "ì§€ê¸ˆ ë§ˆì‹œëŠ” ì»¤í”¼ê°’ì´ë©´ ì£¼ì‹ ìƒ€ì–´ì•¼ í–ˆëŠ”ë°..." },
            { icon: "ğŸ¤¡", title: "ìì•„ì„±ì°°", text: "ì»¤í”¼ ì—†ìœ¼ë©´ ì¼ ëª» í•´ìš” (ì›ë˜ ëª» í•¨)" },
            { icon: "ğŸ˜‡", title: "ì²œì‚¬ì˜ ì†ì‚­ì„", text: "í‡´ì‚¬ê°ì´ì§€ë§Œ ì¼ë‹¨ ì»¤í”¼ë¶€í„°..." },
            { icon: "ğŸª¦", title: "R.I.P", text: "ë‚´ ì—´ì • ì—¬ê¸° ì ë“¤ë‹¤. ì»¤í”¼ë§Œ ë‚¨ì•˜ë‹¤." },
            { icon: "ğŸ°", title: "ë„ë°•", text: "ì˜¤ëŠ˜ ì•¼ê·¼ í™•ë¥  99%... ì»¤í”¼ë‚˜ ê±¸ì" },
            { icon: "ğŸ§Ÿ", title: "ì¢€ë¹„ ëª¨ë“œ", text: "ë‡Œ: ì˜¤í”„ë¼ì¸ / ì»¤í”¼: ë¶€íŒ… ì¤‘..." },
            { icon: "ğŸ’¸", title: "ê°€ê³„ë¶€ ë¶„ì„", text: "ì›”ê¸‰ì˜ 30%ê°€ ì»¤í”¼... ë‚˜ë¨¸ì§€ëŠ” ì„¸ê¸ˆ" },
            { icon: "ğŸ¤–", title: "AI ëŒ€ì²´ ë¶ˆê°€", text: "ChatGPTë„ ëŒ€ì‹  ëª» ë§ˆì‹œëŠ” ì»¤í”¼" },
            { icon: "ğŸ”®", title: "ì ì§‘ ì˜ˆì–¸", text: "ì˜¤ëŠ˜ì˜ ìš´ì„¸: ì»¤í”¼ = ìƒì¡´ / ì•ˆ ë§ˆì‹œë©´ = í‡´ì‚¬" },
            { icon: "ğŸ†", title: "ìë‘ìŠ¤ëŸ¬ìš´ ê¸°ë¡", text: "ì˜¬í•´ ë§ˆì‹  ì»¤í”¼ë¡œ í•œê°• ì±„ìš¸ ìˆ˜ ìˆìŒ" },
            { icon: "ğŸ˜µ", title: "TMI", text: "í˜ˆê´€ì— í”¼ ëŒ€ì‹  ì•„ë©”ë¦¬ì¹´ë…¸ íë¥´ëŠ” ì¤‘" },
            { icon: "ğŸ­", title: "ì—°ê¸°ëŒ€ìƒ", text: "ì»¤í”¼ ë§ˆì‹œë©° ì¼í•˜ëŠ” ì²™ ì™„ë²½ ì—°ê¸° ì¤‘" },
            { icon: "ğŸš€", title: "ìŠ¤íƒ€íŠ¸ì—… ê°ì„±", text: "ì•¼ê·¼ì€ ì—´ì •ì´ ì•„ë‹ˆë¼ ì»¤í”¼ê°€ ì‹œí‚¨ ê±°ì„" },
            { icon: "ğŸ‘»", title: "ì†Œë¦„ ì£¼ì˜", text: "íŒ€ì¥ë‹˜ ì»¤í”¼ ì‚¬ì¤„ ë•Œ = ì•¼ê·¼ 99% í™•ì •" },
            { icon: "ğŸ¶", title: "ê°•ì•„ì§€ ëˆˆë¹›", text: "ì‚¬ì¥ë‹˜ ì € ì—°ë´‰ ì˜¬ë ¤ì£¼ì„¸ìš” (ì»¤í”¼ í™€ì§)" },
            { icon: "ğŸª", title: "ì„œì»¤ìŠ¤ë‹¨", text: "íšŒì˜ ì¤‘ ì¡¸ë‹¤ ê±¸ë ¤ì„œ ì»¤í”¼ ì›ìƒ·í•¨" },
            { icon: "ğŸŒ‹", title: "í­ë°œ ì§ì „", text: "ì»¤í”¼ ë§ˆì‹œê¸° ì „ì— ë§ ê±¸ë©´ ì±…ì„ ëª» ì§" },
            { icon: "ğŸ¦´", title: "ë¼ˆ ë•Œë¦¬ëŠ”", text: "ì—´ì‹¬íˆ ì¼í•´ë„ ì»¤í”¼ê°’ ë²„ëŠ” ì¤‘..." },
            { icon: "ğŸ¬", title: "ë“œë¼ë§ˆ ì´¬ì˜", text: "í‡´ì‚¬ ìƒìƒí•˜ë©° ì»¤í”¼ ë§ˆì‹œëŠ” ì¥ë©´ ì´¬ì˜ ì¤‘" },
            { icon: "ğŸ§®", title: "ìˆ˜í•™ì˜ ì •ì„", text: "ì—°ë´‰ Ã· 365 Ã· 8 = ì»¤í”¼ í•œ ì” ëª» ì‚¬ë¨¹ìŒ" },
            { icon: "ğŸµ", title: "ì˜¤ëŠ˜ì˜ BGM", text: "â™ª ì›”ê¸‰ì€ í†µì¥ì„ ìŠ¤ì³ ì§€ë‚˜ê°€ê³ ~ â™ª" },
            { icon: "ğŸŒˆ", title: "ê¸ì • íšŒë¡œ", text: "ê·¸ë˜ë„ íšŒì‚¬ ë‹¤ë…€ì„œ ì»¤í”¼ ë§ˆì‹¤ ëˆì€ ìˆì–ì•„ (ëˆˆë¬¼)" },
            { icon: "ğŸ¦¥", title: "ë‚˜ë¬´ëŠ˜ë³´ ëª¨ë“œ", text: "ì›€ì§ì´ê¸° ì‹«ì–´ì„œ ì»¤í”¼ ì‹œí‚´ (1m ê±°ë¦¬)" },
            { icon: "ğŸ“±", title: "ì¹´í†¡ ì•Œë¦¼", text: "'ì§€ê¸ˆ ë­í•´?' 'ì»¤í”¼ ë§ˆì‹œë©° í‡´ì‚¬ ê²€ìƒ‰ ì¤‘'" },
            { icon: "ğŸ", title: "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì†Œì›", text: "ì˜¬í•´ ì†Œì›: ì•¼ê·¼ ì—†ëŠ” ì‚¶ + ë¬´í•œ ì»¤í”¼" },
        ];

        // Checkout
        function checkout() {
            if (cart.length === 0) return;

            const successOverlay = document.getElementById('successOverlay');
            const jokeEl = document.getElementById('successJoke');
            const iconEl = document.getElementById('successIcon');
            
            // ëœë¤ ë¬¸êµ¬ ì„ íƒ
            const joke = officeJokes[Math.floor(Math.random() * officeJokes.length)];
            
            iconEl.textContent = joke.icon;
            jokeEl.innerHTML = `
                <div class="joke-title">${joke.title}</div>
                <div class="joke-content">"${joke.text}"</div>
            `;
            
            successOverlay.classList.add('active');

            setTimeout(() => {
                successOverlay.classList.remove('active');
                clearCart();
            }, 4000);
        }

        // Close modal on overlay click
        document.getElementById('productModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initialize
        renderMenu('season');
    </script>
</body>
</html>
